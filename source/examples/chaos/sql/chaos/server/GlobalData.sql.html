<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >GlobalData</title
    ><link href="../../../../../../main.css" rel="stylesheet" type="text/css"
     /></head
  ><body
  ><div class="header"
    ><a href="../../../../../../index.txt.html"
      >HsSqlPpp-0.3.0</a
      ></div
    ><br
     /><br
     /><br
     /><p
    >/*</p
    ><p
    >Visibility notes - find somewhere to put these Players should not be able to see each others spells before the cast phase. This is difficult when they are all on the same computer, but should be easy when they are not.</p
    ><p
    >Imaginary attribute should only be visible to owning player, same notes as previous.</p
    ><div id="global-data"
    ><h1
      >global data</h1
      ><p
      >*/</p
      ><div class='sourceCode'><div class='literate'><div class='sql'><pre class="sourceCode">
select module('Chaos.Server.GlobalData');
</pre></div></div></div><p
      >/*</p
      ><div id="board-size"
      ><h2
	>board size</h2
	><p
	>changing the board size from the default has never been tested...</p
	><p
	>*/</p
	><div class='sourceCode'><div class='literate'><div class='sql'><pre class="sourceCode">
create table board_size (
  width int,
  height int,
  unique (width, height)
);
select set_relvar_type('board_size', 'data');
select restrict_cardinality('board_size', 1);


--update operator out param: board_size
create function init_board_size() returns void as $$
begin
  -- default board size
  insert into board_size (width, height) values (15, 10);
end;
$$ language plpgsql volatile;

</pre></div></div></div><p
	>/*</p
	></div
      ><div id="law-chaos-rating"
      ><h2
	>law/ chaos rating</h2
	><p
	>The world has a law/ chaos rating which can be chaos-N, neutral or law-N. It starts neutral. When the world is chaos, then chaos spells become easier to cast, and law spells harder, and vice versa. It becomes more chaos when chaos spells are cast, and more law when law spells are cast.</p
	><p
	>*/</p
	><div class='sourceCode'><div class='literate'><div class='sql'><pre class="sourceCode">

create domain alignment as text check (value in ('law', 'neutral', 'chaos'));

--if world alignment = 0, world is neutral, if -ve world is chaos by that amount
--if +ve world is law by that amount
select create_var('world_alignment', 'int');
select set_relvar_type('world_alignment_table', 'data');

create function init_world_alignment() returns void as $$
begin
  insert into world_alignment_table values (0);
end;
$$ language plpgsql volatile;
</pre></div></div></div></div
      ></div
    ><br
     /><br
     /><br
     /><div class="footer"
    >generated on 01/29/11 20:06:46, hssqlppp-0.3.0</div
    ></body
  ></html
>
