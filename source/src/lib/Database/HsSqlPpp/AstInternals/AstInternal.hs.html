<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >AstInternal</title
    ><link href="../../../../../../main.css" rel="stylesheet" type="text/css"
     /></head
  ><body
  ><div class="header"
    ><a href="../../../../../../index.html"
      >HsSqlPpp-0.3.0</a
      ></div
    ><br
     /><br
     /><br
     /><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">

<span class="Comment">-- UUAGC 0.9.19 (AstInternal.ag)</span>
<span class="Keyword">module</span> <span class="ConId">Database.HsSqlPpp.AstInternals.AstInternal</span><span class="Symbol">(</span>
    <span class="Comment">-- </span></pre></div></div></div><p
    >{-# LANGUAGE DeriveDataTypeable,RankNTypes,ScopedTypeVariables #-}</p
    ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
    <span class="Comment">--from the ag files:</span>
    <span class="Comment">--ast nodes</span>
    <span class="ConId">Statement</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">QueryExpr</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">WithQueryList</span>
   <span class="Symbol">,</span><span class="ConId">WithQuery</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">FnBody</span> <span class="Symbol">(..)</span>
   <span class="Comment">--,SetClause (..)</span>
   <span class="Symbol">,</span><span class="ConId">TableRef</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">TableAlias</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">JoinExpr</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">JoinType</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">SelectList</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">SelectItem</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">CopySource</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">AttributeDef</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">RowConstraint</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">AlterTableAction</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Constraint</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">TypeAttributeDef</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">ParamDef</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">VarDef</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">RaiseType</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">CombineType</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Volatility</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Language</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">TypeName</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">DropType</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Cascade</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Direction</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Distinct</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Natural</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">IfExists</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">Replace</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">RestartIdentity</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExpr</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">FrameClause</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">InList</span> <span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">LiftFlavour</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">TriggerWhen</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">TriggerEvent</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">TriggerFire</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">StatementList</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprListStatementListPairList</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprListStatementListPair</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprList</span>
   <span class="Symbol">,</span><span class="ConId">ParamDefList</span>
   <span class="Symbol">,</span><span class="ConId">AttributeDefList</span>
   <span class="Symbol">,</span><span class="ConId">ConstraintList</span>
   <span class="Symbol">,</span><span class="ConId">TypeAttributeDefList</span>
   <span class="Symbol">,</span><span class="ConId">TypeNameList</span>
   <span class="Symbol">,</span><span class="ConId">StringTypeNameListPair</span>
   <span class="Symbol">,</span><span class="ConId">StringTypeNameListPairList</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprStatementListPairList</span>
   <span class="Comment">--,SetClauseList</span>
   <span class="Symbol">,</span><span class="ConId">CaseScalarExprListScalarExprPairList</span>
   <span class="Symbol">,</span><span class="ConId">MaybeScalarExpr</span>
   <span class="Symbol">,</span><span class="ConId">TableRefList</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprListList</span>
   <span class="Symbol">,</span><span class="ConId">SelectItemList</span>
   <span class="Symbol">,</span><span class="ConId">OnExpr</span>
   <span class="Symbol">,</span><span class="ConId">RowConstraintList</span>
   <span class="Symbol">,</span><span class="ConId">VarDefList</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprStatementListPair</span>
   <span class="Symbol">,</span><span class="ConId">CaseScalarExprListScalarExprPair</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprDirectionPair</span>
   <span class="Symbol">,</span><span class="ConId">ScalarExprDirectionPairList</span>
   <span class="Symbol">,</span><span class="ConId">MaybeBoolExpr</span>
   <span class="Symbol">,</span><span class="ConId">MaybeSelectList</span>
   <span class="Symbol">,</span><span class="ConId">SetValue</span><span class="Symbol">(..)</span>
   <span class="Symbol">,</span><span class="ConId">AlterTableActionList</span>
   <span class="Comment">-- typechecking</span>
   <span class="Symbol">,</span><span class="VarId">typeCheckStatements</span>
   <span class="Symbol">,</span><span class="VarId">typeCheckParameterizedStatement</span>
   <span class="Symbol">,</span><span class="VarId">typeCheckScalarExpr</span>
   <span class="Symbol">,</span><span class="VarId">canonicaliseIdentifiers</span>
<span class="Symbol">)</span> <span class="Keyword">where</span>

<span class="Keyword">import</span> <span class="ConId">Data.Maybe</span>
<span class="Keyword">import</span> <span class="ConId">Data.List</span>
<span class="Keyword">import</span> <span class="ConId">Control.Applicative</span>
<span class="Keyword">import</span> <span class="ConId">Data.Data</span>
<span class="Keyword">import</span> <span class="ConId">Data.Char</span>
<span class="Keyword">import</span> <span class="ConId">Control.Monad.State</span>

<span class="Keyword">import</span> <span class="ConId">Data.Generics.PlateData</span>
<span class="Keyword">import</span> <span class="ConId">Debug.Trace</span>


<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.AstInternals.TypeType</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.AstInternals.TypeChecking.TypeConversion</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.AstInternals.AstAnnotation</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.AstInternals.Catalog.CatalogInternal</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.AstInternals.TypeChecking.LocalBindings</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.Utils.Utils</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.AstInternals.TypeChecking.ErrorUtils</span>



<span class="Keyword">data</span> <span class="ConId">TableAlias</span> <span class="Symbol">=</span> <span class="ConId">NoAlias</span>
                <span class="Symbol">|</span> <span class="ConId">TableAlias</span> <span class="ConId">String</span> <span class="Comment">--alias:String</span>
                <span class="Symbol">|</span> <span class="ConId">FullAlias</span> <span class="ConId">String</span> <span class="Symbol">[</span><span class="ConId">String</span><span class="Symbol">]</span> <span class="Comment">-- alias:String cols:{[String]}</span>
                  <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">JoinType</span> <span class="Symbol">=</span> <span class="ConId">Inner</span> <span class="Symbol">|</span> <span class="ConId">LeftOuter</span><span class="Symbol">|</span> <span class="ConId">RightOuter</span> <span class="Symbol">|</span> <span class="ConId">FullOuter</span> <span class="Symbol">|</span> <span class="ConId">Cross</span>
                <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">CopySource</span> <span class="Symbol">=</span> <span class="ConId">CopyFilename</span> <span class="ConId">String</span>
                <span class="Symbol">|</span> <span class="ConId">Stdin</span>
                  <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">SetValue</span>
    <span class="Symbol">=</span> <span class="ConId">SetStr</span> <span class="ConId">Annotation</span> <span class="ConId">String</span>
    <span class="Symbol">|</span> <span class="ConId">SetId</span> <span class="ConId">Annotation</span> <span class="ConId">String</span>
    <span class="Symbol">|</span> <span class="ConId">SetNum</span> <span class="ConId">Annotation</span> <span class="ConId">Double</span>
      <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">TriggerWhen</span> <span class="Symbol">=</span> <span class="ConId">TriggerBefore</span> <span class="Symbol">|</span> <span class="ConId">TriggerAfter</span>
                   <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">TriggerEvent</span> <span class="Symbol">=</span> <span class="ConId">TInsert</span><span class="Symbol">|</span> <span class="ConId">TUpdate</span> <span class="Symbol">|</span> <span class="ConId">TDelete</span>
                    <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">TriggerFire</span> <span class="Symbol">=</span> <span class="ConId">EachRow</span> <span class="Symbol">|</span> <span class="ConId">EachStatement</span>
                   <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">RaiseType</span> <span class="Symbol">=</span> <span class="ConId">RNotice</span> <span class="Symbol">|</span> <span class="ConId">RException</span> <span class="Symbol">|</span> <span class="ConId">RError</span>
                 <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">CombineType</span> <span class="Symbol">=</span> <span class="ConId">Except</span> <span class="Symbol">|</span> <span class="ConId">Union</span> <span class="Symbol">|</span> <span class="ConId">Intersect</span> <span class="Symbol">|</span> <span class="ConId">UnionAll</span>
                   <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">Volatility</span> <span class="Symbol">=</span> <span class="ConId">Volatile</span> <span class="Symbol">|</span> <span class="ConId">Stable</span> <span class="Symbol">|</span> <span class="ConId">Immutable</span>
                  <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">Language</span> <span class="Symbol">=</span> <span class="ConId">Sql</span> <span class="Symbol">|</span> <span class="ConId">Plpgsql</span>
                <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">DropType</span> <span class="Symbol">=</span> <span class="ConId">Table</span>
              <span class="Symbol">|</span> <span class="ConId">Domain</span>
              <span class="Symbol">|</span> <span class="ConId">View</span>
              <span class="Symbol">|</span> <span class="ConId">Type</span>
                <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">Cascade</span> <span class="Symbol">=</span> <span class="ConId">Cascade</span> <span class="Symbol">|</span> <span class="ConId">Restrict</span>
               <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">Direction</span> <span class="Symbol">=</span> <span class="ConId">Asc</span> <span class="Symbol">|</span> <span class="ConId">Desc</span>
                 <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">Distinct</span> <span class="Symbol">=</span> <span class="ConId">Distinct</span> <span class="Symbol">|</span> <span class="ConId">Dupes</span>
                <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">Natural</span> <span class="Symbol">=</span> <span class="ConId">Natural</span> <span class="Symbol">|</span> <span class="ConId">Unnatural</span>
               <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">IfExists</span> <span class="Symbol">=</span> <span class="ConId">Require</span> <span class="Symbol">|</span> <span class="ConId">IfExists</span>
                <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">Replace</span> <span class="Symbol">=</span> <span class="ConId">Replace</span> <span class="Symbol">|</span> <span class="ConId">NoReplace</span>
               <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>

<span class="Keyword">data</span> <span class="ConId">RestartIdentity</span> <span class="Symbol">=</span> <span class="ConId">RestartIdentity</span> <span class="Symbol">|</span> <span class="ConId">ContinueIdentity</span>
                       <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">LiftFlavour</span> <span class="Symbol">=</span> <span class="ConId">LiftAny</span> <span class="Symbol">|</span> <span class="ConId">LiftAll</span>
                   <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


<span class="Keyword">data</span> <span class="ConId">FrameClause</span> <span class="Symbol">=</span> <span class="ConId">FrameUnboundedPreceding</span>
                 <span class="Symbol">|</span> <span class="ConId">FrameUnboundedFull</span>
                 <span class="Symbol">|</span> <span class="ConId">FrameRowsUnboundedPreceding</span>
                   <span class="Keyword">deriving</span> <span class="Symbol">(</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">,</span><span class="ConId">Data</span><span class="Symbol">)</span>


</pre></div></div></div><p
    >{- -- | Type check multiple asts, allowing type checking references in -- later files to definitions in earlier files. This is probably -- more straightforward if you parse the files then concatenate the -- statementlists together before type checking rather than using -- this function typeCheckMany :: Catalog -&gt; [StatementList] -&gt; [StatementList] typeCheckMany cat sts = annInt cat sts [] where annInt e (s:ss) ress = let (e1,res) = typeCheck e s in annInt e1 ss (res:ress) annInt _ [] ress = reverse ress -}</p
    ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">

<span class="Comment">-- | Takes an ast, checks against catalog passed, and adds</span>
<span class="Comment">--   annotations, including types, type errors, and statement info.</span>
<span class="Comment">--   Returns the updated catalog as well as the annotated ast.</span>
<span class="Function">typeCheckStatements</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="ConId">StatementList</span> <span class="Symbol">-&gt;</span> <span class="Symbol">(</span><span class="ConId">Catalog</span><span class="Symbol">,</span><span class="ConId">StatementList</span><span class="Symbol">)</span>
<span class="Function">typeCheckStatements</span> <span class="VarId">cat</span> <span class="VarId">sts</span> <span class="Symbol">=</span>
    <span class="Keyword">let</span> <span class="VarId">t</span> <span class="Symbol">=</span> <span class="VarId">sem_Root</span> <span class="Symbol">(</span><span class="ConId">Root</span> <span class="Symbol">(</span><span class="VarId">fixupImplicitJoins</span> <span class="VarId">sts</span><span class="Symbol">))</span>
        <span class="VarId">ta</span> <span class="Symbol">=</span> <span class="VarId">wrap_Root</span> <span class="VarId">t</span> <span class="ConId">Inh_Root</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_Root</span> <span class="Symbol">=</span> <span class="VarId">cat</span>
                                  <span class="Symbol">,</span><span class="VarId">lib_Inh_Root</span> <span class="Symbol">=</span> <span class="VarId">emptyBindings</span><span class="Symbol">}</span>
        <span class="VarId">tl</span> <span class="Symbol">=</span> <span class="VarId">annotatedTree_Syn_Root</span> <span class="VarId">ta</span>
        <span class="VarId">cat1</span> <span class="Symbol">=</span> <span class="VarId">producedCat_Syn_Root</span> <span class="VarId">ta</span>
    <span class="Keyword">in</span> <span class="Keyword">case</span> <span class="VarId">tl</span> <span class="Keyword">of</span>
         <span class="ConId">Root</span> <span class="VarId">r</span> <span class="Symbol">-&gt;</span> <span class="Symbol">(</span><span class="VarId">cat1</span><span class="Symbol">,</span><span class="VarId">r</span><span class="Symbol">)</span>

<span class="Comment">-- | Unfinished version of type check which can type check an</span>
<span class="Comment">-- individual statement with ? or positional arg placeholders in</span>
<span class="Comment">-- it. Will error if the statement isn't select, update, insert or</span>
<span class="Comment">-- delete. For use in type checking embedded parameterized</span>
<span class="Comment">-- statements. Does all typechecking and annotation that the regular</span>
<span class="Comment">-- typecheck does.</span>
<span class="Function">typeCheckParameterizedStatement</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="ConId">Statement</span> <span class="Symbol">-&gt;</span> <span class="ConId">Either</span> <span class="ConId">String</span> <span class="ConId">Statement</span>
<span class="Function">typeCheckParameterizedStatement</span> <span class="VarId">cat</span> <span class="VarId">st</span> <span class="Symbol">=</span>
    <span class="Keyword">case</span> <span class="VarId">st</span> <span class="Keyword">of</span>
      <span class="ConId">QueryStatement</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">tc</span>
      <span class="ConId">Insert</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">tc</span>
      <span class="ConId">Update</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">tc</span>
      <span class="ConId">Delete</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">tc</span>
      <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Left</span> <span class="String">&quot;requires select, update, insert or delete statement&quot;</span>
    <span class="Keyword">where</span>
      <span class="VarId">tc</span> <span class="Symbol">=</span> <span class="Keyword">let</span> <span class="VarId">t</span> <span class="Symbol">=</span> <span class="VarId">sem_Root</span> <span class="Symbol">(</span><span class="ConId">Root</span> <span class="Symbol">(</span><span class="VarId">fixupImplicitJoins</span> <span class="Symbol">[</span><span class="VarId">st</span><span class="Symbol">]))</span>
               <span class="VarId">ta</span> <span class="Symbol">=</span> <span class="VarId">wrap_Root</span> <span class="VarId">t</span> <span class="ConId">Inh_Root</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_Root</span> <span class="Symbol">=</span> <span class="VarId">cat</span>
                                         <span class="Symbol">,</span><span class="VarId">lib_Inh_Root</span> <span class="Symbol">=</span> <span class="VarId">emptyBindings</span><span class="Symbol">}</span>
               <span class="VarId">tl</span> <span class="Symbol">=</span> <span class="VarId">annotatedTree_Syn_Root</span> <span class="VarId">ta</span>
               <span class="Comment">--cat1 = producedCat_Syn_Root ta</span>
           <span class="Keyword">in</span> <span class="Keyword">case</span> <span class="VarId">tl</span> <span class="Keyword">of</span>
                <span class="ConId">Root</span> <span class="Symbol">[</span><span class="VarId">st1</span><span class="Symbol">]</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="VarId">st1</span>
                <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">error</span> <span class="String">&quot;impossible happened in typeCheckPS!&quot;</span>


<span class="Comment">-- | Testing utility, mainly used to check an expression for type errors</span>
<span class="Comment">-- or to get its type.</span>
<span class="Function">typeCheckScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="ConId">ScalarExpr</span> <span class="Symbol">-&gt;</span> <span class="ConId">ScalarExpr</span>
<span class="Function">typeCheckScalarExpr</span> <span class="VarId">cat</span> <span class="VarId">ex</span> <span class="Symbol">=</span>
    <span class="Keyword">let</span> <span class="VarId">t</span> <span class="Symbol">=</span> <span class="VarId">sem_ScalarExprRoot</span> <span class="Symbol">(</span><span class="ConId">ScalarExprRoot</span> <span class="Symbol">(</span><span class="VarId">fixupImplicitJoins</span> <span class="VarId">ex</span><span class="Symbol">))</span>
        <span class="VarId">rt</span> <span class="Symbol">=</span> <span class="Symbol">(</span><span class="VarId">annotatedTree_Syn_ScalarExprRoot</span>
              <span class="Symbol">(</span><span class="VarId">wrap_ScalarExprRoot</span> <span class="VarId">t</span> <span class="ConId">Inh_ScalarExprRoot</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprRoot</span> <span class="Symbol">=</span> <span class="VarId">cat</span>
                                                        <span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprRoot</span> <span class="Symbol">=</span> <span class="VarId">emptyBindings</span><span class="Symbol">}))</span>
    <span class="Keyword">in</span> <span class="Keyword">case</span> <span class="VarId">rt</span> <span class="Keyword">of</span>
         <span class="ConId">ScalarExprRoot</span> <span class="VarId">e</span> <span class="Symbol">-&gt;</span> <span class="VarId">e</span>

</pre></div></div></div><p
    >{- bit of a hack, to avoid rewriting the tableref type checking to be able to do implicit joins, we just convert them in to the equivalent explicit join -}</p
    ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">

<span class="Function">fixupImplicitJoins</span> <span class="Symbol">::</span> <span class="ConId">Data</span> <span class="VarId">a</span> <span class="Symbol">=&gt;</span> <span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span>
<span class="Function">fixupImplicitJoins</span> <span class="Symbol">=</span>
    <span class="VarId">transformBi</span> <span class="Symbol">$</span> <span class="Symbol">\</span><span class="VarId">x</span> <span class="Symbol">-&gt;</span>
            <span class="Keyword">case</span> <span class="VarId">x</span> <span class="Keyword">of</span>
              <span class="Comment">-- alter asts to change implicit joins into explicit joins</span>
              <span class="ConId">Select</span> <span class="VarId">an</span> <span class="VarId">dis</span> <span class="VarId">sl</span> <span class="VarId">trs</span><span class="Symbol">@(</span><span class="VarId">_</span><span class="Symbol">:</span><span class="VarId">_</span><span class="Symbol">:</span><span class="VarId">_</span><span class="Symbol">)</span> <span class="VarId">whr</span> <span class="VarId">grp</span> <span class="VarId">hav</span> <span class="VarId">od</span> <span class="VarId">lim</span> <span class="VarId">off</span>
                  <span class="Symbol">-&gt;</span> <span class="ConId">Select</span> <span class="VarId">an</span> <span class="VarId">dis</span> <span class="VarId">sl</span> <span class="Symbol">[</span><span class="VarId">convTrefs</span> <span class="VarId">trs</span><span class="Symbol">]</span> <span class="VarId">whr</span> <span class="VarId">grp</span> <span class="VarId">hav</span> <span class="VarId">od</span> <span class="VarId">lim</span> <span class="VarId">off</span>
              <span class="VarId">x1</span> <span class="Symbol">-&gt;</span> <span class="VarId">x1</span>
    <span class="Keyword">where</span>
      <span class="VarId">convTrefs</span> <span class="Symbol">(</span><span class="VarId">tr</span><span class="Symbol">:</span><span class="VarId">tr1</span><span class="Symbol">:</span><span class="VarId">trs</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">JoinTref</span> <span class="VarId">emptyAnnotation</span> <span class="VarId">tr</span> <span class="ConId">Unnatural</span> <span class="ConId">Cross</span> <span class="Symbol">(</span><span class="VarId">convTrefs</span> <span class="Symbol">(</span><span class="VarId">tr1</span><span class="Symbol">:</span><span class="VarId">trs</span><span class="Symbol">))</span> <span class="ConId">Nothing</span> <span class="ConId">NoAlias</span>
      <span class="VarId">convTrefs</span> <span class="Symbol">(</span><span class="VarId">tr</span><span class="Symbol">:[])</span> <span class="Symbol">=</span> <span class="VarId">tr</span>
      <span class="VarId">convTrefs</span> <span class="VarId">_</span> <span class="Symbol">=</span> <span class="VarId">error</span> <span class="String">&quot;failed doing implicit join fixup hack&quot;</span>

<span class="Function">canonicaliseIdentifiers</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">QueryExpr</span><span class="Symbol">]</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">QueryExpr</span><span class="Symbol">]</span>
<span class="Function">canonicaliseIdentifiers</span> <span class="VarId">_cat</span> <span class="VarId">_sts</span> <span class="Symbol">=</span> <span class="VarId">undefined</span>




</pre></div></div></div><div id="section"
    ><h1
      >{-</h1
      ><p
      >= some small utils</p
      ><p
      >-}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">


<span class="Function">addTypeErrors</span> <span class="Symbol">::</span> <span class="ConId">Data</span> <span class="VarId">a</span> <span class="Symbol">=&gt;</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span>
<span class="Function">addTypeErrors</span> <span class="VarId">es</span> <span class="VarId">el</span> <span class="Symbol">=</span> <span class="VarId">updateAnnotation</span> <span class="VarId">u</span> <span class="VarId">el</span>
                      <span class="Keyword">where</span>
                        <span class="VarId">u</span> <span class="VarId">a</span> <span class="Symbol">=</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">es</span><span class="Symbol">}</span>

<span class="Function">setTypeAddErrors</span> <span class="Symbol">::</span> <span class="ConId">Data</span> <span class="VarId">a</span> <span class="Symbol">=&gt;</span> <span class="ConId">Et</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span>
<span class="Function">setTypeAddErrors</span> <span class="VarId">et</span> <span class="VarId">el</span> <span class="Symbol">=</span> <span class="VarId">updateAnnotation</span> <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">et</span><span class="Symbol">)</span> <span class="VarId">el</span>

<span class="Function">setTypeAddErrorsA</span> <span class="Symbol">::</span> <span class="ConId">Et</span> <span class="Symbol">-&gt;</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span> <span class="ConId">Annotation</span>
<span class="Function">setTypeAddErrorsA</span> <span class="VarId">et</span> <span class="VarId">a</span> <span class="Symbol">=</span>
    <span class="Keyword">let</span> <span class="VarId">a1</span> <span class="Symbol">=</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">et</span><span class="Symbol">}</span>
    <span class="Keyword">in</span> <span class="Keyword">case</span> <span class="VarId">atype</span> <span class="VarId">a1</span> <span class="Keyword">of</span>
         <span class="ConId">Just</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">a1</span> <span class="Symbol">{</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span>
                             <span class="Symbol">++</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="Symbol">$</span> <span class="String">&quot;tried to set type a second time - &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="Symbol">(</span><span class="VarId">etmt</span> <span class="VarId">et</span><span class="Symbol">)]}</span>
         <span class="ConId">Nothing</span> <span class="Symbol">-&gt;</span> <span class="VarId">a1</span> <span class="Symbol">{</span><span class="VarId">atype</span> <span class="Symbol">=</span> <span class="VarId">etmt</span> <span class="VarId">et</span><span class="Symbol">}</span>

<span class="Function">allJust</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="VarId">a</span><span class="Symbol">]</span> <span class="Symbol">-&gt;</span> <span class="ConId">Maybe</span> <span class="Symbol">[</span><span class="VarId">a</span><span class="Symbol">]</span>
<span class="Function">allJust</span> <span class="VarId">ts</span> <span class="Symbol">=</span> <span class="VarId">sequence</span> <span class="VarId">ts</span>

<span class="Comment">-- bit dogdy, needs some thought</span>
<span class="Comment">-- this is just to convert the new approach of using &quot;.&quot; as an operator</span>
<span class="Comment">-- to construct names, with the old approach which stuck the whole lot</span>
<span class="Comment">-- in a string</span>
<span class="Function">getName</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span> <span class="Symbol">-&gt;</span> <span class="ConId">String</span>
<span class="Function">getName</span> <span class="Symbol">(</span><span class="ConId">Identifier</span> <span class="VarId">_</span> <span class="VarId">i</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">i</span>
<span class="Function">getName</span> <span class="Symbol">(</span><span class="ConId">FunCall</span> <span class="VarId">_</span> <span class="String">&quot;.&quot;</span> <span class="Symbol">[</span><span class="ConId">Identifier</span> <span class="VarId">_</span> <span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Identifier</span> <span class="VarId">_</span> <span class="VarId">i</span><span class="Symbol">])</span> <span class="Symbol">=</span> <span class="VarId">i</span>
<span class="Function">getName</span> <span class="Symbol">(</span><span class="ConId">FunCall</span> <span class="VarId">_</span> <span class="String">&quot;.&quot;</span> <span class="Symbol">[</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">a</span><span class="Symbol">])</span> <span class="Symbol">=</span> <span class="VarId">getName</span> <span class="VarId">a</span>
<span class="Function">getName</span> <span class="VarId">x</span> <span class="Symbol">=</span> <span class="VarId">error</span> <span class="Symbol">$</span> <span class="String">&quot;internal error getName called on: &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">x</span>

<span class="Function">unwrapLookup</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">String</span><span class="Symbol">],</span><span class="ConId">Type</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="ConId">Type</span>
<span class="Function">unwrapLookup</span> <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">t</span>

<span class="Function">unwrapStar</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">String</span><span class="Symbol">],</span><span class="ConId">Type</span><span class="Symbol">)]</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span>
<span class="Function">unwrapStar</span> <span class="Symbol">=</span> <span class="VarId">map</span> <span class="VarId">uw</span>
             <span class="Keyword">where</span>
               <span class="VarId">uw</span> <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">n</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">(</span><span class="VarId">last</span> <span class="VarId">n</span><span class="Symbol">,</span> <span class="VarId">t</span><span class="Symbol">)</span>

<span class="Function">allAtts</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span>
<span class="Function">allAtts</span> <span class="Symbol">(</span><span class="VarId">a</span><span class="Symbol">,</span><span class="VarId">b</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">b</span>

</pre></div></div></div></div
    ><div id="section-1"
    ><h1
      >{-</h1
      ><p
      >proper dodgy: 1st pass is to add inferred types to the tree. This is done only for expressions in a funcall argument list atm. Then we pull out the placeholders after they've had this information added. Only the placeholders in funcall argument lists will have their type inferred in this way, to be expanded. Insert also does this currently, but in Dml.ag</p
      ><p
      >This should probably be done during the typechecking phase instead, but probably needs a proper type inferencing algorithm to be used, is done like this for development expediency.</p
      ><p
      >Trying to follow haskell naming convention (?) - the type that the node is expected to have as determined by it's parent node is the expectedType, and the type it claims to have by its own logic and the types of its child nodes is the inferred type. Confusingly, this means the inferredType is often the declared type, and not the type that has been inferred here...</p
      ><p
      >The plan is to have three attributes: inferredType, expectedType and type, where the type is Just iff the inferredType and expectedType are the same, or onne of them is Nothing.</p
      ><p
      >-}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">

<span class="Function">getPlaceholderTypes</span> <span class="Symbol">::</span> <span class="ConId">Data</span> <span class="VarId">a</span> <span class="Symbol">=&gt;</span> <span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]</span>
<span class="Function">getPlaceholderTypes</span> <span class="VarId">ex</span> <span class="Symbol">=</span>
    <span class="Symbol">[</span><span class="VarId">infType</span> <span class="Symbol">(</span><span class="VarId">getAnnotation</span> <span class="VarId">x</span><span class="Symbol">)</span> <span class="Symbol">|</span> <span class="VarId">x</span> <span class="Symbol">&lt;-</span> <span class="VarId">universeBi</span> <span class="VarId">ex</span>
                                 <span class="Symbol">,</span><span class="VarId">isPlaceholder</span> <span class="VarId">x</span><span class="Symbol">]</span>
    <span class="Keyword">where</span>
      <span class="VarId">isPlaceholder</span> <span class="VarId">e</span> <span class="Symbol">=</span> <span class="Keyword">case</span> <span class="VarId">e</span> <span class="Keyword">of</span>
                          <span class="ConId">PositionalArg</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">True</span>
                          <span class="ConId">Placeholder</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">True</span>
                          <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">False</span>




<span class="Function">typeCheckValuesExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]]</span> <span class="Symbol">-&gt;</span> <span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span>
<span class="Function">typeCheckValuesExpr</span> <span class="VarId">cat</span> <span class="VarId">rowsTs</span> <span class="Symbol">=</span> <span class="Keyword">do</span>
        <span class="VarId">rts</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">$</span> <span class="VarId">allJust</span> <span class="Symbol">$</span> <span class="VarId">map</span> <span class="VarId">allJust</span> <span class="VarId">rowsTs</span>
        <span class="Keyword">let</span> <span class="VarId">colNames</span> <span class="Symbol">=</span> <span class="VarId">zipWith</span> <span class="Symbol">(++)</span>
                           <span class="Symbol">(</span><span class="VarId">repeat</span> <span class="String">&quot;column&quot;</span><span class="Symbol">)</span>
                           <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">show</span> <span class="Symbol">[</span><span class="Number">1</span><span class="Symbol">..</span><span class="VarId">length</span> <span class="Symbol">$</span> <span class="VarId">head</span> <span class="VarId">rowsTs</span><span class="Symbol">])</span>
        <span class="VarId">unionRelTypes</span> <span class="VarId">cat</span> <span class="VarId">rts</span> <span class="VarId">colNames</span>


<span class="Function">typeCheckCombineSelect</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="ConId">Type</span> <span class="Symbol">-&gt;</span> <span class="ConId">Type</span> <span class="Symbol">-&gt;</span> <span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span>
<span class="Function">typeCheckCombineSelect</span> <span class="VarId">cat</span> <span class="VarId">v1</span> <span class="VarId">v2</span> <span class="Symbol">=</span> <span class="Keyword">do</span>
    <span class="VarId">u1</span> <span class="Symbol">&lt;-</span> <span class="VarId">unwrapSetOfComposite</span> <span class="VarId">v1</span>
    <span class="Keyword">let</span> <span class="VarId">colNames</span> <span class="Symbol">=</span> <span class="VarId">map</span> <span class="VarId">fst</span> <span class="VarId">u1</span>
    <span class="VarId">u2</span> <span class="Symbol">&lt;-</span> <span class="VarId">unwrapSetOfComposite</span> <span class="VarId">v2</span>
    <span class="Keyword">let</span> <span class="VarId">colTypes1</span> <span class="Symbol">=</span> <span class="VarId">map</span> <span class="VarId">snd</span> <span class="VarId">u1</span>
    <span class="Keyword">let</span> <span class="VarId">colTypes2</span> <span class="Symbol">=</span> <span class="VarId">map</span> <span class="VarId">snd</span> <span class="VarId">u2</span>
    <span class="VarId">unionRelTypes</span> <span class="VarId">cat</span> <span class="Symbol">[</span><span class="VarId">colTypes1</span><span class="Symbol">,</span><span class="VarId">colTypes2</span><span class="Symbol">]</span> <span class="VarId">colNames</span>

<span class="Function">unionRelTypes</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[[</span><span class="ConId">Type</span><span class="Symbol">]]</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">String</span><span class="Symbol">]</span> <span class="Symbol">-&gt;</span> <span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span>
<span class="Function">unionRelTypes</span> <span class="VarId">cat</span> <span class="VarId">rowsTs</span> <span class="VarId">colNames</span> <span class="Symbol">=</span>
  <span class="Keyword">let</span> <span class="VarId">lengths</span> <span class="Symbol">=</span> <span class="VarId">map</span> <span class="VarId">length</span> <span class="VarId">rowsTs</span>
  <span class="Keyword">in</span> <span class="Keyword">case</span> <span class="Symbol">()</span> <span class="Keyword">of</span>
             <span class="VarId">_</span> <span class="Symbol">|</span> <span class="VarId">null</span> <span class="VarId">rowsTs</span> <span class="Symbol">-&gt;</span>
                   <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">NoRowsGivenForValues</span><span class="Symbol">]</span>
               <span class="Symbol">|</span> <span class="VarId">not</span> <span class="Symbol">(</span><span class="VarId">all</span> <span class="Symbol">(==</span><span class="VarId">head</span> <span class="VarId">lengths</span><span class="Symbol">)</span> <span class="VarId">lengths</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                   <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">ValuesListsMustBeSameLength</span><span class="Symbol">]</span>
               <span class="Symbol">|</span> <span class="VarId">otherwise</span> <span class="Symbol">-&gt;</span>
                   <span class="Comment">--i don't think this propagates all the errors, just the first set</span>
                   <span class="VarId">mapM</span> <span class="Symbol">(</span><span class="VarId">resolveResultSetType</span> <span class="VarId">cat</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">transpose</span> <span class="VarId">rowsTs</span><span class="Symbol">)</span> <span class="Symbol">&gt;&gt;=</span>
                     <span class="Symbol">(</span><span class="VarId">return</span> <span class="Symbol">.</span> <span class="ConId">SetOfType</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span> <span class="Symbol">.</span> <span class="VarId">zip</span> <span class="VarId">colNames</span><span class="Symbol">)</span>






</pre></div></div></div><p
      >{- convert a function call into a [String,[(string,type)]] list for use in a tableref context first consideration is the alias: if there is an alias in the select, e.g. select * from generate_series(1,2) x; (alias is x) we use that, otherwise we use the name of the function second consideration is the attributes coming out, roughly speaking we have to convert an arbitrary type to a relation type if we have a relation valued function, we don't need to do anything if we have a setof non composite, we lift the single type to an attribute, using the function name for the attribute name if we have a non setof, we lift the single type to an attribute and then relation, using the function name for the attribute name need to check to see what should happen with arrayof</p
      ><p
      >-}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Function">funIdens</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span> <span class="ConId">String</span> <span class="Symbol">-&gt;</span> <span class="ConId">ScalarExpr</span> <span class="Symbol">-&gt;</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span> <span class="Symbol">-&gt;</span> <span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
<span class="Function">funIdens</span> <span class="VarId">cat</span> <span class="VarId">alias</span> <span class="VarId">fnVal</span> <span class="VarId">ft</span> <span class="Symbol">=</span> <span class="Keyword">do</span>
   <span class="VarId">errorWhen</span> <span class="Symbol">(</span><span class="Keyword">case</span> <span class="VarId">fnVal</span> <span class="Keyword">of</span>
                <span class="ConId">FunCall</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">False</span>
                <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">True</span><span class="Symbol">)</span>
             <span class="Symbol">[</span><span class="ConId">ContextError</span> <span class="String">&quot;FunCall&quot;</span><span class="Symbol">]</span>
   <span class="Keyword">let</span> <span class="Symbol">(</span><span class="ConId">FunCall</span> <span class="VarId">_</span> <span class="VarId">fnName</span> <span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">fnVal</span>
       <span class="VarId">cn</span> <span class="Symbol">=</span> <span class="Keyword">if</span> <span class="VarId">alias</span> <span class="Symbol">/=</span> <span class="String">&quot;&quot;</span>
                           <span class="Keyword">then</span> <span class="VarId">alias</span>
                           <span class="Keyword">else</span> <span class="VarId">fnName</span>
   <span class="VarId">attrs</span> <span class="Symbol">&lt;-</span> <span class="Keyword">do</span>
     <span class="VarId">fnt</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">ft</span>
     <span class="Keyword">case</span> <span class="VarId">fnt</span> <span class="Keyword">of</span>
       <span class="ConId">SetOfType</span> <span class="Symbol">(</span><span class="ConId">NamedCompositeType</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="VarId">catCompositePublicAttrs</span> <span class="VarId">cat</span> <span class="Symbol">[]</span> <span class="VarId">t</span>
       <span class="ConId">SetOfType</span> <span class="VarId">x</span> <span class="Symbol">-&gt;</span> <span class="VarId">return</span> <span class="Symbol">[(</span><span class="VarId">cn</span><span class="Symbol">,</span><span class="VarId">x</span><span class="Symbol">)]</span>
       <span class="VarId">y</span> <span class="Symbol">-&gt;</span> <span class="VarId">return</span> <span class="Symbol">[(</span><span class="VarId">cn</span><span class="Symbol">,</span><span class="VarId">y</span><span class="Symbol">)]</span>
   <span class="VarId">return</span> <span class="Symbol">(</span><span class="VarId">cn</span><span class="Symbol">,</span> <span class="VarId">attrs</span><span class="Symbol">)</span>

<span class="Function">getAlias</span> <span class="Symbol">::</span> <span class="ConId">String</span> <span class="Symbol">-&gt;</span> <span class="ConId">TableAlias</span> <span class="Symbol">-&gt;</span> <span class="ConId">String</span>
<span class="Function">getAlias</span> <span class="VarId">def</span> <span class="VarId">alias</span> <span class="Symbol">=</span>
  <span class="Keyword">case</span> <span class="VarId">alias</span> <span class="Keyword">of</span>
    <span class="ConId">NoAlias</span> <span class="Symbol">-&gt;</span> <span class="VarId">def</span>
    <span class="ConId">TableAlias</span> <span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="VarId">t</span>
    <span class="ConId">FullAlias</span> <span class="VarId">t</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">t</span>



</pre></div></div></div><p
      >{-data SiType = SiType (String,Maybe Type) | SiStarType [(String,Maybe Type)]-}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">


<span class="Function">unwrapSetofs</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span>
<span class="Function">unwrapSetofs</span> <span class="Symbol">=</span> <span class="VarId">map</span> <span class="Symbol">(\(</span><span class="VarId">n</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="Symbol">(</span><span class="VarId">n</span><span class="Symbol">,</span> <span class="VarId">unwrapSetof</span> <span class="VarId">t</span><span class="Symbol">))</span>

<span class="Function">unwrapSetof</span> <span class="Symbol">::</span> <span class="ConId">Type</span> <span class="Symbol">-&gt;</span> <span class="ConId">Type</span>
<span class="Function">unwrapSetof</span> <span class="Symbol">(</span><span class="ConId">SetOfType</span> <span class="VarId">u</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">u</span>
<span class="Function">unwrapSetof</span> <span class="VarId">v</span> <span class="Symbol">=</span> <span class="VarId">v</span>



<span class="Function">defaultSystemColumns</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span>
<span class="Function">defaultSystemColumns</span> <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="String">&quot;tableoid&quot;</span><span class="Symbol">,</span> <span class="ConId">ScalarType</span> <span class="String">&quot;oid&quot;</span><span class="Symbol">)</span>
                       <span class="Symbol">,(</span><span class="String">&quot;cmax&quot;</span><span class="Symbol">,</span> <span class="ConId">ScalarType</span> <span class="String">&quot;cid&quot;</span><span class="Symbol">)</span>
                       <span class="Symbol">,(</span><span class="String">&quot;xmax&quot;</span><span class="Symbol">,</span> <span class="ConId">ScalarType</span> <span class="String">&quot;xid&quot;</span><span class="Symbol">)</span>
                       <span class="Symbol">,(</span><span class="String">&quot;cmin&quot;</span><span class="Symbol">,</span> <span class="ConId">ScalarType</span> <span class="String">&quot;cid&quot;</span><span class="Symbol">)</span>
                       <span class="Symbol">,(</span><span class="String">&quot;xmin&quot;</span><span class="Symbol">,</span> <span class="ConId">ScalarType</span> <span class="String">&quot;xid&quot;</span><span class="Symbol">)</span>
                       <span class="Symbol">,(</span><span class="String">&quot;ctid&quot;</span><span class="Symbol">,</span> <span class="ConId">ScalarType</span> <span class="String">&quot;tid&quot;</span><span class="Symbol">)]</span>


<span class="Keyword">data</span> <span class="ConId">ParamName</span> <span class="Symbol">=</span> <span class="ConId">NamedParam</span> <span class="ConId">Int</span> <span class="ConId">String</span>
               <span class="Symbol">|</span> <span class="ConId">UnnamedParam</span> <span class="ConId">Int</span>
<span class="Comment">-- AlterTableAction --------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative AddConstraint: child ann : {Annotation} child con : Constraint visit 0: local annotatedTree : _ local originalTree : _ alternative AlterColumnDefault: child ann : {Annotation} child nm : {String} child def : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">AlterTableAction</span>  <span class="Symbol">=</span> <span class="ConId">AddConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Constraint</span><span class="Symbol">)</span> 
                       <span class="Symbol">|</span> <span class="ConId">AlterColumnDefault</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                       <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_AlterTableAction</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_AlterTableAction</span> 
<span class="Function">sem_AlterTableAction</span> <span class="Symbol">(</span><span class="ConId">AddConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_con</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_AlterTableAction_AddConstraint</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_Constraint</span> <span class="VarId">_con</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_AlterTableAction</span> <span class="Symbol">(</span><span class="ConId">AlterColumnDefault</span> <span class="VarId">_ann</span> <span class="VarId">_nm</span> <span class="VarId">_def</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_AlterTableAction_AlterColumnDefault</span> <span class="VarId">_ann</span> <span class="VarId">_nm</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_def</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_AlterTableAction</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                           <span class="Symbol">(</span> <span class="ConId">AlterTableAction</span><span class="Symbol">,</span><span class="ConId">AlterTableAction</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_AlterTableAction</span>  <span class="Symbol">=</span> <span class="ConId">Inh_AlterTableAction</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_AlterTableAction</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_AlterTableAction</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_AlterTableAction</span>  <span class="Symbol">=</span> <span class="ConId">Syn_AlterTableAction</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_AlterTableAction</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_AlterTableAction</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span><span class="Symbol">}</span>
<span class="Function">wrap_AlterTableAction</span> <span class="Symbol">::</span> <span class="ConId">T_AlterTableAction</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">Inh_AlterTableAction</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">Syn_AlterTableAction</span> 
<span class="Function">wrap_AlterTableAction</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_AlterTableAction</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_AlterTableAction</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_AlterTableAction_AddConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">T_Constraint</span>  <span class="Symbol">-&gt;</span>
                                      <span class="ConId">T_AlterTableAction</span> 
<span class="Function">sem_AlterTableAction_AddConstraint</span> <span class="VarId">ann_</span> <span class="VarId">con_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span>
              <span class="VarId">_conOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_conOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_conIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_conIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AddConstraint</span> <span class="VarId">ann_</span> <span class="VarId">_conIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AddConstraint</span> <span class="VarId">ann_</span> <span class="VarId">_conIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_conOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_conOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_conIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_conIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">con_</span> <span class="VarId">_conOcat</span> <span class="VarId">_conOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_AlterTableAction_AlterColumnDefault</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                           <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                           <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                           <span class="ConId">T_AlterTableAction</span> 
<span class="Function">sem_AlterTableAction_AlterColumnDefault</span> <span class="VarId">ann_</span> <span class="VarId">nm_</span> <span class="VarId">def_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_defOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span>
              <span class="VarId">_defOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_defOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_defIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_defIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_defIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_defIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_defItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_defItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_defIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 523, column 26)</span>
              <span class="VarId">_defOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AlterColumnDefault</span> <span class="VarId">ann_</span> <span class="VarId">nm_</span> <span class="VarId">_defIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AlterColumnDefault</span> <span class="VarId">ann_</span> <span class="VarId">nm_</span> <span class="VarId">_defIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_defOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_defOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_defIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_defIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_defIntType</span><span class="Symbol">,</span><span class="VarId">_defIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_defItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_defItbUType</span><span class="Symbol">,</span><span class="VarId">_defIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">def_</span> <span class="VarId">_defOcat</span> <span class="VarId">_defOexpectedType</span> <span class="VarId">_defOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- AlterTableActionList ----------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Cons: child hd : AlterTableAction child tl : AlterTableActionList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">AlterTableActionList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">AlterTableAction</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_AlterTableActionList</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_AlterTableActionList</span> 
<span class="Function">sem_AlterTableActionList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_AlterTableActionList_Cons</span> <span class="VarId">sem_AlterTableActionList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_AlterTableAction</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_AlterTableActionList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                               <span class="Symbol">(</span> <span class="ConId">AlterTableActionList</span><span class="Symbol">,</span><span class="ConId">AlterTableActionList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_AlterTableActionList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_AlterTableActionList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_AlterTableActionList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_AlterTableActionList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_AlterTableActionList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_AlterTableActionList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_AlterTableActionList</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_AlterTableActionList</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span><span class="Symbol">}</span>
<span class="Function">wrap_AlterTableActionList</span> <span class="Symbol">::</span> <span class="ConId">T_AlterTableActionList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">Inh_AlterTableActionList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">Syn_AlterTableActionList</span> 
<span class="Function">wrap_AlterTableActionList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_AlterTableActionList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_AlterTableActionList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_AlterTableActionList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_AlterTableAction</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_AlterTableActionList</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_AlterTableActionList</span> 
<span class="Function">sem_AlterTableActionList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableAction</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_AlterTableActionList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_AlterTableActionList</span> 
<span class="Function">sem_AlterTableActionList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- AttributeDef ------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF attrName : String namedType : Maybe Type originalTree : SELF alternatives: alternative AttributeDef: child ann : {Annotation} child name : {String} child typ : TypeName child def : MaybeScalarExpr child cons : RowConstraintList visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">AttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">AttributeDef</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">RowConstraintList</span><span class="Symbol">)</span> 
                   <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">AttributeDef</span>  <span class="Symbol">-&gt;</span>
                    <span class="ConId">T_AttributeDef</span> 
<span class="Function">sem_AttributeDef</span> <span class="Symbol">(</span><span class="ConId">AttributeDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_typ</span> <span class="VarId">_def</span> <span class="VarId">_cons</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_AttributeDef_AttributeDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeScalarExpr</span> <span class="VarId">_def</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_RowConstraintList</span> <span class="VarId">_cons</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_AttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                       <span class="Symbol">(</span> <span class="ConId">AttributeDef</span><span class="Symbol">,</span><span class="ConId">String</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">),</span><span class="ConId">AttributeDef</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_AttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">Inh_AttributeDef</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_AttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">Syn_AttributeDef</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">AttributeDef</span><span class="Symbol">,</span><span class="VarId">attrName_Syn_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">String</span><span class="Symbol">,</span><span class="VarId">namedType_Syn_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">AttributeDef</span><span class="Symbol">}</span>
<span class="Function">wrap_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">T_AttributeDef</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Inh_AttributeDef</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Syn_AttributeDef</span> 
<span class="Function">wrap_AttributeDef</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_AttributeDef</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrName</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_AttributeDef</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOattrName</span> <span class="VarId">_lhsOnamedType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_AttributeDef_AttributeDef</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                 <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_RowConstraintList</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_AttributeDef</span> 
<span class="Function">sem_AttributeDef_AttributeDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">typ_</span> <span class="VarId">def_</span> <span class="VarId">cons_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOattrName</span> <span class="Symbol">::</span> <span class="ConId">String</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_consOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDef</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDef</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_defOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_defOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_consOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_defIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_defIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_defIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_consIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="VarId">_consIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 83, column 9)</span>
              <span class="VarId">_lhsOattrName</span> <span class="Symbol">=</span>
                  <span class="VarId">map</span> <span class="VarId">toLower</span> <span class="VarId">name_</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 84, column 9)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_typInamedType</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 98, column 9)</span>
              <span class="VarId">_consOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_typInamedType</span>
                  <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span>
                           <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;attribute def&quot;</span> <span class="ConId">Nothing</span>
                                  <span class="Symbol">[(</span><span class="VarId">name_</span><span class="Symbol">,</span> <span class="VarId">t</span><span class="Symbol">)])</span> <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AttributeDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIannotatedTree</span> <span class="VarId">_defIannotatedTree</span> <span class="VarId">_consIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AttributeDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIoriginalTree</span> <span class="VarId">_defIoriginalTree</span> <span class="VarId">_consIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_defOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_defOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_consOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_defIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_defIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_defIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">def_</span> <span class="VarId">_defOcat</span> <span class="VarId">_defOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_consIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_consIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">cons_</span> <span class="VarId">_consOcat</span> <span class="VarId">_consOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrName</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- AttributeDefList --------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF attrs : [(String, Maybe Type)] originalTree : SELF alternatives: alternative Cons: child hd : AttributeDef child tl : AttributeDefList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">AttributeDefList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">AttributeDef</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_AttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_AttributeDefList</span> 
<span class="Function">sem_AttributeDefList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_AttributeDefList_Cons</span> <span class="VarId">sem_AttributeDefList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_AttributeDef</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_AttributeDefList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                           <span class="Symbol">(</span> <span class="ConId">AttributeDefList</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">AttributeDefList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_AttributeDefList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_AttributeDefList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_AttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_AttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_AttributeDefList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_AttributeDefList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_AttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span><span class="Symbol">,</span><span class="VarId">attrs_Syn_AttributeDefList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_AttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span><span class="Symbol">}</span>
<span class="Function">wrap_AttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">T_AttributeDefList</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">Inh_AttributeDefList</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">Syn_AttributeDefList</span> 
<span class="Function">wrap_AttributeDefList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_AttributeDefList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_AttributeDefList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOattrs</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_AttributeDefList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_AttributeDef</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_AttributeDefList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_AttributeDefList</span> 
<span class="Function">sem_AttributeDefList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDef</span>
              <span class="VarId">_hdIattrName</span> <span class="Symbol">::</span> <span class="ConId">String</span>
              <span class="VarId">_hdInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDef</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="VarId">_tlIattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 88, column 12)</span>
              <span class="VarId">_lhsOattrs</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_hdIattrName</span><span class="Symbol">,</span> <span class="VarId">_hdInamedType</span><span class="Symbol">)</span> <span class="Symbol">:</span> <span class="VarId">_tlIattrs</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIattrName</span><span class="Symbol">,</span><span class="VarId">_hdInamedType</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIattrs</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_AttributeDefList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_AttributeDefList</span> 
<span class="Function">sem_AttributeDefList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 89, column 11)</span>
              <span class="VarId">_lhsOattrs</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- CaseScalarExprListScalarExprPair ----------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF thenType : Maybe Type whenTypes : [Maybe Type] alternatives: alternative Tuple: child x1 : ScalarExprList child x2 : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">CaseScalarExprListScalarExprPair</span>  <span class="Symbol">=</span> <span class="Symbol">(</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">),(</span><span class="ConId">ScalarExpr</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPair</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">T_CaseScalarExprListScalarExprPair</span> 
<span class="Function">sem_CaseScalarExprListScalarExprPair</span> <span class="Symbol">(</span> <span class="VarId">x1</span><span class="Symbol">,</span><span class="VarId">x2</span><span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_CaseScalarExprListScalarExprPair_Tuple</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">x1</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">x2</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_CaseScalarExprListScalarExprPair</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                           <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                           <span class="Symbol">(</span> <span class="ConId">CaseScalarExprListScalarExprPair</span><span class="Symbol">,</span><span class="ConId">CaseScalarExprListScalarExprPair</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">),([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_CaseScalarExprListScalarExprPair</span>  <span class="Symbol">=</span> <span class="ConId">Inh_CaseScalarExprListScalarExprPair</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_CaseScalarExprListScalarExprPair</span>  <span class="Symbol">=</span> <span class="ConId">Syn_CaseScalarExprListScalarExprPair</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPair</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPair</span><span class="Symbol">,</span><span class="VarId">thenType_Syn_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">,</span><span class="VarId">whenTypes_Syn_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]}</span>
<span class="Function">wrap_CaseScalarExprListScalarExprPair</span> <span class="Symbol">::</span> <span class="ConId">T_CaseScalarExprListScalarExprPair</span>  <span class="Symbol">-&gt;</span>
                                         <span class="ConId">Inh_CaseScalarExprListScalarExprPair</span>  <span class="Symbol">-&gt;</span>
                                         <span class="ConId">Syn_CaseScalarExprListScalarExprPair</span> 
<span class="Function">wrap_CaseScalarExprListScalarExprPair</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_CaseScalarExprListScalarExprPair</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOthenType</span><span class="Symbol">,</span><span class="VarId">_lhsOwhenTypes</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_CaseScalarExprListScalarExprPair</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOthenType</span> <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">))</span>
<span class="Function">sem_CaseScalarExprListScalarExprPair_Tuple</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                                              <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                              <span class="ConId">T_CaseScalarExprListScalarExprPair</span> 
<span class="Function">sem_CaseScalarExprListScalarExprPair_Tuple</span> <span class="VarId">x1_</span> <span class="VarId">x2_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOthenType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_x1OexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_x2OexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPair</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPair</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x1IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_x1IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_x1ItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_x1IuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_x2IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x2IntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x2IntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_x2IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x2ItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x2ItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_x2IuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 283, column 13)</span>
              <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_x1IuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 284, column 13)</span>
              <span class="VarId">_lhsOthenType</span> <span class="Symbol">=</span>
                  <span class="VarId">_x2IuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 527, column 13)</span>
              <span class="VarId">_x1OexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 528, column 13)</span>
              <span class="VarId">_x2OexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2IannotatedTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x1ItbUTypes</span><span class="Symbol">,</span><span class="VarId">_x1IuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x1_</span> <span class="VarId">_x1Ocat</span> <span class="VarId">_x1OexpectedTypes</span> <span class="VarId">_x1Olib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_x2IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2IntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2IntType</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x2ItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2ItbUType</span><span class="Symbol">,</span><span class="VarId">_x2IuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x2_</span> <span class="VarId">_x2Ocat</span> <span class="VarId">_x2OexpectedType</span> <span class="VarId">_x2Olib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOthenType</span><span class="Symbol">,</span><span class="VarId">_lhsOwhenTypes</span><span class="Symbol">)))</span>
<span class="Comment">-- CaseScalarExprListScalarExprPairList ------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF thenTypes : [Maybe Type] whenTypes : [[Maybe Type]] alternatives: alternative Cons: child hd : CaseScalarExprListScalarExprPair child tl : CaseScalarExprListScalarExprPairList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">CaseScalarExprListScalarExprPair</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">-&gt;</span>
                                            <span class="ConId">T_CaseScalarExprListScalarExprPairList</span> 
<span class="Function">sem_CaseScalarExprListScalarExprPairList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_CaseScalarExprListScalarExprPairList_Cons</span> <span class="VarId">sem_CaseScalarExprListScalarExprPairList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_CaseScalarExprListScalarExprPair</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                               <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                               <span class="Symbol">(</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span><span class="Symbol">,</span><span class="ConId">CaseScalarExprListScalarExprPairList</span><span class="Symbol">,([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]),([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]]))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span><span class="Symbol">,</span><span class="VarId">thenTypes_Syn_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">],</span><span class="VarId">whenTypes_Syn_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="Symbol">[[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]]}</span>
<span class="Function">wrap_CaseScalarExprListScalarExprPairList</span> <span class="Symbol">::</span> <span class="ConId">T_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">-&gt;</span>
                                             <span class="ConId">Inh_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">-&gt;</span>
                                             <span class="ConId">Syn_CaseScalarExprListScalarExprPairList</span> 
<span class="Function">wrap_CaseScalarExprListScalarExprPairList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_CaseScalarExprListScalarExprPairList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOthenTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOwhenTypes</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_CaseScalarExprListScalarExprPairList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOthenTypes</span> <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">))</span>
<span class="Function">sem_CaseScalarExprListScalarExprPairList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_CaseScalarExprListScalarExprPair</span>  <span class="Symbol">-&gt;</span>
                                                 <span class="ConId">T_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">-&gt;</span>
                                                 <span class="ConId">T_CaseScalarExprListScalarExprPairList</span> 
<span class="Function">sem_CaseScalarExprListScalarExprPairList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="VarId">_lhsOthenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPair</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPair</span>
              <span class="VarId">_hdIthenType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_hdIwhenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_tlIthenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_tlIwhenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 274, column 10)</span>
              <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIwhenTypes</span> <span class="Symbol">:</span> <span class="VarId">_tlIwhenTypes</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 275, column 10)</span>
              <span class="VarId">_lhsOthenTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIthenType</span> <span class="Symbol">:</span> <span class="VarId">_tlIthenTypes</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_hdIthenType</span><span class="Symbol">,</span><span class="VarId">_hdIwhenTypes</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tlIthenTypes</span><span class="Symbol">,</span><span class="VarId">_tlIwhenTypes</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOthenTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOwhenTypes</span><span class="Symbol">)))</span>
<span class="Function">sem_CaseScalarExprListScalarExprPairList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_CaseScalarExprListScalarExprPairList</span> 
<span class="Function">sem_CaseScalarExprListScalarExprPairList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="VarId">_lhsOthenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 276, column 9)</span>
              <span class="VarId">_lhsOwhenTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 277, column 9)</span>
              <span class="VarId">_lhsOthenTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOthenTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOwhenTypes</span><span class="Symbol">)))</span>
<span class="Comment">-- Constraint --------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative CheckConstraint: child ann : {Annotation} child name : {String} child expr : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative PrimaryKeyConstraint: child ann : {Annotation} child name : {String} child x : {[String]} visit 0: local annotatedTree : _ local originalTree : _ alternative ReferenceConstraint: child ann : {Annotation} child name : {String} child atts : {[String]} child table : {String} child tableAtts : {[String]} child onUpdate : {Cascade} child onDelete : {Cascade} visit 0: local annotatedTree : _ local originalTree : _ alternative UniqueConstraint: child ann : {Annotation} child name : {String} child x : {[String]} visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">Constraint</span>  <span class="Symbol">=</span> <span class="ConId">CheckConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">PrimaryKeyConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> 
                 <span class="Symbol">|</span> <span class="ConId">ReferenceConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">(</span><span class="ConId">Cascade</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Cascade</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">UniqueConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> 
                 <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_Constraint</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">T_Constraint</span> 
<span class="Function">sem_Constraint</span> <span class="Symbol">(</span><span class="ConId">CheckConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Constraint_CheckConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Constraint</span> <span class="Symbol">(</span><span class="ConId">PrimaryKeyConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_x</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Constraint_PrimaryKeyConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_x</span> <span class="Symbol">)</span>
<span class="Function">sem_Constraint</span> <span class="Symbol">(</span><span class="ConId">ReferenceConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_atts</span> <span class="VarId">_table</span> <span class="VarId">_tableAtts</span> <span class="VarId">_onUpdate</span> <span class="VarId">_onDelete</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Constraint_ReferenceConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_atts</span> <span class="VarId">_table</span> <span class="VarId">_tableAtts</span> <span class="VarId">_onUpdate</span> <span class="VarId">_onDelete</span> <span class="Symbol">)</span>
<span class="Function">sem_Constraint</span> <span class="Symbol">(</span><span class="ConId">UniqueConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_x</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Constraint_UniqueConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_x</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_Constraint</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                     <span class="Symbol">(</span> <span class="ConId">Constraint</span><span class="Symbol">,</span><span class="ConId">Constraint</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_Constraint</span>  <span class="Symbol">=</span> <span class="ConId">Inh_Constraint</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_Constraint</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_Constraint</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_Constraint</span>  <span class="Symbol">=</span> <span class="ConId">Syn_Constraint</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_Constraint</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_Constraint</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span><span class="Symbol">}</span>
<span class="Function">wrap_Constraint</span> <span class="Symbol">::</span> <span class="ConId">T_Constraint</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Inh_Constraint</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Syn_Constraint</span> 
<span class="Function">wrap_Constraint</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_Constraint</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_Constraint</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_Constraint_CheckConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                  <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                  <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                  <span class="ConId">T_Constraint</span> 
<span class="Function">sem_Constraint_CheckConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 531, column 23)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CheckConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CheckConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Constraint_PrimaryKeyConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                       <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                       <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                                       <span class="ConId">T_Constraint</span> 
<span class="Function">sem_Constraint_PrimaryKeyConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">x_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PrimaryKeyConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">x_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PrimaryKeyConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">x_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Constraint_ReferenceConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                      <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                      <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">Cascade</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">Cascade</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">T_Constraint</span> 
<span class="Function">sem_Constraint_ReferenceConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">atts_</span> <span class="VarId">table_</span> <span class="VarId">tableAtts_</span> <span class="VarId">onUpdate_</span> <span class="VarId">onDelete_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ReferenceConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">atts_</span> <span class="VarId">table_</span> <span class="VarId">tableAtts_</span> <span class="VarId">onUpdate_</span> <span class="VarId">onDelete_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ReferenceConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">atts_</span> <span class="VarId">table_</span> <span class="VarId">tableAtts_</span> <span class="VarId">onUpdate_</span> <span class="VarId">onDelete_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Constraint_UniqueConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                   <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                   <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_Constraint</span> 
<span class="Function">sem_Constraint_UniqueConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">x_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">UniqueConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">x_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">UniqueConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">x_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ConstraintList ----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Cons: child hd : Constraint child tl : ConstraintList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ConstraintList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">Constraint</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ConstraintList</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">T_ConstraintList</span> 
<span class="Function">sem_ConstraintList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_ConstraintList_Cons</span> <span class="VarId">sem_ConstraintList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_Constraint</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ConstraintList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                         <span class="Symbol">(</span> <span class="ConId">ConstraintList</span><span class="Symbol">,</span><span class="ConId">ConstraintList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ConstraintList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ConstraintList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ConstraintList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ConstraintList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ConstraintList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ConstraintList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ConstraintList</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ConstraintList</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span><span class="Symbol">}</span>
<span class="Function">wrap_ConstraintList</span> <span class="Symbol">::</span> <span class="ConId">T_ConstraintList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Inh_ConstraintList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Syn_ConstraintList</span> 
<span class="Function">wrap_ConstraintList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ConstraintList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ConstraintList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ConstraintList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_Constraint</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ConstraintList</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ConstraintList</span> 
<span class="Function">sem_ConstraintList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Constraint</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_ConstraintList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_ConstraintList</span> 
<span class="Function">sem_ConstraintList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- FnBody ------------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative PlpgsqlFnBody: child ann : {Annotation} child blk : Statement visit 0: local annotatedTree : _ local originalTree : _ alternative SqlFnBody: child ann : {Annotation} child sts : StatementList visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">FnBody</span>  <span class="Symbol">=</span> <span class="ConId">PlpgsqlFnBody</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Statement</span><span class="Symbol">)</span> 
             <span class="Symbol">|</span> <span class="ConId">SqlFnBody</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
             <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_FnBody</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span>  <span class="Symbol">-&gt;</span>
              <span class="ConId">T_FnBody</span> 
<span class="Function">sem_FnBody</span> <span class="Symbol">(</span><span class="ConId">PlpgsqlFnBody</span> <span class="VarId">_ann</span> <span class="VarId">_blk</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_FnBody_PlpgsqlFnBody</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_Statement</span> <span class="VarId">_blk</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_FnBody</span> <span class="Symbol">(</span><span class="ConId">SqlFnBody</span> <span class="VarId">_ann</span> <span class="VarId">_sts</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_FnBody_SqlFnBody</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_sts</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_FnBody</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                 <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                 <span class="Symbol">(</span> <span class="ConId">FnBody</span><span class="Symbol">,</span><span class="ConId">FnBody</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_FnBody</span>  <span class="Symbol">=</span> <span class="ConId">Inh_FnBody</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_FnBody</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_FnBody</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_FnBody</span>  <span class="Symbol">=</span> <span class="ConId">Syn_FnBody</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_FnBody</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_FnBody</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span><span class="Symbol">}</span>
<span class="Function">wrap_FnBody</span> <span class="Symbol">::</span> <span class="ConId">T_FnBody</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Inh_FnBody</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Syn_FnBody</span> 
<span class="Function">wrap_FnBody</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_FnBody</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_FnBody</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_FnBody_PlpgsqlFnBody</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_Statement</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_FnBody</span> 
<span class="Function">sem_FnBody_PlpgsqlFnBody</span> <span class="VarId">ann_</span> <span class="VarId">blk_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_blkOinProducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span>
              <span class="VarId">_blkOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_blkOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_blkIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_blkIcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_blkIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_blkIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 104, column 9)</span>
              <span class="VarId">_blkOinProducedCat</span> <span class="Symbol">=</span>
                  <span class="VarId">emptyCatalog</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PlpgsqlFnBody</span> <span class="VarId">ann_</span> <span class="VarId">_blkIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PlpgsqlFnBody</span> <span class="VarId">ann_</span> <span class="VarId">_blkIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_blkOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_blkOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_blkIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_blkIcatUpdates</span><span class="Symbol">,</span><span class="VarId">_blkIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_blkIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">blk_</span> <span class="VarId">_blkOcat</span> <span class="VarId">_blkOinProducedCat</span> <span class="VarId">_blkOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_FnBody_SqlFnBody</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_FnBody</span> 
<span class="Function">sem_FnBody_SqlFnBody</span> <span class="VarId">ann_</span> <span class="VarId">sts_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_stsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 129, column 9)</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 130, column 9)</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SqlFnBody</span> <span class="VarId">ann_</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SqlFnBody</span> <span class="VarId">ann_</span> <span class="VarId">_stsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_stsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_stsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_stsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_stsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sts_</span> <span class="VarId">_stsOcat</span> <span class="VarId">_stsOcatUpdates</span> <span class="VarId">_stsOlib</span> <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- InList ------------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF listType : Either [TypeError] Type originalTree : SELF alternatives: alternative InList: child ann : {Annotation} child exprs : ScalarExprList visit 0: local annotatedTree : _ local originalTree : _ alternative InSelect: child ann : {Annotation} child sel : QueryExpr visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">InList</span>  <span class="Symbol">=</span> <span class="ConId">InList</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> 
             <span class="Symbol">|</span> <span class="ConId">InSelect</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
             <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_InList</span> <span class="Symbol">::</span> <span class="ConId">InList</span>  <span class="Symbol">-&gt;</span>
              <span class="ConId">T_InList</span> 
<span class="Function">sem_InList</span> <span class="Symbol">(</span><span class="ConId">InList</span> <span class="VarId">_ann</span> <span class="VarId">_exprs</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_InList_InList</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_exprs</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_InList</span> <span class="Symbol">(</span><span class="ConId">InSelect</span> <span class="VarId">_ann</span> <span class="VarId">_sel</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_InList_InSelect</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_InList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                 <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                 <span class="Symbol">(</span> <span class="ConId">InList</span><span class="Symbol">,(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">),</span><span class="ConId">InList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_InList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_InList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_InList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_InList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_InList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_InList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_InList</span> <span class="Symbol">::</span> <span class="ConId">InList</span><span class="Symbol">,</span><span class="VarId">listType_Syn_InList</span> <span class="Symbol">::</span> <span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_InList</span> <span class="Symbol">::</span> <span class="ConId">InList</span><span class="Symbol">}</span>
<span class="Function">wrap_InList</span> <span class="Symbol">::</span> <span class="ConId">T_InList</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Inh_InList</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Syn_InList</span> 
<span class="Function">wrap_InList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_InList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_InList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOlistType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_InList_InList</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_InList</span> 
<span class="Function">sem_InList_InList</span> <span class="VarId">ann_</span> <span class="VarId">exprs_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlistType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_exprsOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">InList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">InList</span>
              <span class="VarId">_exprsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_exprsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_exprsItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_exprsIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 487, column 9)</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">=</span>
                  <span class="VarId">mapM</span> <span class="VarId">lmt</span> <span class="VarId">_exprsIuType</span> <span class="Symbol">&gt;&gt;=</span> <span class="VarId">resolveResultSetType</span> <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 602, column 14)</span>
              <span class="VarId">_exprsOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">InList</span> <span class="VarId">ann_</span> <span class="VarId">_exprsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">InList</span> <span class="VarId">ann_</span> <span class="VarId">_exprsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprsItbUTypes</span><span class="Symbol">,</span><span class="VarId">_exprsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">exprs_</span> <span class="VarId">_exprsOcat</span> <span class="VarId">_exprsOexpectedTypes</span> <span class="VarId">_exprsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_InList_InSelect</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_InList</span> 
<span class="Function">sem_InList_InSelect</span> <span class="VarId">ann_</span> <span class="VarId">sel_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlistType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">InList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">InList</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 489, column 9)</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">st</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">snd</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_selIuType</span><span class="Symbol">)</span>
                  <span class="Keyword">case</span> <span class="VarId">length</span> <span class="VarId">st</span> <span class="Keyword">of</span>
                            <span class="Number">0</span> <span class="Symbol">-&gt;</span> <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span>
                                       <span class="String">&quot;got subquery with no columns? in inselect&quot;</span><span class="Symbol">]</span>
                            <span class="Number">1</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="VarId">head</span> <span class="VarId">st</span>
                            <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">AnonymousRecordType</span> <span class="VarId">st</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 628, column 16)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">InSelect</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">InSelect</span> <span class="VarId">ann_</span> <span class="VarId">_selIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_selIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel_</span> <span class="VarId">_selOcat</span> <span class="VarId">_selOexpectedTypes</span> <span class="VarId">_selOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- JoinExpr ----------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative JoinOn: child ann : {Annotation} child expr : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative JoinUsing: child ann : {Annotation} child x : {[String]} visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">JoinExpr</span>  <span class="Symbol">=</span> <span class="ConId">JoinOn</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">JoinUsing</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> 
               <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_JoinExpr</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span>  <span class="Symbol">-&gt;</span>
                <span class="ConId">T_JoinExpr</span> 
<span class="Function">sem_JoinExpr</span> <span class="Symbol">(</span><span class="ConId">JoinOn</span> <span class="VarId">_ann</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_JoinExpr_JoinOn</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_JoinExpr</span> <span class="Symbol">(</span><span class="ConId">JoinUsing</span> <span class="VarId">_ann</span> <span class="VarId">_x</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_JoinExpr_JoinUsing</span> <span class="VarId">_ann</span> <span class="VarId">_x</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_JoinExpr</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                   <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                   <span class="Symbol">(</span> <span class="ConId">JoinExpr</span><span class="Symbol">,</span><span class="ConId">JoinExpr</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_JoinExpr</span>  <span class="Symbol">=</span> <span class="ConId">Inh_JoinExpr</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_JoinExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_JoinExpr</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_JoinExpr</span>  <span class="Symbol">=</span> <span class="ConId">Syn_JoinExpr</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_JoinExpr</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_JoinExpr</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span><span class="Symbol">}</span>
<span class="Function">wrap_JoinExpr</span> <span class="Symbol">::</span> <span class="ConId">T_JoinExpr</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Inh_JoinExpr</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Syn_JoinExpr</span> 
<span class="Function">wrap_JoinExpr</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_JoinExpr</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_JoinExpr</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_JoinExpr_JoinOn</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_JoinExpr</span> 
<span class="Function">sem_JoinExpr_JoinOn</span> <span class="VarId">ann_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 545, column 14)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">typeBool</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">JoinOn</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">JoinOn</span> <span class="VarId">ann_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_JoinExpr_JoinUsing</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                          <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_JoinExpr</span> 
<span class="Function">sem_JoinExpr_JoinUsing</span> <span class="VarId">ann_</span> <span class="VarId">x_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">JoinUsing</span> <span class="VarId">ann_</span> <span class="VarId">x_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">JoinUsing</span> <span class="VarId">ann_</span> <span class="VarId">x_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- MaybeBoolExpr -----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Just: child just : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative Nothing: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">MaybeBoolExpr</span>  <span class="Symbol">=</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_MaybeBoolExpr</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_MaybeBoolExpr</span> 
<span class="Function">sem_MaybeBoolExpr</span> <span class="Symbol">(</span><span class="ConId">Prelude.Just</span> <span class="VarId">x</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_MaybeBoolExpr_Just</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">x</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_MaybeBoolExpr</span> <span class="ConId">Prelude.Nothing</span>  <span class="Symbol">=</span>
    <span class="VarId">sem_MaybeBoolExpr_Nothing</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_MaybeBoolExpr</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                        <span class="Symbol">(</span> <span class="ConId">MaybeBoolExpr</span><span class="Symbol">,</span><span class="ConId">MaybeBoolExpr</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_MaybeBoolExpr</span>  <span class="Symbol">=</span> <span class="ConId">Inh_MaybeBoolExpr</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_MaybeBoolExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_MaybeBoolExpr</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_MaybeBoolExpr</span>  <span class="Symbol">=</span> <span class="ConId">Syn_MaybeBoolExpr</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_MaybeBoolExpr</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_MaybeBoolExpr</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span><span class="Symbol">}</span>
<span class="Function">wrap_MaybeBoolExpr</span> <span class="Symbol">::</span> <span class="ConId">T_MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Inh_MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Syn_MaybeBoolExpr</span> 
<span class="Function">wrap_MaybeBoolExpr</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_MaybeBoolExpr</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_MaybeBoolExpr</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_MaybeBoolExpr_Just</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_MaybeBoolExpr</span> 
<span class="Function">sem_MaybeBoolExpr_Just</span> <span class="VarId">just_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_justOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_justIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_justIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_justIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 131, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="Keyword">let</span> <span class="VarId">t</span> <span class="Symbol">=</span> <span class="VarId">_justIuType</span>
                  <span class="Keyword">in</span> <span class="Keyword">if</span> <span class="VarId">t</span> <span class="Symbol">`</span><span class="VarId">elem</span><span class="Symbol">`</span> <span class="Symbol">[</span><span class="ConId">Nothing</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="VarId">typeBool</span><span class="Symbol">]</span>
                     <span class="Keyword">then</span> <span class="ConId">Just</span> <span class="VarId">_justIannotatedTree</span>
                     <span class="Keyword">else</span> <span class="ConId">Just</span> <span class="Symbol">$</span> <span class="VarId">addTypeErrors</span> <span class="Symbol">[</span><span class="ConId">ExpressionMustBeBool</span><span class="Symbol">]</span> <span class="VarId">_justIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 548, column 12)</span>
              <span class="VarId">_justOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">typeBool</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_justIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_justIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_justIntType</span><span class="Symbol">,</span><span class="VarId">_justIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_justItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_justItbUType</span><span class="Symbol">,</span><span class="VarId">_justIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">just_</span> <span class="VarId">_justOcat</span> <span class="VarId">_justOexpectedType</span> <span class="VarId">_justOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_MaybeBoolExpr_Nothing</span> <span class="Symbol">::</span> <span class="ConId">T_MaybeBoolExpr</span> 
<span class="Function">sem_MaybeBoolExpr_Nothing</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- MaybeScalarExpr ---------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF uType : Maybe Type alternatives: alternative Just: child just : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative Nothing: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">MaybeScalarExpr</span>  <span class="Symbol">=</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_MaybeScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_MaybeScalarExpr</span> 
<span class="Function">sem_MaybeScalarExpr</span> <span class="Symbol">(</span><span class="ConId">Prelude.Just</span> <span class="VarId">x</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_MaybeScalarExpr_Just</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">x</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_MaybeScalarExpr</span> <span class="ConId">Prelude.Nothing</span>  <span class="Symbol">=</span>
    <span class="VarId">sem_MaybeScalarExpr_Nothing</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                          <span class="Symbol">(</span> <span class="ConId">MaybeScalarExpr</span><span class="Symbol">,</span><span class="ConId">MaybeScalarExpr</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_MaybeScalarExpr</span>  <span class="Symbol">=</span> <span class="ConId">Inh_MaybeScalarExpr</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_MaybeScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_MaybeScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_MaybeScalarExpr</span>  <span class="Symbol">=</span> <span class="ConId">Syn_MaybeScalarExpr</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_MaybeScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_MaybeScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span><span class="Symbol">,</span><span class="VarId">uType_Syn_MaybeScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">}</span>
<span class="Function">wrap_MaybeScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">Inh_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">Syn_MaybeScalarExpr</span> 
<span class="Function">wrap_MaybeScalarExpr</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_MaybeScalarExpr</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_MaybeScalarExpr</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">))</span>
<span class="Function">sem_MaybeScalarExpr_Just</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_MaybeScalarExpr</span> 
<span class="Function">sem_MaybeScalarExpr_Just</span> <span class="VarId">just_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_justOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_justIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_justIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_justItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_justIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 124, column 12)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">_justIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 551, column 12)</span>
              <span class="VarId">_justOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_justIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_justIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_justIntType</span><span class="Symbol">,</span><span class="VarId">_justIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_justItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_justItbUType</span><span class="Symbol">,</span><span class="VarId">_justIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">just_</span> <span class="VarId">_justOcat</span> <span class="VarId">_justOexpectedType</span> <span class="VarId">_justOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_MaybeScalarExpr_Nothing</span> <span class="Symbol">::</span> <span class="ConId">T_MaybeScalarExpr</span> 
<span class="Function">sem_MaybeScalarExpr_Nothing</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 125, column 15)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Comment">-- MaybeSelectList ---------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF listType : [(String,Type)] originalTree : SELF alternatives: alternative Just: child just : SelectList visit 0: local annotatedTree : _ local originalTree : _ alternative Nothing: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">MaybeSelectList</span>  <span class="Symbol">=</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">(</span><span class="ConId">SelectList</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_MaybeSelectList</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_MaybeSelectList</span> 
<span class="Function">sem_MaybeSelectList</span> <span class="Symbol">(</span><span class="ConId">Prelude.Just</span> <span class="VarId">x</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_MaybeSelectList_Just</span> <span class="Symbol">(</span><span class="VarId">sem_SelectList</span> <span class="VarId">x</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_MaybeSelectList</span> <span class="ConId">Prelude.Nothing</span>  <span class="Symbol">=</span>
    <span class="VarId">sem_MaybeSelectList_Nothing</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_MaybeSelectList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                          <span class="Symbol">(</span> <span class="ConId">MaybeSelectList</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">MaybeSelectList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_MaybeSelectList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_MaybeSelectList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_MaybeSelectList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_MaybeSelectList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_MaybeSelectList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_MaybeSelectList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_MaybeSelectList</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span><span class="Symbol">,</span><span class="VarId">listType_Syn_MaybeSelectList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_MaybeSelectList</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span><span class="Symbol">}</span>
<span class="Function">wrap_MaybeSelectList</span> <span class="Symbol">::</span> <span class="ConId">T_MaybeSelectList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">Inh_MaybeSelectList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">Syn_MaybeSelectList</span> 
<span class="Function">wrap_MaybeSelectList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_MaybeSelectList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_MaybeSelectList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOlistType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_MaybeSelectList_Just</span> <span class="Symbol">::</span> <span class="ConId">T_SelectList</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_MaybeSelectList</span> 
<span class="Function">sem_MaybeSelectList_Just</span> <span class="VarId">just_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_justIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span>
              <span class="VarId">_justIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_justIlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_justIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 39, column 12)</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">=</span>
                  <span class="VarId">_justIlistType</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_justIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_justIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_justIlistType</span><span class="Symbol">,</span><span class="VarId">_justIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">just_</span> <span class="VarId">_justOcat</span> <span class="VarId">_justOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_MaybeSelectList_Nothing</span> <span class="Symbol">::</span> <span class="ConId">T_MaybeSelectList</span> 
<span class="Function">sem_MaybeSelectList_Nothing</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 40, column 15)</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- OnExpr ------------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Just: child just : JoinExpr visit 0: local annotatedTree : _ local originalTree : _ alternative Nothing: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">OnExpr</span>  <span class="Symbol">=</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">(</span><span class="ConId">JoinExpr</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_OnExpr</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span>  <span class="Symbol">-&gt;</span>
              <span class="ConId">T_OnExpr</span> 
<span class="Function">sem_OnExpr</span> <span class="Symbol">(</span><span class="ConId">Prelude.Just</span> <span class="VarId">x</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_OnExpr_Just</span> <span class="Symbol">(</span><span class="VarId">sem_JoinExpr</span> <span class="VarId">x</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_OnExpr</span> <span class="ConId">Prelude.Nothing</span>  <span class="Symbol">=</span>
    <span class="VarId">sem_OnExpr_Nothing</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_OnExpr</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                 <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                 <span class="Symbol">(</span> <span class="ConId">OnExpr</span><span class="Symbol">,</span><span class="ConId">OnExpr</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_OnExpr</span>  <span class="Symbol">=</span> <span class="ConId">Inh_OnExpr</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_OnExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_OnExpr</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_OnExpr</span>  <span class="Symbol">=</span> <span class="ConId">Syn_OnExpr</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_OnExpr</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_OnExpr</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span><span class="Symbol">}</span>
<span class="Function">wrap_OnExpr</span> <span class="Symbol">::</span> <span class="ConId">T_OnExpr</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Inh_OnExpr</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Syn_OnExpr</span> 
<span class="Function">wrap_OnExpr</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_OnExpr</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_OnExpr</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_OnExpr_Just</span> <span class="Symbol">::</span> <span class="ConId">T_JoinExpr</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">T_OnExpr</span> 
<span class="Function">sem_OnExpr_Just</span> <span class="VarId">just_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_justIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span>
              <span class="VarId">_justIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">JoinExpr</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="VarId">_justIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_justOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_justIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_justIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">just_</span> <span class="VarId">_justOcat</span> <span class="VarId">_justOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_OnExpr_Nothing</span> <span class="Symbol">::</span> <span class="ConId">T_OnExpr</span> 
<span class="Function">sem_OnExpr_Nothing</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ParamDef ----------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings pos : Int synthesized attributes: annotatedTree : SELF namedType : Maybe Type originalTree : SELF paramName : ParamName alternatives: alternative ParamDef: child ann : {Annotation} child name : {String} child typ : TypeName visit 0: local annotatedTree : _ local originalTree : _ alternative ParamDefTp: child ann : {Annotation} child typ : TypeName visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">ParamDef</span>  <span class="Symbol">=</span> <span class="ConId">ParamDef</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">ParamDefTp</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> 
               <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span>  <span class="Symbol">-&gt;</span>
                <span class="ConId">T_ParamDef</span> 
<span class="Function">sem_ParamDef</span> <span class="Symbol">(</span><span class="ConId">ParamDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_typ</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ParamDef_ParamDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ParamDef</span> <span class="Symbol">(</span><span class="ConId">ParamDefTp</span> <span class="VarId">_ann</span> <span class="VarId">_typ</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ParamDef_ParamDefTp</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ParamDef</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                   <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                   <span class="ConId">Int</span> <span class="Symbol">-&gt;</span>
                   <span class="Symbol">(</span> <span class="ConId">ParamDef</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">),</span><span class="ConId">ParamDef</span><span class="Symbol">,</span><span class="ConId">ParamName</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ParamDef</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ParamDef</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">,</span><span class="VarId">pos_Inh_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">Int</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ParamDef</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ParamDef</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span><span class="Symbol">,</span><span class="VarId">namedType_Syn_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span><span class="Symbol">,</span><span class="VarId">paramName_Syn_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">ParamName</span><span class="Symbol">}</span>
<span class="Function">wrap_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">T_ParamDef</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Inh_ParamDef</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Syn_ParamDef</span> 
<span class="Function">wrap_ParamDef</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ParamDef</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIpos</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOparamName</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIpos</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ParamDef</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOnamedType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOparamName</span> <span class="Symbol">))</span>
<span class="Function">sem_ParamDef_ParamDef</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_ParamDef</span> 
<span class="Function">sem_ParamDef_ParamDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">typ_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span>
       <span class="VarId">_lhsIpos</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOparamName</span> <span class="Symbol">::</span> <span class="ConId">ParamName</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 45, column 9)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_typInamedType</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 47, column 9)</span>
              <span class="VarId">_lhsOparamName</span> <span class="Symbol">=</span>
                  <span class="ConId">NamedParam</span> <span class="VarId">_lhsIpos</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ParamDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ParamDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOparamName</span><span class="Symbol">)))</span>
<span class="Function">sem_ParamDef_ParamDefTp</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ParamDef</span> 
<span class="Function">sem_ParamDef_ParamDefTp</span> <span class="VarId">ann_</span> <span class="VarId">typ_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span>
       <span class="VarId">_lhsIpos</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOparamName</span> <span class="Symbol">::</span> <span class="ConId">ParamName</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 45, column 9)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_typInamedType</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 49, column 9)</span>
              <span class="VarId">_lhsOparamName</span> <span class="Symbol">=</span>
                  <span class="ConId">UnnamedParam</span> <span class="VarId">_lhsIpos</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ParamDefTp</span> <span class="VarId">ann_</span> <span class="VarId">_typIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ParamDefTp</span> <span class="VarId">ann_</span> <span class="VarId">_typIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOparamName</span><span class="Symbol">)))</span>
<span class="Comment">-- ParamDefList ------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings pos : Int synthesized attributes: annotatedTree : SELF originalTree : SELF params : [(ParamName, Maybe Type)] alternatives: alternative Cons: child hd : ParamDef child tl : ParamDefList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ParamDefList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">ParamDef</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ParamDefList</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>  <span class="Symbol">-&gt;</span>
                    <span class="ConId">T_ParamDefList</span> 
<span class="Function">sem_ParamDefList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_ParamDefList_Cons</span> <span class="VarId">sem_ParamDefList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_ParamDef</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ParamDefList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">Int</span> <span class="Symbol">-&gt;</span>
                       <span class="Symbol">(</span> <span class="ConId">ParamDefList</span><span class="Symbol">,</span><span class="ConId">ParamDefList</span><span class="Symbol">,([(</span><span class="ConId">ParamName</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)]))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ParamDefList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ParamDefList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ParamDefList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ParamDefList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">,</span><span class="VarId">pos_Inh_ParamDefList</span> <span class="Symbol">::</span> <span class="ConId">Int</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ParamDefList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ParamDefList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ParamDefList</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ParamDefList</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span><span class="Symbol">,</span><span class="VarId">params_Syn_ParamDefList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">ParamName</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)]}</span>
<span class="Function">wrap_ParamDefList</span> <span class="Symbol">::</span> <span class="ConId">T_ParamDefList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Inh_ParamDefList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Syn_ParamDefList</span> 
<span class="Function">wrap_ParamDefList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ParamDefList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIpos</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOparams</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIpos</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ParamDefList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOparams</span> <span class="Symbol">))</span>
<span class="Function">sem_ParamDefList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_ParamDef</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_ParamDefList</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_ParamDefList</span> 
<span class="Function">sem_ParamDefList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span>
       <span class="VarId">_lhsIpos</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOparams</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">ParamName</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_hdOpos</span> <span class="Symbol">::</span> <span class="ConId">Int</span>
              <span class="VarId">_tlOpos</span> <span class="Symbol">::</span> <span class="ConId">Int</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span>
              <span class="VarId">_hdInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDef</span>
              <span class="VarId">_hdIparamName</span> <span class="Symbol">::</span> <span class="ConId">ParamName</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="VarId">_tlIparams</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">ParamName</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 53, column 13)</span>
              <span class="VarId">_lhsOparams</span> <span class="Symbol">=</span>
                  <span class="Symbol">((</span><span class="VarId">_hdIparamName</span><span class="Symbol">,</span> <span class="VarId">_hdInamedType</span><span class="Symbol">)</span> <span class="Symbol">:</span> <span class="VarId">_tlIparams</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 54, column 13)</span>
              <span class="VarId">_hdOpos</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIpos</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 55, column 13)</span>
              <span class="VarId">_tlOpos</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIpos</span> <span class="Symbol">+</span> <span class="Number">1</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdInamedType</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_hdIparamName</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="VarId">_hdOpos</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tlIparams</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="VarId">_tlOpos</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOparams</span><span class="Symbol">)))</span>
<span class="Function">sem_ParamDefList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_ParamDefList</span> 
<span class="Function">sem_ParamDefList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span>
       <span class="VarId">_lhsIpos</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOparams</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">ParamName</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 52, column 12)</span>
              <span class="VarId">_lhsOparams</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOparams</span><span class="Symbol">)))</span>
<span class="Comment">-- QueryExpr ---------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog expectedTypes : [Maybe Type] lib : LocalBindings synthesized attributes: annotatedTree : SELF libUpdates : [LocalBindingsUpdate] originalTree : SELF uType : Maybe [(String,Type)] alternatives: alternative CombineSelect: child ann : {Annotation} child ctype : {CombineType} child sel1 : QueryExpr child sel2 : QueryExpr visit 0: local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative Select: child ann : {Annotation} child selDistinct : {Distinct} child selSelectList : SelectList child selTref : TableRefList child selWhere : MaybeBoolExpr child selGroupBy : ScalarExprList child selHaving : MaybeBoolExpr child selOrderBy : ScalarExprDirectionPairList child selLimit : MaybeScalarExpr child selOffset : MaybeScalarExpr visit 0: local newLib : _ local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative Values: child ann : {Annotation} child vll : ScalarExprListList visit 0: local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative WithSelect: child ann : {Annotation} child withs : WithQueryList child ex : QueryExpr visit 0: local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">QueryExpr</span>  <span class="Symbol">=</span> <span class="ConId">CombineSelect</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">CombineType</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Select</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Distinct</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">SelectList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableRefList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeBoolExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeBoolExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprDirectionPairList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeScalarExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Values</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprListList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">WithSelect</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">WithQueryList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_QueryExpr</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">T_QueryExpr</span> 
<span class="Function">sem_QueryExpr</span> <span class="Symbol">(</span><span class="ConId">CombineSelect</span> <span class="VarId">_ann</span> <span class="VarId">_ctype</span> <span class="VarId">_sel1</span> <span class="VarId">_sel2</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_QueryExpr_CombineSelect</span> <span class="VarId">_ann</span> <span class="VarId">_ctype</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel1</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel2</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_QueryExpr</span> <span class="Symbol">(</span><span class="ConId">Select</span> <span class="VarId">_ann</span> <span class="VarId">_selDistinct</span> <span class="VarId">_selSelectList</span> <span class="VarId">_selTref</span> <span class="VarId">_selWhere</span> <span class="VarId">_selGroupBy</span> <span class="VarId">_selHaving</span> <span class="VarId">_selOrderBy</span> <span class="VarId">_selLimit</span> <span class="VarId">_selOffset</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_QueryExpr_Select</span> <span class="VarId">_ann</span> <span class="VarId">_selDistinct</span> <span class="Symbol">(</span><span class="VarId">sem_SelectList</span> <span class="VarId">_selSelectList</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_TableRefList</span> <span class="VarId">_selTref</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeBoolExpr</span> <span class="VarId">_selWhere</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_selGroupBy</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeBoolExpr</span> <span class="VarId">_selHaving</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprDirectionPairList</span> <span class="VarId">_selOrderBy</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeScalarExpr</span> <span class="VarId">_selLimit</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeScalarExpr</span> <span class="VarId">_selOffset</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_QueryExpr</span> <span class="Symbol">(</span><span class="ConId">Values</span> <span class="VarId">_ann</span> <span class="VarId">_vll</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_QueryExpr_Values</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprListList</span> <span class="VarId">_vll</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_QueryExpr</span> <span class="Symbol">(</span><span class="ConId">WithSelect</span> <span class="VarId">_ann</span> <span class="VarId">_withs</span> <span class="VarId">_ex</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_QueryExpr_WithSelect</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_WithQueryList</span> <span class="VarId">_withs</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_ex</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_QueryExpr</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                    <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                    <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                    <span class="Symbol">(</span> <span class="ConId">QueryExpr</span><span class="Symbol">,([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">]),</span><span class="ConId">QueryExpr</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_QueryExpr</span>  <span class="Symbol">=</span> <span class="ConId">Inh_QueryExpr</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_QueryExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">expectedTypes_Inh_QueryExpr</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">],</span><span class="VarId">lib_Inh_QueryExpr</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_QueryExpr</span>  <span class="Symbol">=</span> <span class="ConId">Syn_QueryExpr</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_QueryExpr</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span><span class="Symbol">,</span><span class="VarId">libUpdates_Syn_QueryExpr</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">],</span><span class="VarId">originalTree_Syn_QueryExpr</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span><span class="Symbol">,</span><span class="VarId">uType_Syn_QueryExpr</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]}</span>
<span class="Function">wrap_QueryExpr</span> <span class="Symbol">::</span> <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">Inh_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">Syn_QueryExpr</span> 
<span class="Function">wrap_QueryExpr</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_QueryExpr</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_QueryExpr</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOlibUpdates</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">))</span>
<span class="Function">sem_QueryExpr_CombineSelect</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">CombineType</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_QueryExpr</span> 
<span class="Function">sem_QueryExpr_CombineSelect</span> <span class="VarId">ann_</span> <span class="VarId">ctype_</span> <span class="VarId">sel1_</span> <span class="VarId">sel2_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_sel1Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_sel1OexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_sel1Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_sel2Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_sel2OexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_sel2Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_sel1IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_sel1IlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_sel1IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_sel1IuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_sel2IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_sel2IlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_sel2IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_sel2IuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 115, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 142, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">sel1t</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">((</span><span class="ConId">SetOfType</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_sel1IuType</span><span class="Symbol">)</span>
                  <span class="VarId">sel2t</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">((</span><span class="ConId">SetOfType</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_sel2IuType</span><span class="Symbol">)</span>
                  <span class="VarId">typeCheckCombineSelect</span> <span class="VarId">_lhsIcat</span> <span class="VarId">sel1t</span> <span class="VarId">sel2t</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 148, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CombineSelect</span> <span class="VarId">ann_</span> <span class="VarId">ctype_</span>
                                <span class="VarId">_sel1IannotatedTree</span>
                                <span class="VarId">_sel2IannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 159, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="Symbol">(</span><span class="VarId">_tpe</span>     <span class="Symbol">&gt;&gt;=</span> <span class="VarId">unwrapSetOfComposite</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CombineSelect</span> <span class="VarId">ann_</span> <span class="VarId">ctype_</span> <span class="VarId">_sel1IannotatedTree</span> <span class="VarId">_sel2IannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CombineSelect</span> <span class="VarId">ann_</span> <span class="VarId">ctype_</span> <span class="VarId">_sel1IoriginalTree</span> <span class="VarId">_sel2IoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sel1Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sel1OexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedTypes</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sel1Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sel2Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sel2OexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedTypes</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sel2Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_sel1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_sel1IlibUpdates</span><span class="Symbol">,</span><span class="VarId">_sel1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_sel1IuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel1_</span> <span class="VarId">_sel1Ocat</span> <span class="VarId">_sel1OexpectedTypes</span> <span class="VarId">_sel1Olib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_sel2IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_sel2IlibUpdates</span><span class="Symbol">,</span><span class="VarId">_sel2IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_sel2IuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel2_</span> <span class="VarId">_sel2Ocat</span> <span class="VarId">_sel2OexpectedTypes</span> <span class="VarId">_sel2Olib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_QueryExpr_Select</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">Distinct</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_SelectList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_TableRefList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExprDirectionPairList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_QueryExpr</span> 
<span class="Function">sem_QueryExpr_Select</span> <span class="VarId">ann_</span> <span class="VarId">selDistinct_</span> <span class="VarId">selSelectList_</span> <span class="VarId">selTref_</span> <span class="VarId">selWhere_</span> <span class="VarId">selGroupBy_</span> <span class="VarId">selHaving_</span> <span class="VarId">selOrderBy_</span> <span class="VarId">selLimit_</span> <span class="VarId">selOffset_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_selGroupByOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selSelectListOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selWhereOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selGroupByOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selOrderByOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selSelectListOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selTrefOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selTrefOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selWhereOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selGroupByOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selHavingOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selHavingOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selOrderByOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selLimitOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selLimitOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selOffsetOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selOffsetOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selSelectListIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span>
              <span class="VarId">_selSelectListIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selSelectListIlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_selSelectListIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span>
              <span class="VarId">_selTrefIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_selTrefIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selTrefIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_selWhereIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_selWhereIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_selGroupByIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_selGroupByIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_selGroupByItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_selGroupByIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_selHavingIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_selHavingIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_selOrderByIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="VarId">_selOrderByIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="VarId">_selLimitIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_selLimitIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_selLimitIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_selOffsetIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_selOffsetIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_selOffsetIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 605, column 14)</span>
              <span class="VarId">_selGroupByOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 98, column 10)</span>
              <span class="VarId">_newLib</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">foldM</span> <span class="Symbol">(</span><span class="VarId">flip</span> <span class="Symbol">$</span> <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_selTrefIlibUpdates</span> <span class="Keyword">of</span>
                    <span class="ConId">Left</span> <span class="VarId">x</span> <span class="Symbol">-&gt;</span> <span class="VarId">error</span> <span class="Symbol">$</span> <span class="String">&quot;selectexpression-select-loc.newlib &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">x</span>
                    <span class="ConId">Right</span> <span class="VarId">e</span> <span class="Symbol">-&gt;</span> <span class="VarId">e</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 101, column 10)</span>
              <span class="VarId">_selSelectListOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_newLib</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 102, column 10)</span>
              <span class="VarId">_selWhereOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_newLib</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 103, column 10)</span>
              <span class="VarId">_selGroupByOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_newLib</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 104, column 10)</span>
              <span class="VarId">_selOrderByOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_newLib</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_selSelectListIlibUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 129, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">SetOfType</span> <span class="Symbol">$</span> <span class="ConId">CompositeType</span> <span class="VarId">_selSelectListIlistType</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 131, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Select</span> <span class="VarId">ann_</span>
                         <span class="VarId">selDistinct_</span>
                         <span class="VarId">_selSelectListIannotatedTree</span>
                         <span class="VarId">_selTrefIannotatedTree</span>
                         <span class="VarId">_selWhereIannotatedTree</span>
                         <span class="VarId">_selGroupByIannotatedTree</span>
                         <span class="VarId">_selHavingIannotatedTree</span>
                         <span class="VarId">_selOrderByIannotatedTree</span>
                         <span class="VarId">_selLimitIannotatedTree</span>
                         <span class="VarId">_selOffsetIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 159, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="Symbol">(</span><span class="VarId">_tpe</span>     <span class="Symbol">&gt;&gt;=</span> <span class="VarId">unwrapSetOfComposite</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Select</span> <span class="VarId">ann_</span> <span class="VarId">selDistinct_</span> <span class="VarId">_selSelectListIannotatedTree</span> <span class="VarId">_selTrefIannotatedTree</span> <span class="VarId">_selWhereIannotatedTree</span> <span class="VarId">_selGroupByIannotatedTree</span> <span class="VarId">_selHavingIannotatedTree</span> <span class="VarId">_selOrderByIannotatedTree</span> <span class="VarId">_selLimitIannotatedTree</span> <span class="VarId">_selOffsetIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Select</span> <span class="VarId">ann_</span> <span class="VarId">selDistinct_</span> <span class="VarId">_selSelectListIoriginalTree</span> <span class="VarId">_selTrefIoriginalTree</span> <span class="VarId">_selWhereIoriginalTree</span> <span class="VarId">_selGroupByIoriginalTree</span> <span class="VarId">_selHavingIoriginalTree</span> <span class="VarId">_selOrderByIoriginalTree</span> <span class="VarId">_selLimitIoriginalTree</span> <span class="VarId">_selOffsetIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selSelectListOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selTrefOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selTrefOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selWhereOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selGroupByOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selHavingOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selHavingOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOrderByOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selLimitOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selLimitOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOffsetOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOffsetOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_selSelectListIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selSelectListIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selSelectListIlistType</span><span class="Symbol">,</span><span class="VarId">_selSelectListIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selSelectList_</span> <span class="VarId">_selSelectListOcat</span> <span class="VarId">_selSelectListOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selTrefIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selTrefIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selTrefIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selTref_</span> <span class="VarId">_selTrefOcat</span> <span class="VarId">_selTrefOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selWhereIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selWhereIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selWhere_</span> <span class="VarId">_selWhereOcat</span> <span class="VarId">_selWhereOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selGroupByIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selGroupByIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selGroupByItbUTypes</span><span class="Symbol">,</span><span class="VarId">_selGroupByIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selGroupBy_</span> <span class="VarId">_selGroupByOcat</span> <span class="VarId">_selGroupByOexpectedTypes</span> <span class="VarId">_selGroupByOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selHavingIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selHavingIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selHaving_</span> <span class="VarId">_selHavingOcat</span> <span class="VarId">_selHavingOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selOrderByIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selOrderByIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selOrderBy_</span> <span class="VarId">_selOrderByOcat</span> <span class="VarId">_selOrderByOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selLimitIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selLimitIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selLimitIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selLimit_</span> <span class="VarId">_selLimitOcat</span> <span class="VarId">_selLimitOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selOffsetIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selOffsetIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selOffsetIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">selOffset_</span> <span class="VarId">_selOffsetOcat</span> <span class="VarId">_selOffsetOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_QueryExpr_Values</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExprListList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_QueryExpr</span> 
<span class="Function">sem_QueryExpr_Values</span> <span class="VarId">ann_</span> <span class="VarId">vll_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_vllOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_vllOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_vllOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_vllIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="VarId">_vllIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="VarId">_vllIuType</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 619, column 14)</span>
              <span class="VarId">_vllOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedTypes</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 115, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 124, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">typeCheckValuesExpr</span>
                              <span class="VarId">_lhsIcat</span>
                              <span class="VarId">_vllIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 127, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Values</span> <span class="VarId">ann_</span> <span class="VarId">_vllIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 159, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="Symbol">(</span><span class="VarId">_tpe</span>     <span class="Symbol">&gt;&gt;=</span> <span class="VarId">unwrapSetOfComposite</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Values</span> <span class="VarId">ann_</span> <span class="VarId">_vllIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Values</span> <span class="VarId">ann_</span> <span class="VarId">_vllIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_vllOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_vllOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_vllIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_vllIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_vllIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">vll_</span> <span class="VarId">_vllOcat</span> <span class="VarId">_vllOexpectedTypes</span> <span class="VarId">_vllOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_QueryExpr_WithSelect</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_WithQueryList</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_QueryExpr</span> 
<span class="Function">sem_QueryExpr_WithSelect</span> <span class="VarId">ann_</span> <span class="VarId">withs_</span> <span class="VarId">ex_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_withsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_withsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_withsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_withsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="VarId">_withsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="VarId">_withsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_exIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 119, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_exIlibUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 152, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">lmt</span> <span class="Symbol">((</span><span class="ConId">SetOfType</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_exIuType</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 153, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WithSelect</span> <span class="VarId">ann_</span> <span class="VarId">_withsIannotatedTree</span> <span class="VarId">_exIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 154, column 9)</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_withsIproducedCat</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 155, column 9)</span>
              <span class="VarId">_withsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 159, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="Symbol">(</span><span class="VarId">_tpe</span>     <span class="Symbol">&gt;&gt;=</span> <span class="VarId">unwrapSetOfComposite</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WithSelect</span> <span class="VarId">ann_</span> <span class="VarId">_withsIannotatedTree</span> <span class="VarId">_exIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WithSelect</span> <span class="VarId">ann_</span> <span class="VarId">_withsIoriginalTree</span> <span class="VarId">_exIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_withsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_withsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedTypes</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_withsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_withsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_withsIproducedCat</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">withs_</span> <span class="VarId">_withsOcat</span> <span class="VarId">_withsOcatUpdates</span> <span class="VarId">_withsOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_exIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_exIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">ex_</span> <span class="VarId">_exOcat</span> <span class="VarId">_exOexpectedTypes</span> <span class="VarId">_exOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Comment">-- Root --------------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF producedCat : Catalog producedLib : LocalBindings alternatives: alternative Root: child statements : StatementList visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">Root</span>  <span class="Symbol">=</span> <span class="ConId">Root</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
           <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Show</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_Root</span> <span class="Symbol">::</span> <span class="ConId">Root</span>  <span class="Symbol">-&gt;</span>
            <span class="ConId">T_Root</span> 
<span class="Function">sem_Root</span> <span class="Symbol">(</span><span class="ConId">Root</span> <span class="VarId">_statements</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Root_Root</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_statements</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_Root</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
               <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
               <span class="Symbol">(</span> <span class="ConId">Root</span><span class="Symbol">,</span><span class="ConId">Root</span><span class="Symbol">,</span><span class="ConId">Catalog</span><span class="Symbol">,</span><span class="ConId">LocalBindings</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_Root</span>  <span class="Symbol">=</span> <span class="ConId">Inh_Root</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_Root</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_Root</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_Root</span>  <span class="Symbol">=</span> <span class="ConId">Syn_Root</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_Root</span> <span class="Symbol">::</span> <span class="ConId">Root</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_Root</span> <span class="Symbol">::</span> <span class="ConId">Root</span><span class="Symbol">,</span><span class="VarId">producedCat_Syn_Root</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">producedLib_Syn_Root</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Function">wrap_Root</span> <span class="Symbol">::</span> <span class="ConId">T_Root</span>  <span class="Symbol">-&gt;</span>
             <span class="ConId">Inh_Root</span>  <span class="Symbol">-&gt;</span>
             <span class="ConId">Syn_Root</span> 
<span class="Function">wrap_Root</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_Root</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_Root</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOproducedCat</span> <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">))</span>
<span class="Function">sem_Root_Root</span> <span class="Symbol">::</span> <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">T_Root</span> 
<span class="Function">sem_Root_Root</span> <span class="VarId">statements_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_statementsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Root</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Root</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_statementsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_statementsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_statementsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_statementsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_statementsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_statementsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 107, column 12)</span>
              <span class="VarId">_statementsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 108, column 12)</span>
              <span class="VarId">_statementsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Root</span> <span class="VarId">_statementsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Root</span> <span class="VarId">_statementsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (up)</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">=</span>
                  <span class="VarId">_statementsIproducedCat</span>
              <span class="Comment">-- copy rule (up)</span>
              <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">=</span>
                  <span class="VarId">_statementsIproducedLib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_statementsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_statementsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_statementsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_statementsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_statementsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_statementsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">statements_</span> <span class="VarId">_statementsOcat</span> <span class="VarId">_statementsOcatUpdates</span> <span class="VarId">_statementsOlib</span> <span class="VarId">_statementsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedLib</span><span class="Symbol">)))</span>
<span class="Comment">-- RowConstraint -----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative NotNullConstraint: child ann : {Annotation} child name : {String} visit 0: local annotatedTree : _ local originalTree : _ alternative NullConstraint: child ann : {Annotation} child name : {String} visit 0: local annotatedTree : _ local originalTree : _ alternative RowCheckConstraint: child ann : {Annotation} child name : {String} child expr : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative RowPrimaryKeyConstraint: child ann : {Annotation} child name : {String} visit 0: local annotatedTree : _ local originalTree : _ alternative RowReferenceConstraint: child ann : {Annotation} child name : {String} child table : {String} child att : {Maybe String} child onUpdate : {Cascade} child onDelete : {Cascade} visit 0: local annotatedTree : _ local originalTree : _ alternative RowUniqueConstraint: child ann : {Annotation} child name : {String} visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">RowConstraint</span>  <span class="Symbol">=</span> <span class="ConId">NotNullConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                    <span class="Symbol">|</span> <span class="ConId">NullConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                    <span class="Symbol">|</span> <span class="ConId">RowCheckConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                    <span class="Symbol">|</span> <span class="ConId">RowPrimaryKeyConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                    <span class="Symbol">|</span> <span class="ConId">RowReferenceConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Cascade</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Cascade</span><span class="Symbol">)</span> 
                    <span class="Symbol">|</span> <span class="ConId">RowUniqueConstraint</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                    <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_RowConstraint</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_RowConstraint</span> 
<span class="Function">sem_RowConstraint</span> <span class="Symbol">(</span><span class="ConId">NotNullConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_RowConstraint_NotNullConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>
<span class="Function">sem_RowConstraint</span> <span class="Symbol">(</span><span class="ConId">NullConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_RowConstraint_NullConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>
<span class="Function">sem_RowConstraint</span> <span class="Symbol">(</span><span class="ConId">RowCheckConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_RowConstraint_RowCheckConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_RowConstraint</span> <span class="Symbol">(</span><span class="ConId">RowPrimaryKeyConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_RowConstraint_RowPrimaryKeyConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>
<span class="Function">sem_RowConstraint</span> <span class="Symbol">(</span><span class="ConId">RowReferenceConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_table</span> <span class="VarId">_att</span> <span class="VarId">_onUpdate</span> <span class="VarId">_onDelete</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_RowConstraint_RowReferenceConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_table</span> <span class="VarId">_att</span> <span class="VarId">_onUpdate</span> <span class="VarId">_onDelete</span> <span class="Symbol">)</span>
<span class="Function">sem_RowConstraint</span> <span class="Symbol">(</span><span class="ConId">RowUniqueConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_RowConstraint_RowUniqueConstraint</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_RowConstraint</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                        <span class="Symbol">(</span> <span class="ConId">RowConstraint</span><span class="Symbol">,</span><span class="ConId">RowConstraint</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_RowConstraint</span>  <span class="Symbol">=</span> <span class="ConId">Inh_RowConstraint</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_RowConstraint</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_RowConstraint</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_RowConstraint</span>  <span class="Symbol">=</span> <span class="ConId">Syn_RowConstraint</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_RowConstraint</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_RowConstraint</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span><span class="Symbol">}</span>
<span class="Function">wrap_RowConstraint</span> <span class="Symbol">::</span> <span class="ConId">T_RowConstraint</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Inh_RowConstraint</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Syn_RowConstraint</span> 
<span class="Function">wrap_RowConstraint</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_RowConstraint</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_RowConstraint</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_RowConstraint_NotNullConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                       <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                       <span class="ConId">T_RowConstraint</span> 
<span class="Function">sem_RowConstraint_NotNullConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NotNullConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NotNullConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_RowConstraint_NullConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                    <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                    <span class="ConId">T_RowConstraint</span> 
<span class="Function">sem_RowConstraint_NullConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NullConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NullConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_RowConstraint_RowCheckConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                        <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                        <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">T_RowConstraint</span> 
<span class="Function">sem_RowConstraint_RowCheckConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 554, column 26)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowCheckConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowCheckConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_RowConstraint_RowPrimaryKeyConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                             <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                             <span class="ConId">T_RowConstraint</span> 
<span class="Function">sem_RowConstraint_RowPrimaryKeyConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowPrimaryKeyConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowPrimaryKeyConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_RowConstraint_RowReferenceConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                            <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                            <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                            <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                                            <span class="ConId">Cascade</span> <span class="Symbol">-&gt;</span>
                                            <span class="ConId">Cascade</span> <span class="Symbol">-&gt;</span>
                                            <span class="ConId">T_RowConstraint</span> 
<span class="Function">sem_RowConstraint_RowReferenceConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">table_</span> <span class="VarId">att_</span> <span class="VarId">onUpdate_</span> <span class="VarId">onDelete_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowReferenceConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">table_</span> <span class="VarId">att_</span> <span class="VarId">onUpdate_</span> <span class="VarId">onDelete_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowReferenceConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">table_</span> <span class="VarId">att_</span> <span class="VarId">onUpdate_</span> <span class="VarId">onDelete_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_RowConstraint_RowUniqueConstraint</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                         <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                         <span class="ConId">T_RowConstraint</span> 
<span class="Function">sem_RowConstraint_RowUniqueConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowUniqueConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">RowUniqueConstraint</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- RowConstraintList -------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Cons: child hd : RowConstraint child tl : RowConstraintList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">RowConstraintList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">RowConstraint</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_RowConstraintList</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_RowConstraintList</span> 
<span class="Function">sem_RowConstraintList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_RowConstraintList_Cons</span> <span class="VarId">sem_RowConstraintList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_RowConstraint</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_RowConstraintList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                            <span class="Symbol">(</span> <span class="ConId">RowConstraintList</span><span class="Symbol">,</span><span class="ConId">RowConstraintList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_RowConstraintList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_RowConstraintList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_RowConstraintList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_RowConstraintList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_RowConstraintList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_RowConstraintList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_RowConstraintList</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_RowConstraintList</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span><span class="Symbol">}</span>
<span class="Function">wrap_RowConstraintList</span> <span class="Symbol">::</span> <span class="ConId">T_RowConstraintList</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">Inh_RowConstraintList</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">Syn_RowConstraintList</span> 
<span class="Function">wrap_RowConstraintList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_RowConstraintList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_RowConstraintList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_RowConstraintList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_RowConstraint</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_RowConstraintList</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_RowConstraintList</span> 
<span class="Function">sem_RowConstraintList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraint</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_RowConstraintList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_RowConstraintList</span> 
<span class="Function">sem_RowConstraintList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">RowConstraintList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExpr --------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog expectedType : Maybe Type lib : LocalBindings synthesized attributes: annotatedTree : SELF ntAnnotatedTree : ScalarExpr ntType : [(String,Type)] originalTree : SELF tbAnnotatedTree : ScalarExpr tbUType : Maybe ([(String,Type)],[(String,Type)]) uType : Maybe Type alternatives: alternative BooleanLit: child ann : {Annotation} child b : {Bool} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative Case: child ann : {Annotation} child cases : CaseScalarExprListScalarExprPairList child els : MaybeScalarExpr visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local whenTypes : _ local thenTypes : _ local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative CaseSimple: child ann : {Annotation} child value : ScalarExpr child cases : CaseScalarExprListScalarExprPairList child els : MaybeScalarExpr visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local whenTypes : _ local thenTypes : _ local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative Cast: child ann : {Annotation} child expr : ScalarExpr child tn : TypeName visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative Exists: child ann : {Annotation} child sel : QueryExpr visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local liftedColumnName : _ local ntType : _ local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative FloatLit: child ann : {Annotation} child d : {Double} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative FunCall: child ann : {Annotation} child funName : {String} child args : ScalarExprList visit 0: local tbUType : {E ([(String,Type)], [(String,Type)])} local <em
	>tup1 :</em
	> local tpe : {Et} local prototype : _ local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative Identifier: child ann : {Annotation} child i : {String} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local ntType : {E [(String,Type)]} local annotatedTree : _ local originalTree : _ alternative InPredicate: child ann : {Annotation} child expr : ScalarExpr child i : {Bool} child list : InList visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local liftedColumnName : _ local ntType : _ local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative IntegerLit: child ann : {Annotation} child i : {Integer} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative LiftOperator: child ann : {Annotation} child oper : {String} child flav : {LiftFlavour} child args : ScalarExprList visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative NullLit: child ann : {Annotation} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative Placeholder: child ann : {Annotation} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local liftedColumnName : _ local ntType : _ local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative PositionalArg: child ann : {Annotation} child p : {Integer} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local liftedColumnName : _ local ntType : _ local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative QIdentifier: child ann : {Annotation} child qual : ScalarExpr child i : {String} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local qid : {Maybe String} local backTree : _ local qAnnTreeNoUnrec : _ local ntType : {E [(String,Type)]} local annotatedTree : _ local originalTree : _ alternative ScalarSubQuery: child ann : {Annotation} child sel : QueryExpr visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local liftedColumnName : _ local ntType : _ local tpe : {Et} local backTree : _ local annotatedTree : _ local originalTree : _ alternative StringLit: child ann : {Annotation} child value : {String} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ alternative WindowFn: child ann : {Annotation} child fn : ScalarExpr child partitionBy : ScalarExprList child orderBy : ScalarExprList child dir : {Direction} child frm : {FrameClause} visit 0: local prototype : {Maybe FunctionPrototype} local tbUType : {E ([(String,Type)], [(String,Type)])} local tpe : {Et} local backTree : _ local liftedColumnName : _ local ntType : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">ScalarExpr</span>  <span class="Symbol">=</span> <span class="ConId">BooleanLit</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Bool</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">Case</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">CaseScalarExprListScalarExprPairList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeScalarExpr</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">CaseSimple</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">CaseScalarExprListScalarExprPairList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeScalarExpr</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">Cast</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">Exists</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">FloatLit</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Double</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">FunCall</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">Identifier</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">InPredicate</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Bool</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">InList</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">IntegerLit</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">LiftOperator</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">LiftFlavour</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">NullLit</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">Placeholder</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">PositionalArg</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">QIdentifier</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">ScalarSubQuery</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">StringLit</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">WindowFn</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Direction</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">FrameClause</span><span class="Symbol">)</span> 
                 <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">BooleanLit</span> <span class="VarId">_ann</span> <span class="VarId">_b</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_BooleanLit</span> <span class="VarId">_ann</span> <span class="VarId">_b</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">Case</span> <span class="VarId">_ann</span> <span class="VarId">_cases</span> <span class="VarId">_els</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_Case</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_CaseScalarExprListScalarExprPairList</span> <span class="VarId">_cases</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeScalarExpr</span> <span class="VarId">_els</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">CaseSimple</span> <span class="VarId">_ann</span> <span class="VarId">_value</span> <span class="VarId">_cases</span> <span class="VarId">_els</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_CaseSimple</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_value</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_CaseScalarExprListScalarExprPairList</span> <span class="VarId">_cases</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeScalarExpr</span> <span class="VarId">_els</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">Cast</span> <span class="VarId">_ann</span> <span class="VarId">_expr</span> <span class="VarId">_tn</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_Cast</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_tn</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">Exists</span> <span class="VarId">_ann</span> <span class="VarId">_sel</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_Exists</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">FloatLit</span> <span class="VarId">_ann</span> <span class="VarId">_d</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_FloatLit</span> <span class="VarId">_ann</span> <span class="VarId">_d</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">FunCall</span> <span class="VarId">_ann</span> <span class="VarId">_funName</span> <span class="VarId">_args</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_FunCall</span> <span class="VarId">_ann</span> <span class="VarId">_funName</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_args</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">Identifier</span> <span class="VarId">_ann</span> <span class="VarId">_i</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_Identifier</span> <span class="VarId">_ann</span> <span class="VarId">_i</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">InPredicate</span> <span class="VarId">_ann</span> <span class="VarId">_expr</span> <span class="VarId">_i</span> <span class="VarId">_list</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_InPredicate</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="VarId">_i</span> <span class="Symbol">(</span><span class="VarId">sem_InList</span> <span class="VarId">_list</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">IntegerLit</span> <span class="VarId">_ann</span> <span class="VarId">_i</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_IntegerLit</span> <span class="VarId">_ann</span> <span class="VarId">_i</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">LiftOperator</span> <span class="VarId">_ann</span> <span class="VarId">_oper</span> <span class="VarId">_flav</span> <span class="VarId">_args</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_LiftOperator</span> <span class="VarId">_ann</span> <span class="VarId">_oper</span> <span class="VarId">_flav</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_args</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">NullLit</span> <span class="VarId">_ann</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_NullLit</span> <span class="VarId">_ann</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">Placeholder</span> <span class="VarId">_ann</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_Placeholder</span> <span class="VarId">_ann</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">PositionalArg</span> <span class="VarId">_ann</span> <span class="VarId">_p</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_PositionalArg</span> <span class="VarId">_ann</span> <span class="VarId">_p</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">QIdentifier</span> <span class="VarId">_ann</span> <span class="VarId">_qual</span> <span class="VarId">_i</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_QIdentifier</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_qual</span> <span class="Symbol">)</span> <span class="VarId">_i</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">ScalarSubQuery</span> <span class="VarId">_ann</span> <span class="VarId">_sel</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_ScalarSubQuery</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">StringLit</span> <span class="VarId">_ann</span> <span class="VarId">_value</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_StringLit</span> <span class="VarId">_ann</span> <span class="VarId">_value</span> <span class="Symbol">)</span>
<span class="Function">sem_ScalarExpr</span> <span class="Symbol">(</span><span class="ConId">WindowFn</span> <span class="VarId">_ann</span> <span class="VarId">_fn</span> <span class="VarId">_partitionBy</span> <span class="VarId">_orderBy</span> <span class="VarId">_dir</span> <span class="VarId">_frm</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr_WindowFn</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_fn</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_partitionBy</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_orderBy</span> <span class="Symbol">)</span> <span class="VarId">_dir</span> <span class="VarId">_frm</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                     <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                     <span class="Symbol">(</span> <span class="ConId">ScalarExpr</span><span class="Symbol">,</span><span class="ConId">ScalarExpr</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">ScalarExpr</span><span class="Symbol">,</span><span class="ConId">ScalarExpr</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])),(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExpr</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExpr</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">expectedType_Inh_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExpr</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExpr</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span><span class="Symbol">,</span><span class="VarId">ntAnnotatedTree_Syn_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span><span class="Symbol">,</span><span class="VarId">ntType_Syn_ScalarExpr</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span><span class="Symbol">,</span><span class="VarId">tbAnnotatedTree_Syn_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span><span class="Symbol">,</span><span class="VarId">tbUType_Syn_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]),</span><span class="VarId">uType_Syn_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExpr</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Inh_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Syn_ScalarExpr</span> 
<span class="Function">wrap_ScalarExpr</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExpr</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedType</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedType</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExpr</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOntAnnotatedTree</span> <span class="VarId">_lhsOntType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="VarId">_lhsOtbUType</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExpr_BooleanLit</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">Bool</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_BooleanLit</span> <span class="VarId">ann_</span> <span class="VarId">b_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 176, column 19)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="VarId">typeBool</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 188, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">BooleanLit</span> <span class="VarId">ann_</span> <span class="VarId">b_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">BooleanLit</span> <span class="VarId">ann_</span> <span class="VarId">b_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">BooleanLit</span> <span class="VarId">ann_</span> <span class="VarId">b_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_Case</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_Case</span> <span class="VarId">ann_</span> <span class="VarId">cases_</span> <span class="VarId">els_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_casesIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_casesIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_casesIthenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_casesIwhenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="VarId">_elsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_elsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_elsIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 289, column 9)</span>
              <span class="VarId">_whenTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_casesIwhenTypes</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 290, column 9)</span>
              <span class="VarId">_thenTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_casesIthenTypes</span> <span class="Symbol">++</span> <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="Symbol">((:[])</span> <span class="Symbol">.</span> <span class="ConId">Just</span><span class="Symbol">)</span> <span class="VarId">_elsIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 294, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">wt</span> <span class="Symbol">&lt;-</span> <span class="VarId">mapM</span> <span class="VarId">lmt</span> <span class="Symbol">$</span> <span class="VarId">concat</span> <span class="VarId">_whenTypes</span>
                  <span class="VarId">errorWhen</span> <span class="Symbol">(</span><span class="VarId">any</span> <span class="Symbol">(/=</span> <span class="VarId">typeBool</span><span class="Symbol">)</span> <span class="VarId">wt</span><span class="Symbol">)</span>
                      <span class="Symbol">[</span><span class="ConId">WrongTypes</span> <span class="VarId">typeBool</span> <span class="VarId">wt</span><span class="Symbol">]</span>
                  <span class="VarId">tt</span> <span class="Symbol">&lt;-</span> <span class="VarId">mapM</span> <span class="VarId">lmt</span> <span class="VarId">_thenTypes</span>
                  <span class="VarId">resolveResultSetType</span> <span class="VarId">_lhsIcat</span> <span class="VarId">tt</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 302, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Case</span> <span class="VarId">ann_</span> <span class="VarId">_casesIannotatedTree</span> <span class="VarId">_elsIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Case</span> <span class="VarId">ann_</span> <span class="VarId">_casesIannotatedTree</span> <span class="VarId">_elsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Case</span> <span class="VarId">ann_</span> <span class="VarId">_casesIoriginalTree</span> <span class="VarId">_elsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_casesIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_casesIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_casesIthenTypes</span><span class="Symbol">,</span><span class="VarId">_casesIwhenTypes</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">cases_</span> <span class="VarId">_casesOcat</span> <span class="VarId">_casesOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_elsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_elsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_elsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">els_</span> <span class="VarId">_elsOcat</span> <span class="VarId">_elsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_CaseSimple</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_CaseScalarExprListScalarExprPairList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_CaseSimple</span> <span class="VarId">ann_</span> <span class="VarId">value_</span> <span class="VarId">cases_</span> <span class="VarId">els_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_valueOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_valueOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_valueIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_valueIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_valueIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_casesIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_casesIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">CaseScalarExprListScalarExprPairList</span>
              <span class="VarId">_casesIthenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_casesIwhenTypes</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="VarId">_elsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_elsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_elsIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 289, column 9)</span>
              <span class="VarId">_whenTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_casesIwhenTypes</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 290, column 9)</span>
              <span class="VarId">_thenTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_casesIthenTypes</span> <span class="Symbol">++</span> <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="Symbol">((:[])</span> <span class="Symbol">.</span> <span class="ConId">Just</span><span class="Symbol">)</span> <span class="VarId">_elsIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 307, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">wt</span> <span class="Symbol">&lt;-</span> <span class="VarId">mapM</span> <span class="VarId">lmt</span> <span class="Symbol">$</span> <span class="VarId">concat</span> <span class="VarId">_whenTypes</span>
                  <span class="VarId">vt</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_valueIuType</span>
                  <span class="VarId">_</span> <span class="Symbol">&lt;-</span> <span class="VarId">resolveResultSetType</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="VarId">vt</span> <span class="Symbol">:</span> <span class="VarId">wt</span><span class="Symbol">)</span>
                  <span class="VarId">tt</span> <span class="Symbol">&lt;-</span> <span class="VarId">mapM</span> <span class="VarId">lmt</span> <span class="VarId">_thenTypes</span>
                  <span class="VarId">resolveResultSetType</span> <span class="VarId">_lhsIcat</span> <span class="VarId">tt</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 314, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CaseSimple</span> <span class="VarId">ann_</span>
                             <span class="VarId">_valueIannotatedTree</span>
                             <span class="VarId">_casesIannotatedTree</span>
                             <span class="VarId">_elsIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CaseSimple</span> <span class="VarId">ann_</span> <span class="VarId">_valueIannotatedTree</span> <span class="VarId">_casesIannotatedTree</span> <span class="VarId">_elsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CaseSimple</span> <span class="VarId">ann_</span> <span class="VarId">_valueIoriginalTree</span> <span class="VarId">_casesIoriginalTree</span> <span class="VarId">_elsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valueOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valueOexpectedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedType</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valueOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_valueIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_valueIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_valueIntType</span><span class="Symbol">,</span><span class="VarId">_valueIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_valueItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_valueItbUType</span><span class="Symbol">,</span><span class="VarId">_valueIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">value_</span> <span class="VarId">_valueOcat</span> <span class="VarId">_valueOexpectedType</span> <span class="VarId">_valueOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_casesIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_casesIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_casesIthenTypes</span><span class="Symbol">,</span><span class="VarId">_casesIwhenTypes</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">cases_</span> <span class="VarId">_casesOcat</span> <span class="VarId">_casesOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_elsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_elsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_elsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">els_</span> <span class="VarId">_elsOcat</span> <span class="VarId">_elsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_Cast</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_Cast</span> <span class="VarId">ann_</span> <span class="VarId">expr_</span> <span class="VarId">tn_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tnOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tnOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tnIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_tnInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tnIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 201, column 12)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">lmt</span> <span class="VarId">_tnInamedType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 202, column 12)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Cast</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span> <span class="VarId">_tnIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 390, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_tnIannotatedTree</span> <span class="Keyword">of</span>
                    <span class="ConId">SimpleTypeName</span> <span class="VarId">_</span> <span class="VarId">tn</span> <span class="Symbol">-&gt;</span> <span class="VarId">tn</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Cast</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span> <span class="VarId">_tnIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Cast</span> <span class="VarId">ann_</span> <span class="VarId">_exprIoriginalTree</span> <span class="VarId">_tnIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedType</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tnOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tnOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tnIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tnInamedType</span><span class="Symbol">,</span><span class="VarId">_tnIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tn_</span> <span class="VarId">_tnOcat</span> <span class="VarId">_tnOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_Exists</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_Exists</span> <span class="VarId">ann_</span> <span class="VarId">sel_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 444, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="VarId">typeBool</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 445, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Exists</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 626, column 29)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Exists</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Exists</span> <span class="VarId">ann_</span> <span class="VarId">_selIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_selIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel_</span> <span class="VarId">_selOcat</span> <span class="VarId">_selOexpectedTypes</span> <span class="VarId">_selOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_FloatLit</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">Double</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_FloatLit</span> <span class="VarId">ann_</span> <span class="VarId">d_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 175, column 17)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="VarId">typeNumeric</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 186, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FloatLit</span> <span class="VarId">ann_</span> <span class="VarId">d_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FloatLit</span> <span class="VarId">ann_</span> <span class="VarId">d_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FloatLit</span> <span class="VarId">ann_</span> <span class="VarId">d_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_FunCall</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_FunCall</span> <span class="VarId">ann_</span> <span class="VarId">funName_</span> <span class="VarId">args_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_argsOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_argsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_argsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_argsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_argsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_argsItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_argsIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="Symbol">(</span><span class="VarId">funName_</span><span class="Symbol">,</span><span class="VarId">_argsItbUTypes</span><span class="Symbol">)</span> <span class="Keyword">of</span>
                   <span class="Symbol">(</span><span class="String">&quot;.&quot;</span><span class="Symbol">,</span> <span class="Symbol">[</span><span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="VarId">t</span>
                   <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 209, column 9)</span>
              <span class="VarId">__tup1</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(\</span><span class="VarId">e</span> <span class="Symbol">-&gt;</span> <span class="Symbol">(</span><span class="ConId">Left</span> <span class="VarId">e</span><span class="Symbol">,</span> <span class="ConId">Nothing</span><span class="Symbol">))</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">args</span> <span class="Symbol">&lt;-</span> <span class="VarId">mapM</span> <span class="VarId">lmt</span> <span class="VarId">_argsIuType</span>
                  <span class="VarId">efp</span> <span class="Symbol">&lt;-</span> <span class="VarId">findCallMatch</span> <span class="VarId">_lhsIcat</span>
                                       <span class="VarId">funName_</span>
                                       <span class="VarId">args</span>
                  <span class="Keyword">let</span> <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">r</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">efp</span>
                  <span class="VarId">return</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="VarId">r</span><span class="Symbol">,</span> <span class="ConId">Just</span> <span class="VarId">efp</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 209, column 9)</span>
              <span class="Symbol">(</span><span class="VarId">_tpe</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="VarId">__tup1</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 209, column 9)</span>
              <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">_prototype</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="VarId">__tup1</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 219, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FunCall</span> <span class="VarId">ann_</span> <span class="VarId">funName_</span> <span class="VarId">_argsIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 384, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">funName_</span> <span class="Keyword">of</span>
                    <span class="String">&quot;.&quot;</span> <span class="Symbol">-&gt;</span> <span class="VarId">getName</span> <span class="VarId">_backTree</span>
                    <span class="VarId">x</span> <span class="Symbol">|</span> <span class="VarId">isOperatorName</span> <span class="VarId">x</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">funName_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 585, column 9)</span>
              <span class="VarId">_argsOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="VarId">id</span> <span class="Symbol">$</span>
                  <span class="Keyword">case</span> <span class="Symbol">(</span><span class="VarId">funName_</span><span class="Symbol">,</span><span class="VarId">_lhsIexpectedType</span><span class="Symbol">)</span> <span class="Keyword">of</span>
                    <span class="Symbol">(</span><span class="String">&quot;!rowctor&quot;</span><span class="Symbol">,</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="ConId">AnonymousRecordType</span> <span class="VarId">ts</span><span class="Symbol">))</span> <span class="Symbol">-&gt;</span> <span class="VarId">return</span> <span class="Symbol">$</span> <span class="VarId">map</span> <span class="ConId">Just</span> <span class="VarId">ts</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="Keyword">do</span>
                         <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">&lt;-</span> <span class="VarId">_prototype</span>
                         <span class="VarId">return</span> <span class="Symbol">$</span> <span class="VarId">map</span> <span class="ConId">Just</span> <span class="VarId">t</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FunCall</span> <span class="VarId">ann_</span> <span class="VarId">funName_</span> <span class="VarId">_argsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FunCall</span> <span class="VarId">ann_</span> <span class="VarId">funName_</span> <span class="VarId">_argsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_argsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_argsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_argsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_argsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_argsItbUTypes</span><span class="Symbol">,</span><span class="VarId">_argsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">args_</span> <span class="VarId">_argsOcat</span> <span class="VarId">_argsOexpectedTypes</span> <span class="VarId">_argsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_Identifier</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_Identifier</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_ntType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 92, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">catCompositeAttrsPair</span> <span class="VarId">_lhsIcat</span> <span class="VarId">relationComposites</span> <span class="VarId">i_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 347, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">unwrapLookup</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbLookupID</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">[</span><span class="VarId">i_</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 348, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Identifier</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 351, column 9)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">if</span> <span class="VarId">i_</span> <span class="Symbol">==</span> <span class="String">&quot;*&quot;</span>
                  <span class="Keyword">then</span> <span class="VarId">unwrapStar</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbExpandStar</span> <span class="VarId">_lhsIlib</span> <span class="String">&quot;&quot;</span>
                  <span class="Keyword">else</span> <span class="Symbol">(\</span><span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[(</span><span class="VarId">i_</span><span class="Symbol">,</span> <span class="VarId">t</span><span class="Symbol">)])</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">unwrapLookup</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbLookupID</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">[</span><span class="VarId">i_</span><span class="Symbol">]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Identifier</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Identifier</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_InPredicate</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">Bool</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_InList</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_InPredicate</span> <span class="VarId">ann_</span> <span class="VarId">expr_</span> <span class="VarId">i_</span> <span class="VarId">list_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_listOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_listOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_listIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">InList</span>
              <span class="VarId">_listIlistType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_listIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">InList</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 472, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">lt</span> <span class="Symbol">&lt;-</span> <span class="VarId">_listIlistType</span>
                  <span class="VarId">expt</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_exprIuType</span>
                  <span class="VarId">_</span> <span class="Symbol">&lt;-</span> <span class="VarId">resolveResultSetType</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">[</span><span class="VarId">expt</span><span class="Symbol">,</span> <span class="VarId">lt</span><span class="Symbol">]</span>
                  <span class="VarId">return</span> <span class="VarId">typeBool</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 477, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">InPredicate</span> <span class="VarId">ann_</span>
                              <span class="VarId">_exprIannotatedTree</span>
                              <span class="VarId">i_</span>
                              <span class="VarId">_listIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">InPredicate</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span> <span class="VarId">i_</span> <span class="VarId">_listIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">InPredicate</span> <span class="VarId">ann_</span> <span class="VarId">_exprIoriginalTree</span> <span class="VarId">i_</span> <span class="VarId">_listIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedType</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_listOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_listOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_listIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_listIlistType</span><span class="Symbol">,</span><span class="VarId">_listIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">list_</span> <span class="VarId">_listOcat</span> <span class="VarId">_listOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_IntegerLit</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_IntegerLit</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 173, column 19)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="VarId">typeInt</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 182, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">IntegerLit</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">IntegerLit</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">IntegerLit</span> <span class="VarId">ann_</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_LiftOperator</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">LiftFlavour</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_LiftOperator</span> <span class="VarId">ann_</span> <span class="VarId">oper_</span> <span class="VarId">flav_</span> <span class="VarId">args_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_argsOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_argsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_argsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_argsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_argsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_argsItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_argsIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 242, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">at</span> <span class="Symbol">&lt;-</span> <span class="VarId">mapM</span> <span class="VarId">lmt</span> <span class="VarId">_argsIuType</span>
                  <span class="VarId">errorWhen</span> <span class="Symbol">(</span><span class="VarId">length</span> <span class="VarId">at</span> <span class="Symbol">/=</span> <span class="Number">2</span><span class="Symbol">)</span>
                            <span class="Symbol">[</span><span class="ConId">AnyAllError</span> <span class="Symbol">$</span> <span class="String">&quot;must have two args, got &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">at</span><span class="Symbol">]</span>
                  <span class="Keyword">let</span> <span class="Symbol">[</span><span class="VarId">aType</span><span class="Symbol">,</span><span class="VarId">bType</span><span class="Symbol">]</span> <span class="Symbol">=</span> <span class="VarId">at</span>
                  <span class="VarId">errorWhen</span> <span class="Symbol">(</span><span class="VarId">not</span> <span class="Symbol">$</span> <span class="VarId">isArrayType</span> <span class="VarId">bType</span><span class="Symbol">)</span>
                            <span class="Symbol">[</span><span class="ConId">AnyAllError</span> <span class="Symbol">$</span> <span class="String">&quot;second arg must be array, got &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">at</span><span class="Symbol">]</span>
                  <span class="VarId">elemType</span> <span class="Symbol">&lt;-</span> <span class="VarId">unwrapArray</span> <span class="Symbol">$</span> <span class="VarId">bType</span>
                  <span class="VarId">resType</span> <span class="Symbol">&lt;-</span> <span class="VarId">fmap</span> <span class="Symbol">(\(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">r</span><span class="Symbol">,</span><span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="VarId">r</span><span class="Symbol">)</span> <span class="Symbol">$</span> <span class="VarId">findCallMatch</span> <span class="VarId">_lhsIcat</span>
                                                                    <span class="VarId">oper_</span>
                                                                    <span class="Symbol">[</span><span class="VarId">aType</span><span class="Symbol">,</span><span class="VarId">elemType</span><span class="Symbol">]</span>
                  <span class="VarId">errorWhen</span> <span class="Symbol">(</span><span class="VarId">resType</span> <span class="Symbol">/=</span> <span class="VarId">typeBool</span><span class="Symbol">)</span>
                            <span class="Symbol">[</span><span class="ConId">AnyAllError</span> <span class="Symbol">$</span> <span class="String">&quot;operator must have bool return, got &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">resType</span><span class="Symbol">]</span>
                  <span class="VarId">return</span> <span class="VarId">resType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 256, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">LiftOperator</span> <span class="VarId">ann_</span> <span class="VarId">oper_</span> <span class="VarId">flav_</span> <span class="VarId">_argsIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 593, column 9)</span>
              <span class="VarId">_argsOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">LiftOperator</span> <span class="VarId">ann_</span> <span class="VarId">oper_</span> <span class="VarId">flav_</span> <span class="VarId">_argsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">LiftOperator</span> <span class="VarId">ann_</span> <span class="VarId">oper_</span> <span class="VarId">flav_</span> <span class="VarId">_argsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_argsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_argsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_argsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_argsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_argsItbUTypes</span><span class="Symbol">,</span><span class="VarId">_argsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">args_</span> <span class="VarId">_argsOcat</span> <span class="VarId">_argsOexpectedTypes</span> <span class="VarId">_argsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_NullLit</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_NullLit</span> <span class="VarId">ann_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 178, column 16)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="ConId">UnknownType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 190, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NullLit</span> <span class="VarId">ann_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NullLit</span> <span class="VarId">ann_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NullLit</span> <span class="VarId">ann_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_Placeholder</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_Placeholder</span> <span class="VarId">ann_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 438, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="ConId">UnknownType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 439, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Placeholder</span> <span class="VarId">ann_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Placeholder</span> <span class="VarId">ann_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Placeholder</span> <span class="VarId">ann_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_PositionalArg</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_PositionalArg</span> <span class="VarId">ann_</span> <span class="VarId">p_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 432, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">unwrapLookup</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbLookupID</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">[</span><span class="Char">'$'</span><span class="Symbol">:</span><span class="VarId">show</span> <span class="VarId">p_</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 433, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PositionalArg</span> <span class="VarId">ann_</span> <span class="VarId">p_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PositionalArg</span> <span class="VarId">ann_</span> <span class="VarId">p_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PositionalArg</span> <span class="VarId">ann_</span> <span class="VarId">p_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_QIdentifier</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_QIdentifier</span> <span class="VarId">ann_</span> <span class="VarId">qual_</span> <span class="VarId">i_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_qid</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_qualOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_qualOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_qualOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_qualIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_qualIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_qualIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_qualIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_qualItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_qualItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_qualIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 92, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">catCompositeAttrsPair</span> <span class="VarId">_lhsIcat</span> <span class="VarId">relationComposites</span> <span class="VarId">i_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 356, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">let</span> <span class="VarId">x</span> <span class="Symbol">=</span> <span class="Keyword">case</span> <span class="VarId">_qid</span>     <span class="Keyword">of</span>
                            <span class="ConId">Nothing</span> <span class="Symbol">-&gt;</span> <span class="VarId">byT</span>
                            <span class="ConId">Just</span> <span class="VarId">q</span> <span class="Symbol">-&gt;</span> <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">byT</span><span class="Symbol">)</span> <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="VarId">unwrapLookup</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbLookupID</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">[</span><span class="VarId">q</span><span class="Symbol">,</span><span class="VarId">i_</span><span class="Symbol">]</span>
                  <span class="Keyword">in</span> <span class="VarId">trace</span> <span class="Symbol">(</span><span class="String">&quot;tpe: &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">x</span><span class="Symbol">)</span> <span class="VarId">x</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">byT</span> <span class="Symbol">=</span> <span class="Keyword">do</span>
                      <span class="Symbol">(</span><span class="VarId">t</span><span class="Symbol">::</span><span class="ConId">Type</span><span class="Symbol">)</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_qualIuType</span>
                      <span class="VarId">unwrapLookup</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbLookupIDInType</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="VarId">t</span> <span class="VarId">i_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 365, column 9)</span>
              <span class="VarId">_qid</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_backTree</span>     <span class="Keyword">of</span>
                     <span class="ConId">QIdentifier</span> <span class="VarId">_</span> <span class="Symbol">(</span><span class="ConId">Identifier</span> <span class="VarId">_</span> <span class="VarId">q</span><span class="Symbol">)</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Just</span> <span class="VarId">q</span>
                     <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 368, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">QIdentifier</span> <span class="VarId">ann_</span> <span class="VarId">_qAnnTreeNoUnrec</span>     <span class="VarId">i_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 370, column 9)</span>
              <span class="VarId">_qAnnTreeNoUnrec</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span> <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="Symbol">[]})</span> <span class="VarId">_qualIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 373, column 9)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_qid</span>     <span class="Keyword">of</span>
                    <span class="ConId">Nothing</span> <span class="Symbol">-&gt;</span> <span class="VarId">undefined</span>
                    <span class="ConId">Just</span> <span class="VarId">q</span> <span class="Symbol">-&gt;</span>
                        <span class="Keyword">if</span> <span class="VarId">i_</span> <span class="Symbol">==</span> <span class="String">&quot;*&quot;</span>
                        <span class="Keyword">then</span> <span class="VarId">unwrapStar</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbExpandStar</span> <span class="VarId">_lhsIlib</span> <span class="VarId">q</span>
                        <span class="Keyword">else</span> <span class="Symbol">(\</span><span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[(</span><span class="VarId">i_</span><span class="Symbol">,</span> <span class="VarId">t</span><span class="Symbol">)])</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">unwrapLookup</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lbLookupID</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">[</span><span class="VarId">q</span><span class="Symbol">,</span><span class="VarId">i_</span><span class="Symbol">]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">QIdentifier</span> <span class="VarId">ann_</span> <span class="VarId">_qualIannotatedTree</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">QIdentifier</span> <span class="VarId">ann_</span> <span class="VarId">_qualIoriginalTree</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_qualOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_qualOexpectedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedType</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_qualOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_qualIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_qualIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_qualIntType</span><span class="Symbol">,</span><span class="VarId">_qualIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_qualItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_qualItbUType</span><span class="Symbol">,</span><span class="VarId">_qualIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">qual_</span> <span class="VarId">_qualOcat</span> <span class="VarId">_qualOexpectedType</span> <span class="VarId">_qualOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_ScalarSubQuery</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_ScalarSubQuery</span> <span class="VarId">ann_</span> <span class="VarId">sel_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 456, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">selType</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">snd</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_selIuType</span><span class="Symbol">)</span>
                  <span class="Keyword">case</span> <span class="VarId">length</span> <span class="VarId">selType</span> <span class="Keyword">of</span>
                    <span class="Number">0</span> <span class="Symbol">-&gt;</span> <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;no columns in scalar subquery?&quot;</span><span class="Symbol">]</span>
                    <span class="Number">1</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="VarId">head</span> <span class="VarId">selType</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">AnonymousRecordType</span> <span class="VarId">selType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 464, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ScalarSubQuery</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 626, column 29)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ScalarSubQuery</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ScalarSubQuery</span> <span class="VarId">ann_</span> <span class="VarId">_selIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_selIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel_</span> <span class="VarId">_selOcat</span> <span class="VarId">_selOexpectedTypes</span> <span class="VarId">_selOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_StringLit</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_StringLit</span> <span class="VarId">ann_</span> <span class="VarId">value_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 174, column 18)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="ConId">UnknownType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 184, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">StringLit</span> <span class="VarId">ann_</span> <span class="VarId">value_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 401, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="String">&quot;&quot;</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">StringLit</span> <span class="VarId">ann_</span> <span class="VarId">value_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">StringLit</span> <span class="VarId">ann_</span> <span class="VarId">value_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExpr_WindowFn</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">Direction</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">FrameClause</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ScalarExpr</span> 
<span class="Function">sem_ScalarExpr_WindowFn</span> <span class="VarId">ann_</span> <span class="VarId">fn_</span> <span class="VarId">partitionBy_</span> <span class="VarId">orderBy_</span> <span class="VarId">dir_</span> <span class="VarId">frm_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedType</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_prototype</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">FunctionPrototype</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="ConId">Et</span>
              <span class="VarId">_partitionByOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_orderByOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_fnOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_fnOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_partitionByOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_partitionByOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_orderByOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_orderByOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_fnIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_fnIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_fnIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_partitionByIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_partitionByIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_partitionByItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_partitionByIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_orderByIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_orderByIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_orderByItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_orderByIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                    <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="VarId">_tpe</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                               <span class="Symbol">,</span><span class="VarId">infType</span> <span class="Symbol">=</span> <span class="VarId">msum</span> <span class="Symbol">[</span><span class="VarId">_lhsIexpectedType</span>
                                               <span class="Symbol">,</span><span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                                               <span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">]})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 29, column 9)</span>
              <span class="VarId">_prototype</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOntAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                     <span class="Symbol">(</span><span class="VarId">setTypeAddErrorsA</span> <span class="Symbol">(</span><span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">CompositeType</span><span class="Symbol">)</span> <span class="VarId">_ntType</span>    <span class="Symbol">)</span>
                     <span class="Symbol">.</span> <span class="Symbol">\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_lhsOntType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="VarId">_ntType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 77, column 9)</span>
              <span class="VarId">_lhsOtbAnnotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                                       <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">fnProt</span> <span class="Symbol">=</span> <span class="VarId">_prototype</span>
                                                <span class="Symbol">,</span><span class="VarId">errs</span> <span class="Symbol">=</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">++</span> <span class="VarId">tes</span> <span class="VarId">_tbUType</span>    <span class="Symbol">})</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_lhsOtbUType</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="ConId">Just</span> <span class="VarId">_tbUType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 86, column 9)</span>
              <span class="VarId">_tbUType</span> <span class="Symbol">=</span>
                  <span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">InternalError</span> <span class="String">&quot;bad context for tbUType&quot;</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 107, column 9)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 223, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">lmt</span> <span class="VarId">_fnIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 224, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WindowFn</span> <span class="VarId">ann_</span>
                           <span class="VarId">_fnIannotatedTree</span>
                           <span class="VarId">_partitionByIannotatedTree</span>
                           <span class="VarId">_orderByIannotatedTree</span>
                           <span class="VarId">dir_</span>
                           <span class="VarId">frm_</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 394, column 7)</span>
              <span class="VarId">_liftedColumnName</span> <span class="Symbol">=</span>
                  <span class="Keyword">let</span> <span class="Symbol">(</span><span class="ConId">FunCall</span> <span class="VarId">_</span> <span class="VarId">fn</span> <span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">_fnIannotatedTree</span>
                  <span class="Keyword">in</span> <span class="VarId">fn</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 407, column 7)</span>
              <span class="VarId">_ntType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">t</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">return</span> <span class="Symbol">[(</span><span class="Keyword">case</span> <span class="VarId">_liftedColumnName</span>     <span class="Keyword">of</span>
                            <span class="String">&quot;&quot;</span> <span class="Symbol">-&gt;</span> <span class="String">&quot;?column?&quot;</span>
                            <span class="VarId">n</span> <span class="Symbol">-&gt;</span> <span class="VarId">n</span>
                         <span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 595, column 9)</span>
              <span class="VarId">_partitionByOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 596, column 9)</span>
              <span class="VarId">_orderByOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WindowFn</span> <span class="VarId">ann_</span> <span class="VarId">_fnIannotatedTree</span> <span class="VarId">_partitionByIannotatedTree</span> <span class="VarId">_orderByIannotatedTree</span> <span class="VarId">dir_</span> <span class="VarId">frm_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WindowFn</span> <span class="VarId">ann_</span> <span class="VarId">_fnIoriginalTree</span> <span class="VarId">_partitionByIoriginalTree</span> <span class="VarId">_orderByIoriginalTree</span> <span class="VarId">dir_</span> <span class="VarId">frm_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fnOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fnOexpectedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedType</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fnOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_partitionByOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_partitionByOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_orderByOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_orderByOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_fnIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_fnIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_fnIntType</span><span class="Symbol">,</span><span class="VarId">_fnIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_fnItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_fnItbUType</span><span class="Symbol">,</span><span class="VarId">_fnIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">fn_</span> <span class="VarId">_fnOcat</span> <span class="VarId">_fnOexpectedType</span> <span class="VarId">_fnOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_partitionByIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_partitionByIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_partitionByItbUTypes</span><span class="Symbol">,</span><span class="VarId">_partitionByIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">partitionBy_</span> <span class="VarId">_partitionByOcat</span> <span class="VarId">_partitionByOexpectedTypes</span> <span class="VarId">_partitionByOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_orderByIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_orderByIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_orderByItbUTypes</span><span class="Symbol">,</span><span class="VarId">_orderByIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">orderBy_</span> <span class="VarId">_orderByOcat</span> <span class="VarId">_orderByOexpectedTypes</span> <span class="VarId">_orderByOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOntType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUType</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprDirectionPair -------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Tuple: child x1 : ScalarExpr child x2 : {Direction} visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprDirectionPair</span>  <span class="Symbol">=</span> <span class="Symbol">(</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">),(</span><span class="ConId">Direction</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprDirectionPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPair</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExprDirectionPair</span> 
<span class="Function">sem_ScalarExprDirectionPair</span> <span class="Symbol">(</span> <span class="VarId">x1</span><span class="Symbol">,</span><span class="VarId">x2</span><span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExprDirectionPair_Tuple</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">x1</span> <span class="Symbol">)</span> <span class="VarId">x2</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprDirectionPair</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                  <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                  <span class="Symbol">(</span> <span class="ConId">ScalarExprDirectionPair</span><span class="Symbol">,</span><span class="ConId">ScalarExprDirectionPair</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprDirectionPair</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprDirectionPair</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprDirectionPair</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprDirectionPair</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprDirectionPair</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprDirectionPair</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprDirectionPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPair</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprDirectionPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPair</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExprDirectionPair</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprDirectionPair</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">Inh_ScalarExprDirectionPair</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">Syn_ScalarExprDirectionPair</span> 
<span class="Function">wrap_ScalarExprDirectionPair</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprDirectionPair</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprDirectionPair</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprDirectionPair_Tuple</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">Direction</span> <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_ScalarExprDirectionPair</span> 
<span class="Function">sem_ScalarExprDirectionPair_Tuple</span> <span class="VarId">x1_</span> <span class="VarId">x2_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_x1OexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPair</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPair</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x1IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1IntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1IntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_x1IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1ItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1ItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_x1IuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 534, column 13)</span>
              <span class="VarId">_x1OexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">x2_</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">x2_</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1IntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1IntType</span><span class="Symbol">,</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x1ItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1ItbUType</span><span class="Symbol">,</span><span class="VarId">_x1IuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x1_</span> <span class="VarId">_x1Ocat</span> <span class="VarId">_x1OexpectedType</span> <span class="VarId">_x1Olib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprDirectionPairList ---------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Cons: child hd : ScalarExprDirectionPair child tl : ScalarExprDirectionPairList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprDirectionPairList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">ScalarExprDirectionPair</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprDirectionPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_ScalarExprDirectionPairList</span> 
<span class="Function">sem_ScalarExprDirectionPairList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_ScalarExprDirectionPairList_Cons</span> <span class="VarId">sem_ScalarExprDirectionPairList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_ScalarExprDirectionPair</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprDirectionPairList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                      <span class="Symbol">(</span> <span class="ConId">ScalarExprDirectionPairList</span><span class="Symbol">,</span><span class="ConId">ScalarExprDirectionPairList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprDirectionPairList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprDirectionPairList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprDirectionPairList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprDirectionPairList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprDirectionPairList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprDirectionPairList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprDirectionPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprDirectionPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExprDirectionPairList</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprDirectionPairList</span>  <span class="Symbol">-&gt;</span>
                                    <span class="ConId">Inh_ScalarExprDirectionPairList</span>  <span class="Symbol">-&gt;</span>
                                    <span class="ConId">Syn_ScalarExprDirectionPairList</span> 
<span class="Function">wrap_ScalarExprDirectionPairList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprDirectionPairList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprDirectionPairList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprDirectionPairList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprDirectionPair</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">T_ScalarExprDirectionPairList</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">T_ScalarExprDirectionPairList</span> 
<span class="Function">sem_ScalarExprDirectionPairList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPair</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPair</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExprDirectionPairList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprDirectionPairList</span> 
<span class="Function">sem_ScalarExprDirectionPairList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprDirectionPairList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprList ----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog expectedTypes : [Maybe Type] lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF tbUTypes : [Maybe ([(String,Type)],[(String,Type)])] uType : [Maybe Type] alternatives: alternative Cons: child hd : ScalarExpr child tl : ScalarExprList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">T_ScalarExprList</span> 
<span class="Function">sem_ScalarExprList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_ScalarExprList_Cons</span> <span class="VarId">sem_ScalarExprList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_ScalarExpr</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                         <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                         <span class="Symbol">(</span> <span class="ConId">ScalarExprList</span><span class="Symbol">,</span><span class="ConId">ScalarExprList</span><span class="Symbol">,([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])]),([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">expectedTypes_Inh_ScalarExprList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">],</span><span class="VarId">lib_Inh_ScalarExprList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span><span class="Symbol">,</span><span class="VarId">tbUTypes_Syn_ScalarExprList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])],</span><span class="VarId">uType_Syn_ScalarExprList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]}</span>
<span class="Function">wrap_ScalarExprList</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Inh_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Syn_ScalarExprList</span> 
<span class="Function">wrap_ScalarExprList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOtbUTypes</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_ScalarExprList</span> 
<span class="Function">sem_ScalarExprList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOtbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_hdOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tlOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_hdIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_hdIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_hdItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_hdItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_hdIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_tlItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_tlIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 95, column 12)</span>
              <span class="VarId">_lhsOtbUTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdItbUType</span> <span class="Symbol">:</span> <span class="VarId">_tlItbUTypes</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 110, column 12)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIuType</span> <span class="Symbol">:</span> <span class="VarId">_tlIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 537, column 12)</span>
              <span class="VarId">_hdOexpectedType</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="Keyword">of</span>
                    <span class="Symbol">(</span><span class="VarId">t</span><span class="Symbol">:</span><span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="VarId">t</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 540, column 12)</span>
              <span class="VarId">_tlOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="Keyword">of</span>
                  <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">:</span><span class="VarId">ts</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="VarId">ts</span>
                  <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIntType</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_hdItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdItbUType</span><span class="Symbol">,</span><span class="VarId">_hdIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOexpectedType</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tlItbUTypes</span><span class="Symbol">,</span><span class="VarId">_tlIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOexpectedTypes</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExprList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprList</span> 
<span class="Function">sem_ScalarExprList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOtbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 96, column 11)</span>
              <span class="VarId">_lhsOtbUTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 111, column 11)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOtbUTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprListList ------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog expectedTypes : [Maybe Type] lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF uType : [[Maybe Type]] alternatives: alternative Cons: child hd : ScalarExprList child tl : ScalarExprListList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprListList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprListList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_ScalarExprListList</span> 
<span class="Function">sem_ScalarExprListList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_ScalarExprListList_Cons</span> <span class="VarId">sem_ScalarExprListList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_ScalarExprList</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprListList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                             <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                             <span class="Symbol">(</span> <span class="ConId">ScalarExprListList</span><span class="Symbol">,</span><span class="ConId">ScalarExprListList</span><span class="Symbol">,([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]]))</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprListList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprListList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprListList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">expectedTypes_Inh_ScalarExprListList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">],</span><span class="VarId">lib_Inh_ScalarExprListList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprListList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprListList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprListList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprListList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span><span class="Symbol">,</span><span class="VarId">uType_Syn_ScalarExprListList</span> <span class="Symbol">::</span> <span class="Symbol">[[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]]}</span>
<span class="Function">wrap_ScalarExprListList</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprListList</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">Inh_ScalarExprListList</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">Syn_ScalarExprListList</span> 
<span class="Function">wrap_ScalarExprListList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprListList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIexpectedTypes</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprListList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprListList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExprListList</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExprListList</span> 
<span class="Function">sem_ScalarExprListList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="VarId">_hdOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_tlOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_hdItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_hdIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="VarId">_tlIuType</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 117, column 12)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIuType</span> <span class="Symbol">:</span> <span class="VarId">_tlIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 622, column 12)</span>
              <span class="VarId">_hdOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedTypes</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 623, column 12)</span>
              <span class="VarId">_tlOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIexpectedTypes</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_hdItbUTypes</span><span class="Symbol">,</span><span class="VarId">_hdIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOexpectedTypes</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tlIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOexpectedTypes</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExprListList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprListList</span> 
<span class="Function">sem_ScalarExprListList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIexpectedTypes</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOuType</span> <span class="Symbol">::</span> <span class="Symbol">([[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListList</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 118, column 11)</span>
              <span class="VarId">_lhsOuType</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOuType</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprListStatementListPair -----------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Tuple: child x1 : ScalarExprList child x2 : StatementList visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprListStatementListPair</span>  <span class="Symbol">=</span> <span class="Symbol">(</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">),(</span><span class="ConId">StatementList</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprListStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                       <span class="ConId">T_ScalarExprListStatementListPair</span> 
<span class="Function">sem_ScalarExprListStatementListPair</span> <span class="Symbol">(</span> <span class="VarId">x1</span><span class="Symbol">,</span><span class="VarId">x2</span><span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExprListStatementListPair_Tuple</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">x1</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">x2</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprListStatementListPair</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                          <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                          <span class="Symbol">(</span> <span class="ConId">ScalarExprListStatementListPair</span><span class="Symbol">,</span><span class="ConId">ScalarExprListStatementListPair</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprListStatementListPair</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprListStatementListPair</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprListStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprListStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprListStatementListPair</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprListStatementListPair</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprListStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPair</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprListStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPair</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExprListStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprListStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">Inh_ScalarExprListStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">Syn_ScalarExprListStatementListPair</span> 
<span class="Function">wrap_ScalarExprListStatementListPair</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprListStatementListPair</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprListStatementListPair</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprListStatementListPair_Tuple</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                                             <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                                             <span class="ConId">T_ScalarExprListStatementListPair</span> 
<span class="Function">sem_ScalarExprListStatementListPair_Tuple</span> <span class="VarId">x1_</span> <span class="VarId">x2_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_x1OexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_x2OcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_x2OlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPair</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPair</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x1IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_x1IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_x1ItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_x1IuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_x2IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_x2IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_x2IproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x2IproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 599, column 13)</span>
              <span class="VarId">_x1OexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 121, column 9)</span>
              <span class="VarId">_x2OcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 122, column 9)</span>
              <span class="VarId">_x2OlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2IannotatedTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x1ItbUTypes</span><span class="Symbol">,</span><span class="VarId">_x1IuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x1_</span> <span class="VarId">_x1Ocat</span> <span class="VarId">_x1OexpectedTypes</span> <span class="VarId">_x1Olib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_x2IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x2IproducedCat</span><span class="Symbol">,</span><span class="VarId">_x2IproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x2_</span> <span class="VarId">_x2Ocat</span> <span class="VarId">_x2OcatUpdates</span> <span class="VarId">_x2Olib</span> <span class="VarId">_x2OlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprListStatementListPairList -------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Cons: child hd : ScalarExprListStatementListPair child tl : ScalarExprListStatementListPairList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprListStatementListPairList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">ScalarExprListStatementListPair</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprListStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                           <span class="ConId">T_ScalarExprListStatementListPairList</span> 
<span class="Function">sem_ScalarExprListStatementListPairList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_ScalarExprListStatementListPairList_Cons</span> <span class="VarId">sem_ScalarExprListStatementListPairList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_ScalarExprListStatementListPair</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprListStatementListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                              <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                              <span class="Symbol">(</span> <span class="ConId">ScalarExprListStatementListPairList</span><span class="Symbol">,</span><span class="ConId">ScalarExprListStatementListPairList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprListStatementListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprListStatementListPairList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprListStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprListStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprListStatementListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprListStatementListPairList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprListStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprListStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExprListStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprListStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                            <span class="ConId">Inh_ScalarExprListStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                            <span class="ConId">Syn_ScalarExprListStatementListPairList</span> 
<span class="Function">wrap_ScalarExprListStatementListPairList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprListStatementListPairList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprListStatementListPairList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprListStatementListPairList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprListStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                                <span class="ConId">T_ScalarExprListStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                                <span class="ConId">T_ScalarExprListStatementListPairList</span> 
<span class="Function">sem_ScalarExprListStatementListPairList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPair</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPair</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExprListStatementListPairList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprListStatementListPairList</span> 
<span class="Function">sem_ScalarExprListStatementListPairList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprRoot ----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative ScalarExprRoot: child expr : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">ScalarExprRoot</span>  <span class="Symbol">=</span> <span class="ConId">ScalarExprRoot</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                     <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Show</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprRoot</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprRoot</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">T_ScalarExprRoot</span> 
<span class="Function">sem_ScalarExprRoot</span> <span class="Symbol">(</span><span class="ConId">ScalarExprRoot</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExprRoot_ScalarExprRoot</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprRoot</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                         <span class="Symbol">(</span> <span class="ConId">ScalarExprRoot</span><span class="Symbol">,</span><span class="ConId">ScalarExprRoot</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprRoot</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprRoot</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprRoot</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprRoot</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprRoot</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprRoot</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprRoot</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprRoot</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprRoot</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprRoot</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExprRoot</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprRoot</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Inh_ScalarExprRoot</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Syn_ScalarExprRoot</span> 
<span class="Function">wrap_ScalarExprRoot</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprRoot</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprRoot</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprRoot_ScalarExprRoot</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_ScalarExprRoot</span> 
<span class="Function">sem_ScalarExprRoot_ScalarExprRoot</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprRoot</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprRoot</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 578, column 22)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ScalarExprRoot</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ScalarExprRoot</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprStatementListPair ---------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Tuple: child x1 : ScalarExpr child x2 : StatementList visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprStatementListPair</span>  <span class="Symbol">=</span> <span class="Symbol">(</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">),(</span><span class="ConId">StatementList</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_ScalarExprStatementListPair</span> 
<span class="Function">sem_ScalarExprStatementListPair</span> <span class="Symbol">(</span> <span class="VarId">x1</span><span class="Symbol">,</span><span class="VarId">x2</span><span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_ScalarExprStatementListPair_Tuple</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">x1</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">x2</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprStatementListPair</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                      <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                      <span class="Symbol">(</span> <span class="ConId">ScalarExprStatementListPair</span><span class="Symbol">,</span><span class="ConId">ScalarExprStatementListPair</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprStatementListPair</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprStatementListPair</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprStatementListPair</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprStatementListPair</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPair</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPair</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExprStatementListPair</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                    <span class="ConId">Inh_ScalarExprStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                    <span class="ConId">Syn_ScalarExprStatementListPair</span> 
<span class="Function">wrap_ScalarExprStatementListPair</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprStatementListPair</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprStatementListPair</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprStatementListPair_Tuple</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                         <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                                         <span class="ConId">T_ScalarExprStatementListPair</span> 
<span class="Function">sem_ScalarExprStatementListPair_Tuple</span> <span class="VarId">x1_</span> <span class="VarId">x2_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_x1OexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_x2OcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_x2OlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPair</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPair</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x1IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1IntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1IntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_x1IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1ItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_x1ItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_x1IuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_x2IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_x2IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_x2IproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x2IproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 581, column 13)</span>
              <span class="VarId">_x1OexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 125, column 9)</span>
              <span class="VarId">_x2OcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 126, column 9)</span>
              <span class="VarId">_x2OlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2IannotatedTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x1Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_x1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1IntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1IntType</span><span class="Symbol">,</span><span class="VarId">_x1IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x1ItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_x1ItbUType</span><span class="Symbol">,</span><span class="VarId">_x1IuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x1_</span> <span class="VarId">_x1Ocat</span> <span class="VarId">_x1OexpectedType</span> <span class="VarId">_x1Olib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_x2IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">,</span><span class="VarId">_x2IproducedCat</span><span class="Symbol">,</span><span class="VarId">_x2IproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x2_</span> <span class="VarId">_x2Ocat</span> <span class="VarId">_x2OcatUpdates</span> <span class="VarId">_x2Olib</span> <span class="VarId">_x2OlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- ScalarExprStatementListPairList -----------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF alternatives: alternative Cons: child hd : ScalarExprStatementListPair child tl : ScalarExprStatementListPairList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">ScalarExprStatementListPairList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">ScalarExprStatementListPair</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_ScalarExprStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                       <span class="ConId">T_ScalarExprStatementListPairList</span> 
<span class="Function">sem_ScalarExprStatementListPairList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_ScalarExprStatementListPairList_Cons</span> <span class="VarId">sem_ScalarExprStatementListPairList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_ScalarExprStatementListPair</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_ScalarExprStatementListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                          <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                          <span class="Symbol">(</span> <span class="ConId">ScalarExprStatementListPairList</span><span class="Symbol">,</span><span class="ConId">ScalarExprStatementListPairList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_ScalarExprStatementListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_ScalarExprStatementListPairList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_ScalarExprStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_ScalarExprStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_ScalarExprStatementListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_ScalarExprStatementListPairList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_ScalarExprStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_ScalarExprStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span><span class="Symbol">}</span>
<span class="Function">wrap_ScalarExprStatementListPairList</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">Inh_ScalarExprStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                        <span class="ConId">Syn_ScalarExprStatementListPairList</span> 
<span class="Function">wrap_ScalarExprStatementListPairList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_ScalarExprStatementListPairList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_ScalarExprStatementListPairList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_ScalarExprStatementListPairList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprStatementListPair</span>  <span class="Symbol">-&gt;</span>
                                            <span class="ConId">T_ScalarExprStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                            <span class="ConId">T_ScalarExprStatementListPairList</span> 
<span class="Function">sem_ScalarExprStatementListPairList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPair</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPair</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_ScalarExprStatementListPairList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_ScalarExprStatementListPairList</span> 
<span class="Function">sem_ScalarExprStatementListPairList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- SelectItem --------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF itemType : [(String,Type)] originalTree : SELF alternatives: alternative SelExp: child ann : {Annotation} child ex : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative SelectItem: child ann : {Annotation} child ex : ScalarExpr child name : {String} visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">SelectItem</span>  <span class="Symbol">=</span> <span class="ConId">SelExp</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                 <span class="Symbol">|</span> <span class="ConId">SelectItem</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                 <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_SelectItem</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">T_SelectItem</span> 
<span class="Function">sem_SelectItem</span> <span class="Symbol">(</span><span class="ConId">SelExp</span> <span class="VarId">_ann</span> <span class="VarId">_ex</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_SelectItem_SelExp</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_ex</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_SelectItem</span> <span class="Symbol">(</span><span class="ConId">SelectItem</span> <span class="VarId">_ann</span> <span class="VarId">_ex</span> <span class="VarId">_name</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_SelectItem_SelectItem</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_ex</span> <span class="Symbol">)</span> <span class="VarId">_name</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_SelectItem</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                     <span class="Symbol">(</span> <span class="ConId">SelectItem</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">SelectItem</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_SelectItem</span>  <span class="Symbol">=</span> <span class="ConId">Inh_SelectItem</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_SelectItem</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_SelectItem</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_SelectItem</span>  <span class="Symbol">=</span> <span class="ConId">Syn_SelectItem</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_SelectItem</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span><span class="Symbol">,</span><span class="VarId">itemType_Syn_SelectItem</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_SelectItem</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span><span class="Symbol">}</span>
<span class="Function">wrap_SelectItem</span> <span class="Symbol">::</span> <span class="ConId">T_SelectItem</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Inh_SelectItem</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Syn_SelectItem</span> 
<span class="Function">wrap_SelectItem</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_SelectItem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOitemType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_SelectItem</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOitemType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_SelectItem_SelExp</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_SelectItem</span> 
<span class="Function">sem_SelectItem_SelExp</span> <span class="VarId">ann_</span> <span class="VarId">ex_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOitemType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 561, column 25)</span>
              <span class="VarId">_exOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 33, column 9)</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SelExp</span> <span class="VarId">ann_</span> <span class="VarId">_exIntAnnotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 61, column 9)</span>
              <span class="VarId">_lhsOitemType</span> <span class="Symbol">=</span>
                  <span class="VarId">unwrapSetofs</span> <span class="VarId">_exIntType</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SelExp</span> <span class="VarId">ann_</span> <span class="VarId">_exIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exIntType</span><span class="Symbol">,</span><span class="VarId">_exIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exItbUType</span><span class="Symbol">,</span><span class="VarId">_exIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">ex_</span> <span class="VarId">_exOcat</span> <span class="VarId">_exOexpectedType</span> <span class="VarId">_exOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOitemType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_SelectItem_SelectItem</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_SelectItem</span> 
<span class="Function">sem_SelectItem_SelectItem</span> <span class="VarId">ann_</span> <span class="VarId">ex_</span> <span class="VarId">name_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOitemType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 561, column 25)</span>
              <span class="VarId">_exOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 35, column 9)</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SelectItem</span> <span class="VarId">ann_</span> <span class="VarId">_exIannotatedTree</span> <span class="VarId">name_</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 63, column 9)</span>
              <span class="VarId">_lhsOitemType</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_exIntType</span> <span class="Keyword">of</span>
                    <span class="Symbol">[(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)]</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[(</span><span class="VarId">name_</span><span class="Symbol">,</span> <span class="VarId">unwrapSetof</span> <span class="VarId">t</span><span class="Symbol">)]</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SelectItem</span> <span class="VarId">ann_</span> <span class="VarId">_exIoriginalTree</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exIntType</span><span class="Symbol">,</span><span class="VarId">_exIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exItbUType</span><span class="Symbol">,</span><span class="VarId">_exIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">ex_</span> <span class="VarId">_exOcat</span> <span class="VarId">_exOexpectedType</span> <span class="VarId">_exOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOitemType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- SelectItemList ----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF listType : [(String,Type)] originalTree : SELF alternatives: alternative Cons: child hd : SelectItem child tl : SelectItemList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">SelectItemList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">SelectItem</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_SelectItemList</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">T_SelectItemList</span> 
<span class="Function">sem_SelectItemList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_SelectItemList_Cons</span> <span class="VarId">sem_SelectItemList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_SelectItem</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_SelectItemList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                         <span class="Symbol">(</span> <span class="ConId">SelectItemList</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">SelectItemList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_SelectItemList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_SelectItemList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_SelectItemList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_SelectItemList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_SelectItemList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_SelectItemList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_SelectItemList</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span><span class="Symbol">,</span><span class="VarId">listType_Syn_SelectItemList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_SelectItemList</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span><span class="Symbol">}</span>
<span class="Function">wrap_SelectItemList</span> <span class="Symbol">::</span> <span class="ConId">T_SelectItemList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Inh_SelectItemList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">Syn_SelectItemList</span> 
<span class="Function">wrap_SelectItemList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_SelectItemList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_SelectItemList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOlistType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_SelectItemList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_SelectItem</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_SelectItemList</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_SelectItemList</span> 
<span class="Function">sem_SelectItemList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span>
              <span class="VarId">_hdIitemType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItem</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="VarId">_tlIlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 43, column 12)</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIitemType</span> <span class="Symbol">++</span> <span class="VarId">_tlIlistType</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIitemType</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIlistType</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_SelectItemList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_SelectItemList</span> 
<span class="Function">sem_SelectItemList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 44, column 11)</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- SelectList --------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF libUpdates : [LocalBindingsUpdate] listType : [(String,Type)] originalTree : SELF alternatives: alternative SelectList: child ann : {Annotation} child items : SelectItemList child into : ScalarExprList visit 0: local intoFroms : {E ([(String,Type)],[(String,Type)])} local tpe : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">SelectList</span>  <span class="Symbol">=</span> <span class="ConId">SelectList</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">SelectItemList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> 
                 <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_SelectList</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">T_SelectList</span> 
<span class="Function">sem_SelectList</span> <span class="Symbol">(</span><span class="ConId">SelectList</span> <span class="VarId">_ann</span> <span class="VarId">_items</span> <span class="VarId">_into</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_SelectList_SelectList</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_SelectItemList</span> <span class="VarId">_items</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_into</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_SelectList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                     <span class="Symbol">(</span> <span class="ConId">SelectList</span><span class="Symbol">,([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">]),([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">SelectList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_SelectList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_SelectList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_SelectList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_SelectList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_SelectList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_SelectList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_SelectList</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span><span class="Symbol">,</span><span class="VarId">libUpdates_Syn_SelectList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">],</span><span class="VarId">listType_Syn_SelectList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_SelectList</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span><span class="Symbol">}</span>
<span class="Function">wrap_SelectList</span> <span class="Symbol">::</span> <span class="ConId">T_SelectList</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Inh_SelectList</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Syn_SelectList</span> 
<span class="Function">wrap_SelectList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_SelectList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_SelectList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOlibUpdates</span> <span class="VarId">_lhsOlistType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_SelectList_SelectList</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_SelectItemList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_SelectList</span> 
<span class="Function">sem_SelectList_SelectList</span> <span class="VarId">ann_</span> <span class="VarId">items_</span> <span class="VarId">into_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_intoOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_intoFroms</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">E</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectList</span>
              <span class="VarId">_itemsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_itemsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_intoOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_intoOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_itemsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="VarId">_itemsIlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_itemsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">SelectItemList</span>
              <span class="VarId">_intoIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_intoIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_intoItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_intoIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 557, column 18)</span>
              <span class="VarId">_intoOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 80, column 9)</span>
              <span class="VarId">_lhsOlistType</span> <span class="Symbol">=</span>
                  <span class="VarId">_itemsIlistType</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_intoFroms</span> <span class="Symbol">=</span>
                  <span class="VarId">returnWhen</span> <span class="Symbol">(</span><span class="VarId">_intoIoriginalTree</span> <span class="Symbol">==</span> <span class="Symbol">[])</span> <span class="Symbol">([],[])</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">it</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">intoTypes</span>
                  <span class="Keyword">let</span> <span class="VarId">ft</span> <span class="Symbol">=</span> <span class="VarId">_itemsIlistType</span>
                  <span class="VarId">return</span> <span class="Symbol">(</span><span class="VarId">it</span><span class="Symbol">,</span><span class="VarId">ft</span><span class="Symbol">)</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">intoTypes</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span>
                    <span class="VarId">intoTypes</span> <span class="Symbol">=</span> <span class="Keyword">do</span>
                                <span class="VarId">ts</span> <span class="Symbol">&lt;-</span> <span class="VarId">sequence</span> <span class="VarId">_intoIuType</span>
                                <span class="Keyword">let</span> <span class="VarId">ns</span> <span class="Symbol">=</span> <span class="VarId">map</span> <span class="VarId">getName</span> <span class="VarId">_intoIoriginalTree</span>
                                <span class="VarId">return</span> <span class="Symbol">$</span> <span class="VarId">zip</span> <span class="VarId">ns</span> <span class="VarId">ts</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 96, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">returnWhen</span> <span class="Symbol">(</span><span class="VarId">_intoIoriginalTree</span> <span class="Symbol">==</span> <span class="Symbol">[])</span> <span class="Symbol">()</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="Symbol">(</span><span class="VarId">it</span><span class="Symbol">,</span><span class="VarId">ft</span><span class="Symbol">)</span> <span class="Symbol">&lt;-</span> <span class="VarId">_intoFroms</span>
                  <span class="VarId">checkAssignmentsValid</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">snd</span> <span class="VarId">ft</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">snd</span> <span class="VarId">it</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 101, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">_</span> <span class="Symbol">&lt;-</span> <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
                  <span class="Symbol">(</span><span class="VarId">it</span><span class="Symbol">,</span><span class="VarId">ft</span><span class="Symbol">)</span> <span class="Symbol">&lt;-</span> <span class="VarId">etmt</span> <span class="VarId">_intoFroms</span>
                  <span class="VarId">return</span> <span class="Symbol">$</span> <span class="Keyword">case</span> <span class="VarId">it</span> <span class="Keyword">of</span>
                    <span class="Symbol">[(</span><span class="VarId">n</span><span class="Symbol">,</span><span class="ConId">PgRecord</span> <span class="VarId">_</span><span class="Symbol">)]</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">LBIds</span> <span class="String">&quot;set record actual fields from select into&quot;</span>
                                               <span class="ConId">Nothing</span>
                                               <span class="Symbol">[(</span><span class="VarId">n</span><span class="Symbol">,</span><span class="ConId">PgRecord</span> <span class="Symbol">$</span> <span class="ConId">Just</span> <span class="Symbol">$</span> <span class="ConId">CompositeType</span> <span class="VarId">ft</span><span class="Symbol">)]]</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/SelectLists.ag&quot;(line 134, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="Symbol">(</span><span class="VarId">tes</span> <span class="VarId">_tpe</span>    <span class="Symbol">)</span> <span class="Symbol">$</span>
                  <span class="ConId">SelectList</span> <span class="VarId">ann_</span>
                             <span class="VarId">_itemsIannotatedTree</span>
                             <span class="VarId">_intoIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SelectList</span> <span class="VarId">ann_</span> <span class="VarId">_itemsIannotatedTree</span> <span class="VarId">_intoIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SelectList</span> <span class="VarId">ann_</span> <span class="VarId">_itemsIoriginalTree</span> <span class="VarId">_intoIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_itemsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_itemsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_intoOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_intoOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_itemsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_itemsIlistType</span><span class="Symbol">,</span><span class="VarId">_itemsIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">items_</span> <span class="VarId">_itemsOcat</span> <span class="VarId">_itemsOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_intoIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_intoIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_intoItbUTypes</span><span class="Symbol">,</span><span class="VarId">_intoIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">into_</span> <span class="VarId">_intoOcat</span> <span class="VarId">_intoOexpectedTypes</span> <span class="VarId">_intoOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlistType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- Statement ---------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog inProducedCat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF catUpdates : [CatalogUpdate] libUpdates : [LocalBindingsUpdate] originalTree : SELF alternatives: alternative AlterSequence: child ann : {Annotation} child name : {String} child ownedBy : ScalarExpr visit 0: local libUpdates : _ local annotatedTree : _ local originalTree : _ alternative AlterTable: child ann : {Annotation} child name : {String} child actions : AlterTableActionList visit 0: local annotatedTree : _ local originalTree : _ alternative Assignment: child ann : {Annotation} child target : ScalarExpr child value : ScalarExpr visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local backTree : _ local catUpdates : {[CatalogUpdate]} local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative Block: child ann : {Annotation} child lb : {Maybe String} child vars : VarDefList child sts : StatementList visit 0: local libUpdates : _ local annotatedTree : _ local originalTree : _ alternative CaseStatement: child ann : {Annotation} child cases : ScalarExprListStatementListPairList child els : StatementList visit 0: local annotatedTree : _ local originalTree : _ alternative CaseStatementSimple: child ann : {Annotation} child val : ScalarExpr child cases : ScalarExprListStatementListPairList child els : StatementList visit 0: local annotatedTree : _ local originalTree : _ alternative ContinueStatement: child ann : {Annotation} child lb : {Maybe String} visit 0: local annotatedTree : _ local originalTree : _ alternative Copy: child ann : {Annotation} child table : {String} child targetCols : {[String]} child source : {CopySource} visit 0: local annotatedTree : _ local originalTree : _ alternative CopyData: child ann : {Annotation} child insData : {String} visit 0: local annotatedTree : _ local originalTree : _ alternative CreateDomain: child ann : {Annotation} child name : {String} child typ : TypeName child checkName : {String} child check : MaybeBoolExpr visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local backTree : _ local statementType : {Maybe StatementType} local catUpdates : {[CatalogUpdate]} local annotatedTree : _ local originalTree : _ alternative CreateFunction: child ann : {Annotation} child name : {String} child params : ParamDefList child rettype : TypeName child rep : {Replace} child lang : {Language} child body : FnBody child vol : {Volatility} visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local catUpdates : {[CatalogUpdate]} local backTree : _ local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative CreateLanguage: child ann : {Annotation} child name : {String} visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local backTree : _ local statementType : {Maybe StatementType} local catUpdates : {[CatalogUpdate]} local annotatedTree : _ local originalTree : _ alternative CreateSequence: child ann : {Annotation} child name : {String} child incr : {Integer} child min : {Integer} child max : {Integer} child start : {Integer} child cache : {Integer} visit 0: local libUpdates : _ local annotatedTree : _ local originalTree : _ alternative CreateTable: child ann : {Annotation} child name : {String} child atts : AttributeDefList child cons : ConstraintList visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local catUpdates : {[CatalogUpdate]} local attrs : {[(String,Type)]} local statementType : {Maybe StatementType} local backTree : _ local annotatedTree : _ local originalTree : _ alternative CreateTableAs: child ann : {Annotation} child name : {String} child expr : QueryExpr visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local catUpdates : {[CatalogUpdate]} local attrs : {Either [TypeError] [(String,Type)]} local backTree : _ local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative CreateTrigger: child ann : {Annotation} child name : {String} child wh : {TriggerWhen} child events : {[TriggerEvent]} child tbl : {String} child firing : {TriggerFire} child fnName : {String} child fnArgs : ScalarExprList visit 0: local annotatedTree : _ local originalTree : _ alternative CreateType: child ann : {Annotation} child name : {String} child atts : TypeAttributeDefList visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local attrs : _ local backTree : _ local statementType : {Maybe StatementType} local catUpdates : {[CatalogUpdate]} local annotatedTree : _ local originalTree : _ alternative CreateView: child ann : {Annotation} child name : {String} child expr : QueryExpr visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local backTree : _ local catUpdates : {[CatalogUpdate]} local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative Delete: child ann : {Annotation} child table : ScalarExpr child using : TableRefList child whr : MaybeBoolExpr child returning : MaybeSelectList visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local statementType : {Maybe StatementType} local backTree : _ local catUpdates : {[CatalogUpdate]} local lib : _ local annotatedTree : _ local originalTree : _ alternative DropFunction: child ann : {Annotation} child ifE : {IfExists} child sigs : StringTypeNameListPairList child cascade : {Cascade} visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local backTree : _ local catUpdates : {[CatalogUpdate]} local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative DropSomething: child ann : {Annotation} child dropType : {DropType} child ifE : {IfExists} child names : {[String]} child cascade : {Cascade} visit 0: local annotatedTree : _ local originalTree : _ alternative Execute: child ann : {Annotation} child expr : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative ExecuteInto: child ann : {Annotation} child expr : ScalarExpr child targets : {[String]} visit 0: local annotatedTree : _ local originalTree : _ alternative ExitStatement: child ann : {Annotation} child lb : {Maybe String} visit 0: local annotatedTree : _ local originalTree : _ alternative ForIntegerStatement: child ann : {Annotation} child lb : {Maybe String} child var : ScalarExpr child from : ScalarExpr child to : ScalarExpr child sts : StatementList visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local implicitVar : _ local backTree : _ local catUpdates : {[CatalogUpdate]} local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative ForQueryStatement: child ann : {Annotation} child lb : {Maybe String} child var : ScalarExpr child sel : QueryExpr child sts : StatementList visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local backTree : _ local catUpdates : {[CatalogUpdate]} local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative If: child ann : {Annotation} child cases : ScalarExprStatementListPairList child els : StatementList visit 0: local annotatedTree : _ local originalTree : _ alternative Insert: child ann : {Annotation} child table : ScalarExpr child targetCols : {[String]} child insData : QueryExpr child returning : MaybeSelectList visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local statementType : {Maybe StatementType} local columnTypes : {Either [TypeError] [(String,Type)]} local backTree : _ local catUpdates : {[CatalogUpdate]} local annotatedTree : _ local originalTree : _ alternative LoopStatement: child ann : {Annotation} child lb : {Maybe String} child sts : StatementList visit 0: local annotatedTree : _ local originalTree : _ alternative Notify: child ann : {Annotation} child name : {String} visit 0: local libUpdates : _ local annotatedTree : _ local originalTree : _ alternative NullStatement: child ann : {Annotation} visit 0: local annotatedTree : _ local originalTree : _ alternative Perform: child ann : {Annotation} child expr : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative QueryStatement: child ann : {Annotation} child ex : QueryExpr visit 0: local tpe : {Either [TypeError] Type} local statementType : {Maybe StatementType} local backTree : _ local catUpdates : {[CatalogUpdate]} local libUpdates : _ local annotatedTree : _ local originalTree : _ alternative Raise: child ann : {Annotation} child level : {RaiseType} child message : {String} child args : ScalarExprList visit 0: local annotatedTree : _ local originalTree : _ alternative Return: child ann : {Annotation} child value : MaybeScalarExpr visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local backTree : _ local catUpdates : {[CatalogUpdate]} local statementType : {Maybe StatementType} local annotatedTree : _ local originalTree : _ alternative ReturnNext: child ann : {Annotation} child expr : ScalarExpr visit 0: local annotatedTree : _ local originalTree : _ alternative ReturnQuery: child ann : {Annotation} child sel : QueryExpr visit 0: local annotatedTree : _ local originalTree : _ alternative Set: child ann : {Annotation} child name : {String} child values : {[SetValue]} visit 0: local libUpdates : _ local annotatedTree : _ local originalTree : _ alternative Truncate: child ann : {Annotation} child tables : {[String]} child restartIdentity : {RestartIdentity} child cascade : {Cascade} visit 0: local annotatedTree : _ local originalTree : _ alternative Update: child ann : {Annotation} child table : ScalarExpr child assigns : ScalarExprList child fromList : TableRefList child whr : MaybeBoolExpr child returning : MaybeSelectList visit 0: local libUpdates : _ local tpe : {Either [TypeError] Type} local statementType : {Maybe StatementType} local backTree : _ local catUpdates : {[CatalogUpdate]} local lib : _ local annotatedTree : _ local originalTree : _ alternative WhileStatement: child ann : {Annotation} child lb : {Maybe String} child expr : ScalarExpr child sts : StatementList visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">Statement</span>  <span class="Symbol">=</span> <span class="ConId">AlterSequence</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">AlterTable</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">AlterTableActionList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Assignment</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Block</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">VarDefList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CaseStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprListStatementListPairList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CaseStatementSimple</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprListStatementListPairList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">ContinueStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Copy</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">(</span><span class="ConId">CopySource</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CopyData</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateDomain</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeBoolExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateFunction</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ParamDefList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Replace</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Language</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">FnBody</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Volatility</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateLanguage</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateSequence</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateTable</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">AttributeDefList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ConstraintList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateTableAs</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateTrigger</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TriggerWhen</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">TriggerEvent</span><span class="Symbol">])</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TriggerFire</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateType</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeAttributeDefList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">CreateView</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Delete</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableRefList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeBoolExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeSelectList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">DropFunction</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">IfExists</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StringTypeNameListPairList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Cascade</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">DropSomething</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">DropType</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">IfExists</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">(</span><span class="ConId">Cascade</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Execute</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">ExecuteInto</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> 
                <span class="Symbol">|</span> <span class="ConId">ExitStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">ForIntegerStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">ForQueryStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">If</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprStatementListPairList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Insert</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeSelectList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">LoopStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Notify</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">NullStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Perform</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">QueryStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Raise</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">RaiseType</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Return</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeScalarExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">ReturnNext</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">ReturnQuery</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Set</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">SetValue</span><span class="Symbol">])</span> 
                <span class="Symbol">|</span> <span class="ConId">Truncate</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">(</span><span class="ConId">RestartIdentity</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Cascade</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">Update</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExprList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableRefList</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeBoolExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">MaybeSelectList</span><span class="Symbol">)</span> 
                <span class="Symbol">|</span> <span class="ConId">WhileStatement</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">StatementList</span><span class="Symbol">)</span> 
                <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_Statement</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">AlterSequence</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_ownedBy</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_AlterSequence</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_ownedBy</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">AlterTable</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_actions</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_AlterTable</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_AlterTableActionList</span> <span class="VarId">_actions</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Assignment</span> <span class="VarId">_ann</span> <span class="VarId">_target</span> <span class="VarId">_value</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Assignment</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_target</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_value</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Block</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="VarId">_vars</span> <span class="VarId">_sts</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Block</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">(</span><span class="VarId">sem_VarDefList</span> <span class="VarId">_vars</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_sts</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CaseStatement</span> <span class="VarId">_ann</span> <span class="VarId">_cases</span> <span class="VarId">_els</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CaseStatement</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprListStatementListPairList</span> <span class="VarId">_cases</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_els</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CaseStatementSimple</span> <span class="VarId">_ann</span> <span class="VarId">_val</span> <span class="VarId">_cases</span> <span class="VarId">_els</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CaseStatementSimple</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_val</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprListStatementListPairList</span> <span class="VarId">_cases</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_els</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">ContinueStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_ContinueStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Copy</span> <span class="VarId">_ann</span> <span class="VarId">_table</span> <span class="VarId">_targetCols</span> <span class="VarId">_source</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Copy</span> <span class="VarId">_ann</span> <span class="VarId">_table</span> <span class="VarId">_targetCols</span> <span class="VarId">_source</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CopyData</span> <span class="VarId">_ann</span> <span class="VarId">_insData</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CopyData</span> <span class="VarId">_ann</span> <span class="VarId">_insData</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateDomain</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_typ</span> <span class="VarId">_checkName</span> <span class="VarId">_check</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateDomain</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="VarId">_checkName</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeBoolExpr</span> <span class="VarId">_check</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateFunction</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_params</span> <span class="VarId">_rettype</span> <span class="VarId">_rep</span> <span class="VarId">_lang</span> <span class="VarId">_body</span> <span class="VarId">_vol</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateFunction</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_ParamDefList</span> <span class="VarId">_params</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_rettype</span> <span class="Symbol">)</span> <span class="VarId">_rep</span> <span class="VarId">_lang</span> <span class="Symbol">(</span><span class="VarId">sem_FnBody</span> <span class="VarId">_body</span> <span class="Symbol">)</span> <span class="VarId">_vol</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateLanguage</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateLanguage</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateSequence</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_incr</span> <span class="VarId">_min</span> <span class="VarId">_max</span> <span class="VarId">_start</span> <span class="VarId">_cache</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateSequence</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_incr</span> <span class="VarId">_min</span> <span class="VarId">_max</span> <span class="VarId">_start</span> <span class="VarId">_cache</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateTable</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_atts</span> <span class="VarId">_cons</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateTable</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_AttributeDefList</span> <span class="VarId">_atts</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ConstraintList</span> <span class="VarId">_cons</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateTableAs</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateTableAs</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateTrigger</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_wh</span> <span class="VarId">_events</span> <span class="VarId">_tbl</span> <span class="VarId">_firing</span> <span class="VarId">_fnName</span> <span class="VarId">_fnArgs</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateTrigger</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_wh</span> <span class="VarId">_events</span> <span class="VarId">_tbl</span> <span class="VarId">_firing</span> <span class="VarId">_fnName</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_fnArgs</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateType</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_atts</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateType</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_TypeAttributeDefList</span> <span class="VarId">_atts</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">CreateView</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_CreateView</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Delete</span> <span class="VarId">_ann</span> <span class="VarId">_table</span> <span class="VarId">_using</span> <span class="VarId">_whr</span> <span class="VarId">_returning</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Delete</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_table</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_TableRefList</span> <span class="VarId">_using</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeBoolExpr</span> <span class="VarId">_whr</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeSelectList</span> <span class="VarId">_returning</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">DropFunction</span> <span class="VarId">_ann</span> <span class="VarId">_ifE</span> <span class="VarId">_sigs</span> <span class="VarId">_cascade</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_DropFunction</span> <span class="VarId">_ann</span> <span class="VarId">_ifE</span> <span class="Symbol">(</span><span class="VarId">sem_StringTypeNameListPairList</span> <span class="VarId">_sigs</span> <span class="Symbol">)</span> <span class="VarId">_cascade</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">DropSomething</span> <span class="VarId">_ann</span> <span class="VarId">_dropType</span> <span class="VarId">_ifE</span> <span class="VarId">_names</span> <span class="VarId">_cascade</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_DropSomething</span> <span class="VarId">_ann</span> <span class="VarId">_dropType</span> <span class="VarId">_ifE</span> <span class="VarId">_names</span> <span class="VarId">_cascade</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Execute</span> <span class="VarId">_ann</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Execute</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">ExecuteInto</span> <span class="VarId">_ann</span> <span class="VarId">_expr</span> <span class="VarId">_targets</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_ExecuteInto</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="VarId">_targets</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">ExitStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_ExitStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">ForIntegerStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="VarId">_var</span> <span class="VarId">_from</span> <span class="VarId">_to</span> <span class="VarId">_sts</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_ForIntegerStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_var</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_from</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_to</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_sts</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">ForQueryStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="VarId">_var</span> <span class="VarId">_sel</span> <span class="VarId">_sts</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_ForQueryStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_var</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_sts</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">If</span> <span class="VarId">_ann</span> <span class="VarId">_cases</span> <span class="VarId">_els</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_If</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprStatementListPairList</span> <span class="VarId">_cases</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_els</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Insert</span> <span class="VarId">_ann</span> <span class="VarId">_table</span> <span class="VarId">_targetCols</span> <span class="VarId">_insData</span> <span class="VarId">_returning</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Insert</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_table</span> <span class="Symbol">)</span> <span class="VarId">_targetCols</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_insData</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeSelectList</span> <span class="VarId">_returning</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">LoopStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="VarId">_sts</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_LoopStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_sts</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Notify</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Notify</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">NullStatement</span> <span class="VarId">_ann</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_NullStatement</span> <span class="VarId">_ann</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Perform</span> <span class="VarId">_ann</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Perform</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">QueryStatement</span> <span class="VarId">_ann</span> <span class="VarId">_ex</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_QueryStatement</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_ex</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Raise</span> <span class="VarId">_ann</span> <span class="VarId">_level</span> <span class="VarId">_message</span> <span class="VarId">_args</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Raise</span> <span class="VarId">_ann</span> <span class="VarId">_level</span> <span class="VarId">_message</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_args</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Return</span> <span class="VarId">_ann</span> <span class="VarId">_value</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Return</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeScalarExpr</span> <span class="VarId">_value</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">ReturnNext</span> <span class="VarId">_ann</span> <span class="VarId">_expr</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_ReturnNext</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">ReturnQuery</span> <span class="VarId">_ann</span> <span class="VarId">_sel</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_ReturnQuery</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Set</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_values</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Set</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_values</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Truncate</span> <span class="VarId">_ann</span> <span class="VarId">_tables</span> <span class="VarId">_restartIdentity</span> <span class="VarId">_cascade</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Truncate</span> <span class="VarId">_ann</span> <span class="VarId">_tables</span> <span class="VarId">_restartIdentity</span> <span class="VarId">_cascade</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">Update</span> <span class="VarId">_ann</span> <span class="VarId">_table</span> <span class="VarId">_assigns</span> <span class="VarId">_fromList</span> <span class="VarId">_whr</span> <span class="VarId">_returning</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_Update</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_table</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExprList</span> <span class="VarId">_assigns</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_TableRefList</span> <span class="VarId">_fromList</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeBoolExpr</span> <span class="VarId">_whr</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_MaybeSelectList</span> <span class="VarId">_returning</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_Statement</span> <span class="Symbol">(</span><span class="ConId">WhileStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="VarId">_expr</span> <span class="VarId">_sts</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_Statement_WhileStatement</span> <span class="VarId">_ann</span> <span class="VarId">_lb</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_expr</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_StatementList</span> <span class="VarId">_sts</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_Statement</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                    <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                    <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                    <span class="Symbol">(</span> <span class="ConId">Statement</span><span class="Symbol">,([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">]),([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">]),</span><span class="ConId">Statement</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_Statement</span>  <span class="Symbol">=</span> <span class="ConId">Inh_Statement</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_Statement</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">inProducedCat_Inh_Statement</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_Statement</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_Statement</span>  <span class="Symbol">=</span> <span class="ConId">Syn_Statement</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_Statement</span> <span class="Symbol">::</span> <span class="ConId">Statement</span><span class="Symbol">,</span><span class="VarId">catUpdates_Syn_Statement</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">CatalogUpdate</span><span class="Symbol">],</span><span class="VarId">libUpdates_Syn_Statement</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">],</span><span class="VarId">originalTree_Syn_Statement</span> <span class="Symbol">::</span> <span class="ConId">Statement</span><span class="Symbol">}</span>
<span class="Function">wrap_Statement</span> <span class="Symbol">::</span> <span class="ConId">T_Statement</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">Inh_Statement</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">Syn_Statement</span> 
<span class="Function">wrap_Statement</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_Statement</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIinProducedCat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIinProducedCat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_Statement</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOcatUpdates</span> <span class="VarId">_lhsOlibUpdates</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_Statement_AlterSequence</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_AlterSequence</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">ownedBy_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_ownedByOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_ownedByOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_ownedByOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_ownedByIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_ownedByIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_ownedByIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_ownedByIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_ownedByItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_ownedByItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_ownedByIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 570, column 21)</span>
              <span class="VarId">_ownedByOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AlterSequence</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_ownedByIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AlterSequence</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_ownedByIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_ownedByOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_ownedByOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_ownedByIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_ownedByIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_ownedByIntType</span><span class="Symbol">,</span><span class="VarId">_ownedByIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_ownedByItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_ownedByItbUType</span><span class="Symbol">,</span><span class="VarId">_ownedByIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">ownedBy_</span> <span class="VarId">_ownedByOcat</span> <span class="VarId">_ownedByOexpectedType</span> <span class="VarId">_ownedByOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_AlterTable</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_AlterTableActionList</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_AlterTable</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">actions_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_actionsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_actionsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_actionsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="VarId">_actionsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AlterTableActionList</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AlterTable</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_actionsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">AlterTable</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_actionsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_actionsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_actionsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_actionsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_actionsIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">actions_</span> <span class="VarId">_actionsOcat</span> <span class="VarId">_actionsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Assignment</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Assignment</span> <span class="VarId">ann_</span> <span class="VarId">target_</span> <span class="VarId">value_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_valueOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_targetOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_targetOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_targetOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_valueOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_valueOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_targetIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_targetIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_targetIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_targetIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_targetItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_targetItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_targetIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_valueIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_valueIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valueItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_valueIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 564, column 18)</span>
              <span class="VarId">_valueOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 571, column 18)</span>
              <span class="VarId">_targetOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 20, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">fromType</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_valueIuType</span>
                  <span class="VarId">toType</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_targetIuType</span>
                  <span class="VarId">checkAssignmentValid</span> <span class="VarId">_lhsIcat</span> <span class="VarId">fromType</span> <span class="VarId">toType</span>
                  <span class="VarId">return</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 26, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Assignment</span> <span class="VarId">ann_</span> <span class="VarId">_targetIannotatedTree</span> <span class="VarId">_valueIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 27, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 28, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Assignment</span> <span class="VarId">ann_</span> <span class="VarId">_targetIannotatedTree</span> <span class="VarId">_valueIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Assignment</span> <span class="VarId">ann_</span> <span class="VarId">_targetIoriginalTree</span> <span class="VarId">_valueIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_targetOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_targetOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valueOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valueOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_targetIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_targetIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_targetIntType</span><span class="Symbol">,</span><span class="VarId">_targetIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_targetItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_targetItbUType</span><span class="Symbol">,</span><span class="VarId">_targetIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">target_</span> <span class="VarId">_targetOcat</span> <span class="VarId">_targetOexpectedType</span> <span class="VarId">_targetOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_valueIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_valueIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_valueIntType</span><span class="Symbol">,</span><span class="VarId">_valueIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_valueItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_valueItbUType</span><span class="Symbol">,</span><span class="VarId">_valueIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">value_</span> <span class="VarId">_valueOcat</span> <span class="VarId">_valueOexpectedType</span> <span class="VarId">_valueOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Block</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                       <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_VarDefList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Block</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">vars_</span> <span class="VarId">sts_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_varsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_varsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_varsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="VarId">_varsIdefs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_varsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="VarId">_stsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 100, column 13)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 101, column 13)</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Block.ag&quot;(line 22, column 9)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">$</span>
                  <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span>
                           <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;declarations&quot;</span> <span class="VarId">lb_</span> <span class="Symbol">$</span> <span class="VarId">mapMaybe</span> <span class="VarId">lv</span> <span class="VarId">_varsIdefs</span><span class="Symbol">)</span>
                           <span class="VarId">_lhsIlib</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">lv</span> <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Nothing</span>
                    <span class="VarId">lv</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Block</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_varsIannotatedTree</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Block</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_varsIoriginalTree</span> <span class="VarId">_stsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (from local)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_varsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_varsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (from local)</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Symbol">(</span> <span class="VarId">_varsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_varsIdefs</span><span class="Symbol">,</span><span class="VarId">_varsIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">vars_</span> <span class="VarId">_varsOcat</span> <span class="VarId">_varsOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_stsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_stsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_stsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_stsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sts_</span> <span class="VarId">_stsOcat</span> <span class="VarId">_stsOcatUpdates</span> <span class="VarId">_stsOlib</span> <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CaseStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExprListStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CaseStatement</span> <span class="VarId">ann_</span> <span class="VarId">cases_</span> <span class="VarId">els_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_elsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_casesIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_casesIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_elsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_elsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_elsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 134, column 9)</span>
              <span class="VarId">_elsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 135, column 9)</span>
              <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CaseStatement</span> <span class="VarId">ann_</span> <span class="VarId">_casesIannotatedTree</span> <span class="VarId">_elsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CaseStatement</span> <span class="VarId">ann_</span> <span class="VarId">_casesIoriginalTree</span> <span class="VarId">_elsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_casesIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_casesIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">cases_</span> <span class="VarId">_casesOcat</span> <span class="VarId">_casesOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_elsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_elsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_elsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_elsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">els_</span> <span class="VarId">_elsOcat</span> <span class="VarId">_elsOcatUpdates</span> <span class="VarId">_elsOlib</span> <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CaseStatementSimple</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_ScalarExprListStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CaseStatementSimple</span> <span class="VarId">ann_</span> <span class="VarId">val_</span> <span class="VarId">cases_</span> <span class="VarId">els_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_valOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_elsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_valOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_valOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_valIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_valIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_valItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_valIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_casesIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_casesIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprListStatementListPairList</span>
              <span class="VarId">_elsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_elsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_elsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 565, column 27)</span>
              <span class="VarId">_valOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 134, column 9)</span>
              <span class="VarId">_elsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 135, column 9)</span>
              <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CaseStatementSimple</span> <span class="VarId">ann_</span> <span class="VarId">_valIannotatedTree</span> <span class="VarId">_casesIannotatedTree</span> <span class="VarId">_elsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CaseStatementSimple</span> <span class="VarId">ann_</span> <span class="VarId">_valIoriginalTree</span> <span class="VarId">_casesIoriginalTree</span> <span class="VarId">_elsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_valIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_valIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_valIntType</span><span class="Symbol">,</span><span class="VarId">_valIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_valItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_valItbUType</span><span class="Symbol">,</span><span class="VarId">_valIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">val_</span> <span class="VarId">_valOcat</span> <span class="VarId">_valOexpectedType</span> <span class="VarId">_valOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_casesIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_casesIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">cases_</span> <span class="VarId">_casesOcat</span> <span class="VarId">_casesOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_elsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_elsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_elsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_elsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">els_</span> <span class="VarId">_elsOcat</span> <span class="VarId">_elsOcatUpdates</span> <span class="VarId">_elsOlib</span> <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_ContinueStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                   <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_ContinueStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ContinueStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ContinueStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Copy</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                      <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                      <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                      <span class="ConId">CopySource</span> <span class="Symbol">-&gt;</span>
                      <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Copy</span> <span class="VarId">ann_</span> <span class="VarId">table_</span> <span class="VarId">targetCols_</span> <span class="VarId">source_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Copy</span> <span class="VarId">ann_</span> <span class="VarId">table_</span> <span class="VarId">targetCols_</span> <span class="VarId">source_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Copy</span> <span class="VarId">ann_</span> <span class="VarId">table_</span> <span class="VarId">targetCols_</span> <span class="VarId">source_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CopyData</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CopyData</span> <span class="VarId">ann_</span> <span class="VarId">insData_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CopyData</span> <span class="VarId">ann_</span> <span class="VarId">insData_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CopyData</span> <span class="VarId">ann_</span> <span class="VarId">insData_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateDomain</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateDomain</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">typ_</span> <span class="VarId">checkName_</span> <span class="VarId">check_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_checkOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_checkOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_checkIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_checkIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 65, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 66, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateDomain</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIannotatedTree</span> <span class="VarId">checkName_</span> <span class="VarId">_checkIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 67, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 68, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="Symbol">(\</span><span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">CatCreateDomain</span> <span class="Symbol">(</span><span class="ConId">DomainType</span> <span class="VarId">name_</span><span class="Symbol">)</span> <span class="VarId">t</span><span class="Symbol">])</span> <span class="VarId">_typInamedType</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 70, column 9)</span>
              <span class="VarId">_checkOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">nt</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_typInamedType</span>
                  <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span>
                    <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;domain check value&quot;</span> <span class="ConId">Nothing</span> <span class="Symbol">[(</span><span class="String">&quot;value&quot;</span><span class="Symbol">,</span> <span class="VarId">nt</span><span class="Symbol">)])</span>
                    <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateDomain</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIannotatedTree</span> <span class="VarId">checkName_</span> <span class="VarId">_checkIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateDomain</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIoriginalTree</span> <span class="VarId">checkName_</span> <span class="VarId">_checkIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_checkOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_checkIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_checkIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">check_</span> <span class="VarId">_checkOcat</span> <span class="VarId">_checkOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateFunction</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_ParamDefList</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">Replace</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">Language</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_FnBody</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">Volatility</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateFunction</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">params_</span> <span class="VarId">rettype_</span> <span class="VarId">rep_</span> <span class="VarId">lang_</span> <span class="VarId">body_</span> <span class="VarId">vol_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_bodyOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_paramsOpos</span> <span class="Symbol">::</span> <span class="ConId">Int</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_bodyOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_paramsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_paramsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_rettypeOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_rettypeOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_paramsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="VarId">_paramsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ParamDefList</span>
              <span class="VarId">_paramsIparams</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">ParamName</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_rettypeIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_rettypeInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_rettypeIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_bodyIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span>
              <span class="VarId">_bodyIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">FnBody</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 63, column 9)</span>
              <span class="VarId">_bodyOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">_</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_rettypeInamedType</span>
                  <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="Symbol">(</span><span class="VarId">name_</span> <span class="Symbol">++</span> <span class="String">&quot; parameters&quot;</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Just</span> <span class="VarId">name_</span><span class="Symbol">)</span> <span class="VarId">paramsNoPos</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span>
                  <span class="Symbol">&gt;&gt;=</span> <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="Symbol">(</span><span class="VarId">name_</span> <span class="Symbol">++</span> <span class="String">&quot; parameters&quot;</span><span class="Symbol">)</span> <span class="ConId">Nothing</span> <span class="VarId">paramsPosOnly</span><span class="Symbol">)</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">paramsPosOnly</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span>
                    <span class="VarId">paramsPosOnly</span> <span class="Symbol">=</span> <span class="VarId">mapMaybe</span> <span class="VarId">prm</span> <span class="VarId">_paramsIparams</span>
                    <span class="VarId">prm</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">ParamName</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="ConId">Maybe</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)</span>
                    <span class="VarId">prm</span> <span class="Symbol">(</span><span class="ConId">NamedParam</span> <span class="VarId">p</span> <span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="String">&quot;$&quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">p</span><span class="Symbol">,</span> <span class="VarId">t</span><span class="Symbol">)</span>
                    <span class="VarId">prm</span> <span class="Symbol">(</span><span class="ConId">UnnamedParam</span> <span class="VarId">p</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="String">&quot;$&quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">p</span><span class="Symbol">,</span> <span class="VarId">t</span><span class="Symbol">)</span>
                    <span class="VarId">prm</span> <span class="VarId">_</span> <span class="Symbol">=</span> <span class="ConId">Nothing</span>
                    <span class="VarId">paramsNoPos</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span>
                    <span class="VarId">paramsNoPos</span> <span class="Symbol">=</span> <span class="VarId">mapMaybe</span> <span class="VarId">pnp</span> <span class="VarId">_paramsIparams</span>
                    <span class="VarId">pnp</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">ParamName</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="ConId">Maybe</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)</span>
                    <span class="VarId">pnp</span> <span class="Symbol">(</span><span class="ConId">NamedParam</span> <span class="VarId">_</span> <span class="VarId">n</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="VarId">n</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)</span>
                    <span class="VarId">pnp</span> <span class="VarId">_</span> <span class="Symbol">=</span> <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 79, column 9)</span>
              <span class="VarId">_paramsOpos</span> <span class="Symbol">=</span>
                  <span class="Number">1</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="Keyword">let</span> <span class="VarId">ps</span> <span class="Symbol">=</span> <span class="VarId">mapMaybe</span> <span class="VarId">lpt</span> <span class="VarId">_paramsIparams</span>
                  <span class="VarId">rt</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_rettypeInamedType</span>
                  <span class="VarId">return</span> <span class="Symbol">[</span><span class="ConId">CatCreateFunction</span> <span class="ConId">FunName</span>
                                            <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">toLower</span> <span class="VarId">name_</span><span class="Symbol">)</span>
                                            <span class="VarId">ps</span>
                                            <span class="VarId">rt</span>
                                            <span class="ConId">False</span><span class="Symbol">]</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">lpt</span> <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Just</span> <span class="VarId">t</span>
                    <span class="VarId">lpt</span> <span class="VarId">_</span> <span class="Symbol">=</span> <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 101, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateFunction</span> <span class="VarId">ann_</span>
                                 <span class="VarId">name_</span>
                                 <span class="VarId">_paramsIannotatedTree</span>
                                 <span class="VarId">_rettypeIannotatedTree</span>
                                 <span class="VarId">rep_</span>
                                 <span class="VarId">lang_</span>
                                 <span class="VarId">_bodyIannotatedTree</span>
                                 <span class="VarId">vol_</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 109, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateFunction.ag&quot;(line 110, column 9)</span>
              <span class="VarId">_bodyOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIinProducedCat</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateFunction</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_paramsIannotatedTree</span> <span class="VarId">_rettypeIannotatedTree</span> <span class="VarId">rep_</span> <span class="VarId">lang_</span> <span class="VarId">_bodyIannotatedTree</span> <span class="VarId">vol_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateFunction</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_paramsIoriginalTree</span> <span class="VarId">_rettypeIoriginalTree</span> <span class="VarId">rep_</span> <span class="VarId">lang_</span> <span class="VarId">_bodyIoriginalTree</span> <span class="VarId">vol_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_paramsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_paramsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_rettypeOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_rettypeOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_paramsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_paramsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_paramsIparams</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">params_</span> <span class="VarId">_paramsOcat</span> <span class="VarId">_paramsOlib</span> <span class="VarId">_paramsOpos</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_rettypeIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_rettypeInamedType</span><span class="Symbol">,</span><span class="VarId">_rettypeIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">rettype_</span> <span class="VarId">_rettypeOcat</span> <span class="VarId">_rettypeOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_bodyIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_bodyIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">body_</span> <span class="VarId">_bodyOcat</span> <span class="VarId">_bodyOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateLanguage</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateLanguage</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 78, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 79, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateLanguage</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 80, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[</span><span class="ConId">CatCreateFunction</span> <span class="ConId">FunName</span> <span class="String">&quot;plpgsql_call_handler&quot;</span> <span class="Symbol">[]</span> <span class="Symbol">(</span><span class="ConId">Pseudo</span> <span class="ConId">LanguageHandler</span><span class="Symbol">)</span> <span class="ConId">False</span>
                  <span class="Symbol">,</span><span class="ConId">CatCreateFunction</span> <span class="ConId">FunName</span> <span class="String">&quot;plpgsql_validator&quot;</span> <span class="Symbol">[</span><span class="ConId">ScalarType</span> <span class="String">&quot;oid&quot;</span><span class="Symbol">]</span> <span class="Symbol">(</span><span class="ConId">Pseudo</span> <span class="ConId">Void</span><span class="Symbol">)</span> <span class="ConId">False</span><span class="Symbol">]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateLanguage</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateLanguage</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateSequence</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateSequence</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">incr_</span> <span class="VarId">min_</span> <span class="VarId">max_</span> <span class="VarId">start_</span> <span class="VarId">cache_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateSequence</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">incr_</span> <span class="VarId">min_</span> <span class="VarId">max_</span> <span class="VarId">start_</span> <span class="VarId">cache_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateSequence</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">incr_</span> <span class="VarId">min_</span> <span class="VarId">max_</span> <span class="VarId">start_</span> <span class="VarId">cache_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateTable</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_AttributeDefList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ConstraintList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateTable</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">atts_</span> <span class="VarId">cons_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_attrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_consOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_attsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_attsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_consOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_attsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="VarId">_attsIattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_attsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">AttributeDefList</span>
              <span class="VarId">_consIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="VarId">_consIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ConstraintList</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 31, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 32, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[</span><span class="ConId">CatCreateTable</span> <span class="VarId">name_</span> <span class="VarId">_attrs</span>     <span class="VarId">defaultSystemColumns</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 35, column 9)</span>
              <span class="VarId">_attrs</span> <span class="Symbol">=</span>
                  <span class="VarId">mapMaybe</span> <span class="VarId">okAt</span> <span class="VarId">_attsIattrs</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">okAt</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span> <span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)</span>
                    <span class="VarId">okAt</span> <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 41, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTable</span> <span class="VarId">ann_</span>
                              <span class="VarId">name_</span>
                              <span class="VarId">_attsIannotatedTree</span>
                              <span class="VarId">_consIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 45, column 9)</span>
              <span class="VarId">_consOlib</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span>
                         <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;attributedefs&quot;</span> <span class="ConId">Nothing</span> <span class="VarId">_attrs</span>    <span class="Symbol">)</span>
                         <span class="VarId">_lhsIlib</span> <span class="Keyword">of</span>
                     <span class="ConId">Left</span> <span class="VarId">x</span> <span class="Symbol">-&gt;</span> <span class="VarId">error</span> <span class="Symbol">$</span> <span class="String">&quot;statement-createtable-cons.lib &quot;</span> <span class="Symbol">++</span> <span class="VarId">show</span> <span class="VarId">x</span>
                     <span class="ConId">Right</span> <span class="VarId">e</span> <span class="Symbol">-&gt;</span> <span class="VarId">e</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTable</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_attsIannotatedTree</span> <span class="VarId">_consIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTable</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_attsIoriginalTree</span> <span class="VarId">_consIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_attsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_attsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_consOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_attsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_attsIattrs</span><span class="Symbol">,</span><span class="VarId">_attsIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">atts_</span> <span class="VarId">_attsOcat</span> <span class="VarId">_attsOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_consIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_consIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">cons_</span> <span class="VarId">_consOcat</span> <span class="VarId">_consOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateTableAs</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateTableAs</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_attrs</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exprIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 630, column 32)</span>
              <span class="VarId">_exprOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 64, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">CompositeType</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">lmt</span> <span class="VarId">_exprIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 65, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">ats</span> <span class="Symbol">&lt;-</span> <span class="VarId">_attrs</span>
                  <span class="VarId">return</span> <span class="Symbol">[</span><span class="ConId">CatCreateTable</span> <span class="VarId">name_</span> <span class="VarId">ats</span> <span class="VarId">defaultSystemColumns</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 71, column 9)</span>
              <span class="VarId">_attrs</span> <span class="Symbol">=</span>
                  <span class="VarId">lmt</span> <span class="VarId">_exprIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 73, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTableAs</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/CreateTable.ag&quot;(line 74, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTableAs</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTableAs</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedTypes</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateTrigger</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">TriggerWhen</span> <span class="Symbol">-&gt;</span>
                               <span class="Symbol">([</span><span class="ConId">TriggerEvent</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">TriggerFire</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateTrigger</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">wh_</span> <span class="VarId">events_</span> <span class="VarId">tbl_</span> <span class="VarId">firing_</span> <span class="VarId">fnName_</span> <span class="VarId">fnArgs_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_fnArgsOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_fnArgsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_fnArgsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_fnArgsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_fnArgsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_fnArgsItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_fnArgsIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 608, column 21)</span>
              <span class="VarId">_fnArgsOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTrigger</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">wh_</span> <span class="VarId">events_</span> <span class="VarId">tbl_</span> <span class="VarId">firing_</span> <span class="VarId">fnName_</span> <span class="VarId">_fnArgsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateTrigger</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">wh_</span> <span class="VarId">events_</span> <span class="VarId">tbl_</span> <span class="VarId">firing_</span> <span class="VarId">fnName_</span> <span class="VarId">_fnArgsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fnArgsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fnArgsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_fnArgsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_fnArgsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_fnArgsItbUTypes</span><span class="Symbol">,</span><span class="VarId">_fnArgsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">fnArgs_</span> <span class="VarId">_fnArgsOcat</span> <span class="VarId">_fnArgsOexpectedTypes</span> <span class="VarId">_fnArgsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateType</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_TypeAttributeDefList</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateType</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">atts_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_attsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_attsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_attsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="VarId">_attsIattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_attsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 48, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 49, column 9)</span>
              <span class="VarId">_attrs</span> <span class="Symbol">=</span>
                  <span class="VarId">mapMaybe</span> <span class="VarId">okAt</span> <span class="VarId">_attsIattrs</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">okAt</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span> <span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">)</span>
                    <span class="VarId">okAt</span> <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 53, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateType</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_attsIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 54, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 55, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[</span><span class="ConId">CatCreateComposite</span> <span class="VarId">name_</span> <span class="VarId">_attrs</span>    <span class="Symbol">]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateType</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_attsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateType</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_attsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_attsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_attsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_attsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_attsIattrs</span><span class="Symbol">,</span><span class="VarId">_attsIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">atts_</span> <span class="VarId">_attsOcat</span> <span class="VarId">_attsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_CreateView</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_CreateView</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exprIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 630, column 32)</span>
              <span class="VarId">_exprOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 16, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateView</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 17, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">CatCreateView</span> <span class="VarId">name_</span> <span class="VarId">a</span><span class="Symbol">])</span> <span class="VarId">_exprIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 19, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateView</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">CreateView</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedTypes</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Delete</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_TableRefList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeSelectList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Delete</span> <span class="VarId">ann_</span> <span class="VarId">table_</span> <span class="VarId">using_</span> <span class="VarId">whr_</span> <span class="VarId">returning_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_tableOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_whrOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_returningOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_tableOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tableOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_usingOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_usingOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_whrOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_returningOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tableIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tableIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tableIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_usingIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_usingIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_usingIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_whrIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_whrIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_returningIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="VarId">_returningIlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_returningIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 641, column 28)</span>
              <span class="VarId">_tableOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Delete.ag&quot;(line 13, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/Delete.ag&quot;(line 14, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">pt</span> <span class="Symbol">&lt;-</span> <span class="VarId">sequence</span> <span class="Symbol">$</span> <span class="VarId">getPlaceholderTypes</span> <span class="VarId">_whrIannotatedTree</span>
                  <span class="VarId">return</span> <span class="Symbol">(</span><span class="VarId">pt</span><span class="Symbol">,</span><span class="VarId">_returningIlistType</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/Delete.ag&quot;(line 18, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Delete</span> <span class="VarId">ann_</span> <span class="VarId">_tableItbAnnotatedTree</span> <span class="VarId">_usingIannotatedTree</span> <span class="VarId">_whrIannotatedTree</span> <span class="VarId">_returningIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Delete.ag&quot;(line 19, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Delete.ag&quot;(line 21, column 9)</span>
              <span class="VarId">_lib</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">a</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="VarId">allAtts</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_tableItbUType</span><span class="Symbol">)</span>
                  <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;delete table attrs&quot;</span> <span class="Symbol">(</span><span class="ConId">Just</span> <span class="Symbol">$</span> <span class="VarId">getName</span> <span class="VarId">_tableIannotatedTree</span><span class="Symbol">)</span> <span class="VarId">a</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- &quot;./TypeChecking/Delete.ag&quot;(line 25, column 9)</span>
              <span class="VarId">_whrOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- &quot;./TypeChecking/Delete.ag&quot;(line 26, column 9)</span>
              <span class="VarId">_returningOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Delete</span> <span class="VarId">ann_</span> <span class="VarId">_tableIannotatedTree</span> <span class="VarId">_usingIannotatedTree</span> <span class="VarId">_whrIannotatedTree</span> <span class="VarId">_returningIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Delete</span> <span class="VarId">ann_</span> <span class="VarId">_tableIoriginalTree</span> <span class="VarId">_usingIoriginalTree</span> <span class="VarId">_whrIoriginalTree</span> <span class="VarId">_returningIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tableOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (from local)</span>
              <span class="VarId">_tableOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_usingOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (from local)</span>
              <span class="VarId">_usingOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_whrOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_returningOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_tableIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableIntType</span><span class="Symbol">,</span><span class="VarId">_tableIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tableItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableItbUType</span><span class="Symbol">,</span><span class="VarId">_tableIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">table_</span> <span class="VarId">_tableOcat</span> <span class="VarId">_tableOexpectedType</span> <span class="VarId">_tableOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_usingIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_usingIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_usingIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">using_</span> <span class="VarId">_usingOcat</span> <span class="VarId">_usingOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_whrIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_whrIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">whr_</span> <span class="VarId">_whrOcat</span> <span class="VarId">_whrOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_returningIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_returningIlistType</span><span class="Symbol">,</span><span class="VarId">_returningIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">returning_</span> <span class="VarId">_returningOcat</span> <span class="VarId">_returningOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_DropFunction</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">IfExists</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_StringTypeNameListPairList</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">Cascade</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_DropFunction</span> <span class="VarId">ann_</span> <span class="VarId">ifE_</span> <span class="VarId">sigs_</span> <span class="VarId">cascade_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_sigsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_sigsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_sigsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="VarId">_sigsIfnSigs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])])</span>
              <span class="VarId">_sigsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 10, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 11, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">DropFunction</span> <span class="VarId">ann_</span> <span class="VarId">ifE_</span> <span class="VarId">_sigsIannotatedTree</span> <span class="VarId">cascade_</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 12, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">[])</span> <span class="VarId">id</span> <span class="Symbol">$</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="VarId">map</span> <span class="VarId">mcu</span> <span class="Symbol">$</span> <span class="VarId">mapMaybe</span> <span class="VarId">goodSig</span> <span class="VarId">_sigsIfnSigs</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">mcu</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Type</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span> <span class="ConId">CatalogUpdate</span>
                    <span class="VarId">mcu</span> <span class="Symbol">(</span><span class="VarId">nm</span><span class="Symbol">,</span><span class="VarId">args</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">CatDropFunction</span> <span class="VarId">ifE</span> <span class="VarId">nm</span> <span class="VarId">args</span>
                    <span class="VarId">ifE</span> <span class="Symbol">=</span> <span class="VarId">ifE_</span> <span class="Symbol">==</span> <span class="ConId">IfExists</span>
                    <span class="VarId">goodSig</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span> <span class="ConId">Maybe</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Type</span><span class="Symbol">])</span>
                    <span class="VarId">goodSig</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span> <span class="VarId">ts</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Keyword">do</span>
                                  <span class="VarId">ts1</span> <span class="Symbol">&lt;-</span> <span class="VarId">sequence</span> <span class="VarId">ts</span>
                                  <span class="VarId">return</span> <span class="Symbol">(</span><span class="VarId">s</span><span class="Symbol">,</span><span class="VarId">ts1</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 23, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">DropFunction</span> <span class="VarId">ann_</span> <span class="VarId">ifE_</span> <span class="VarId">_sigsIannotatedTree</span> <span class="VarId">cascade_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">DropFunction</span> <span class="VarId">ann_</span> <span class="VarId">ifE_</span> <span class="VarId">_sigsIoriginalTree</span> <span class="VarId">cascade_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sigsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_sigsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_sigsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_sigsIfnSigs</span><span class="Symbol">,</span><span class="VarId">_sigsIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sigs_</span> <span class="VarId">_sigsOcat</span> <span class="VarId">_sigsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_DropSomething</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">DropType</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">IfExists</span> <span class="Symbol">-&gt;</span>
                               <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">Cascade</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_DropSomething</span> <span class="VarId">ann_</span> <span class="VarId">dropType_</span> <span class="VarId">ifE_</span> <span class="VarId">names_</span> <span class="VarId">cascade_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">DropSomething</span> <span class="VarId">ann_</span> <span class="VarId">dropType_</span> <span class="VarId">ifE_</span> <span class="VarId">names_</span> <span class="VarId">cascade_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">DropSomething</span> <span class="VarId">ann_</span> <span class="VarId">dropType_</span> <span class="VarId">ifE_</span> <span class="VarId">names_</span> <span class="VarId">cascade_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Execute</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Execute</span> <span class="VarId">ann_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 567, column 9)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Execute</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Execute</span> <span class="VarId">ann_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_ExecuteInto</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                             <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_ExecuteInto</span> <span class="VarId">ann_</span> <span class="VarId">expr_</span> <span class="VarId">targets_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 567, column 9)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ExecuteInto</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span> <span class="VarId">targets_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ExecuteInto</span> <span class="VarId">ann_</span> <span class="VarId">_exprIoriginalTree</span> <span class="VarId">targets_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_ExitStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_ExitStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ExitStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ExitStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_ForIntegerStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                     <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                                     <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_ForIntegerStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">var_</span> <span class="VarId">from_</span> <span class="VarId">to_</span> <span class="VarId">sts_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_fromOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_toOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_varOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_varOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_varOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_fromOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_fromOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_toOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_toOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_varIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_varIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_varIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_fromIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fromIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fromIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_fromIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fromItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fromItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_fromIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_toIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_toIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_toIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_toIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_toItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_toItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_toIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_stsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 568, column 27)</span>
              <span class="VarId">_fromOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 569, column 27)</span>
              <span class="VarId">_toOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 572, column 45)</span>
              <span class="VarId">_varOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 138, column 9)</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 139, column 9)</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 32, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">fromType</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_fromIuType</span>
                  <span class="VarId">toType</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_toIuType</span>
                  <span class="VarId">errorWhen</span> <span class="Symbol">(</span><span class="VarId">fromType</span> <span class="Symbol">/=</span> <span class="VarId">toType</span><span class="Symbol">)</span> <span class="Symbol">[</span><span class="ConId">FromToTypesNotSame</span> <span class="VarId">fromType</span> <span class="VarId">toType</span><span class="Symbol">]</span>
                  <span class="Keyword">case</span> <span class="VarId">_varIuType</span> <span class="Keyword">of</span>
                    <span class="ConId">Just</span> <span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="VarId">checkAssignmentValid</span> <span class="VarId">_lhsIcat</span> <span class="VarId">fromType</span> <span class="VarId">t</span>
                    <span class="ConId">Nothing</span> <span class="Symbol">-&gt;</span> <span class="VarId">return</span> <span class="Symbol">()</span>
                  <span class="VarId">return</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 41, column 9)</span>
              <span class="VarId">_implicitVar</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_varIannotatedTree</span> <span class="Keyword">of</span>
                      <span class="ConId">Identifier</span> <span class="VarId">a</span> <span class="VarId">i</span> <span class="Symbol">|</span> <span class="VarId">errs</span> <span class="VarId">a</span> <span class="Symbol">==</span> <span class="Symbol">[</span><span class="ConId">UnrecognisedIdentifier</span> <span class="VarId">i</span><span class="Symbol">]</span> <span class="Symbol">-&gt;</span> <span class="ConId">True</span>
                      <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">False</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 44, column 9)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">=</span>
                  <span class="Keyword">if</span> <span class="VarId">_implicitVar</span>
                  <span class="Keyword">then</span> <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                       <span class="VarId">ft</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_fromIuType</span>
                       <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span>
                          <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;local for loop variable&quot;</span> <span class="ConId">Nothing</span> <span class="Symbol">[((</span><span class="VarId">getName</span> <span class="VarId">_varIannotatedTree</span><span class="Symbol">),</span><span class="VarId">ft</span><span class="Symbol">)])</span> <span class="VarId">_lhsIlib</span>
                  <span class="Keyword">else</span> <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 52, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="Keyword">let</span> <span class="VarId">i</span> <span class="Symbol">=</span> <span class="Keyword">if</span> <span class="VarId">_implicitVar</span>
                          <span class="Keyword">then</span> <span class="Keyword">let</span> <span class="Symbol">(</span><span class="ConId">Identifier</span> <span class="VarId">a</span> <span class="VarId">i</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">_varIannotatedTree</span>
                               <span class="Keyword">in</span> <span class="ConId">Identifier</span> <span class="VarId">a</span> <span class="Symbol">{</span> <span class="VarId">errs</span> <span class="Symbol">=</span> <span class="Symbol">[]}</span> <span class="VarId">i</span>
                          <span class="Keyword">else</span> <span class="VarId">_varIannotatedTree</span>
                  <span class="Keyword">in</span> <span class="ConId">ForIntegerStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">i</span> <span class="VarId">_fromIannotatedTree</span> <span class="VarId">_toIannotatedTree</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 58, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 59, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ForIntegerStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_varIannotatedTree</span> <span class="VarId">_fromIannotatedTree</span> <span class="VarId">_toIannotatedTree</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ForIntegerStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_varIoriginalTree</span> <span class="VarId">_fromIoriginalTree</span> <span class="VarId">_toIoriginalTree</span> <span class="VarId">_stsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_varOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_varOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fromOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fromOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_toOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_toOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_varIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_varIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_varIntType</span><span class="Symbol">,</span><span class="VarId">_varIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_varItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_varItbUType</span><span class="Symbol">,</span><span class="VarId">_varIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">var_</span> <span class="VarId">_varOcat</span> <span class="VarId">_varOexpectedType</span> <span class="VarId">_varOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_fromIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_fromIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_fromIntType</span><span class="Symbol">,</span><span class="VarId">_fromIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_fromItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_fromItbUType</span><span class="Symbol">,</span><span class="VarId">_fromIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">from_</span> <span class="VarId">_fromOcat</span> <span class="VarId">_fromOexpectedType</span> <span class="VarId">_fromOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_toIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_toIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_toIntType</span><span class="Symbol">,</span><span class="VarId">_toIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_toItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_toItbUType</span><span class="Symbol">,</span><span class="VarId">_toIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">to_</span> <span class="VarId">_toOcat</span> <span class="VarId">_toOexpectedType</span> <span class="VarId">_toOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_stsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_stsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_stsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_stsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sts_</span> <span class="VarId">_stsOcat</span> <span class="VarId">_stsOcatUpdates</span> <span class="VarId">_stsOlib</span> <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_ForQueryStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                   <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_ForQueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">var_</span> <span class="VarId">sel_</span> <span class="VarId">sts_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_varOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_varOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_varOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_varIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_varIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_varItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_varIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_selIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_stsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 572, column 45)</span>
              <span class="VarId">_varOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 632, column 9)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 138, column 9)</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 139, column 9)</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 64, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">st</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="ConId">CompositeType</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_selIuType</span><span class="Symbol">)</span>
                  <span class="VarId">toType</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_varIuType</span>
                  <span class="VarId">checkAssignmentValid</span> <span class="VarId">_lhsIcat</span> <span class="VarId">st</span> <span class="VarId">toType</span>
                  <span class="VarId">return</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 74, column 9)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">_</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tpe</span>
                  <span class="VarId">st</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="ConId">CompositeType</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_selIuType</span><span class="Symbol">)</span>
                  <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;for loop record type&quot;</span> <span class="ConId">Nothing</span> <span class="Symbol">[(</span><span class="VarId">getName</span> <span class="VarId">_varIannotatedTree</span><span class="Symbol">,</span><span class="VarId">st</span><span class="Symbol">)])</span> <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 80, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ForQueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_varIannotatedTree</span> <span class="VarId">_selIannotatedTree</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 81, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ForQueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_varIannotatedTree</span> <span class="VarId">_selIannotatedTree</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ForQueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_varIoriginalTree</span> <span class="VarId">_selIoriginalTree</span> <span class="VarId">_stsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_varOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_varOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_varIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_varIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_varIntType</span><span class="Symbol">,</span><span class="VarId">_varIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_varItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_varItbUType</span><span class="Symbol">,</span><span class="VarId">_varIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">var_</span> <span class="VarId">_varOcat</span> <span class="VarId">_varOexpectedType</span> <span class="VarId">_varOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_selIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel_</span> <span class="VarId">_selOcat</span> <span class="VarId">_selOexpectedTypes</span> <span class="VarId">_selOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_stsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_stsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_stsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_stsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sts_</span> <span class="VarId">_stsOcat</span> <span class="VarId">_stsOcatUpdates</span> <span class="VarId">_stsOlib</span> <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_If</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                    <span class="ConId">T_ScalarExprStatementListPairList</span>  <span class="Symbol">-&gt;</span>
                    <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                    <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_If</span> <span class="VarId">ann_</span> <span class="VarId">cases_</span> <span class="VarId">els_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_elsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_casesIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="VarId">_casesIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprStatementListPairList</span>
              <span class="VarId">_elsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_elsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_elsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_elsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 134, column 9)</span>
              <span class="VarId">_elsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 135, column 9)</span>
              <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">If</span> <span class="VarId">ann_</span> <span class="VarId">_casesIannotatedTree</span> <span class="VarId">_elsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">If</span> <span class="VarId">ann_</span> <span class="VarId">_casesIoriginalTree</span> <span class="VarId">_elsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_casesOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_elsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_casesIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_casesIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">cases_</span> <span class="VarId">_casesOcat</span> <span class="VarId">_casesOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_elsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_elsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_elsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_elsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">els_</span> <span class="VarId">_elsOcat</span> <span class="VarId">_elsOcatUpdates</span> <span class="VarId">_elsOlib</span> <span class="VarId">_elsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Insert</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeSelectList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Insert</span> <span class="VarId">ann_</span> <span class="VarId">table_</span> <span class="VarId">targetCols_</span> <span class="VarId">insData_</span> <span class="VarId">returning_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_tableOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_columnTypes</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_insDataOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_returningOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_tableOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tableOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_insDataOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_insDataOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_returningOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tableIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tableIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tableIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_insDataIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_insDataIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_insDataIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_insDataIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_returningIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="VarId">_returningIlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_returningIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 641, column 28)</span>
              <span class="VarId">_tableOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Insert.ag&quot;(line 14, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="ConId">Left</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Symbol">$</span> <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span><span class="Symbol">)</span> <span class="VarId">_columnTypes</span>
              <span class="Comment">-- &quot;./TypeChecking/Insert.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Just</span> <span class="Symbol">(</span><span class="VarId">catMaybes</span> <span class="Symbol">$</span> <span class="VarId">getPlaceholderTypes</span> <span class="VarId">_insDataIannotatedTree</span>
                       <span class="Symbol">,</span><span class="VarId">_returningIlistType</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/Insert.ag&quot;(line 20, column 9)</span>
              <span class="VarId">_columnTypes</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">atts</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="VarId">allAtts</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_tableItbUType</span><span class="Symbol">)</span>
                  <span class="VarId">pAtts</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="VarId">fst</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_tableItbUType</span><span class="Symbol">)</span>
                  <span class="VarId">tAtts</span> <span class="Symbol">&lt;-</span> <span class="Keyword">case</span> <span class="VarId">targetCols_</span> <span class="Keyword">of</span>
                                <span class="Symbol">[]</span> <span class="Symbol">-&gt;</span> <span class="VarId">return</span> <span class="VarId">pAtts</span>
                                <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="VarId">mapM</span> <span class="Symbol">(</span><span class="VarId">lkpA</span> <span class="VarId">atts</span><span class="Symbol">)</span> <span class="VarId">targetCols_</span>
                  <span class="VarId">expAtts</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="VarId">_insDataIuType</span>
                  <span class="VarId">checkAssignmentsValid</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">snd</span> <span class="VarId">expAtts</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">map</span> <span class="VarId">snd</span> <span class="VarId">tAtts</span><span class="Symbol">)</span>
                  <span class="VarId">return</span> <span class="VarId">tAtts</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">lkpA</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]</span> <span class="Symbol">-&gt;</span> <span class="ConId">String</span> <span class="Symbol">-&gt;</span> <span class="ConId">E</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)</span>
                    <span class="VarId">lkpA</span> <span class="VarId">m</span> <span class="VarId">n</span> <span class="Symbol">=</span> <span class="VarId">maybe</span> <span class="Symbol">(</span><span class="ConId">Left</span> <span class="Symbol">[</span><span class="ConId">UnrecognisedIdentifier</span> <span class="VarId">n</span><span class="Symbol">])</span>
                                     <span class="Symbol">(\</span><span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="Symbol">(</span><span class="VarId">n</span><span class="Symbol">,</span><span class="VarId">t</span><span class="Symbol">))</span>
                                     <span class="Symbol">$</span> <span class="VarId">lookup</span> <span class="VarId">n</span> <span class="VarId">m</span>
              <span class="Comment">-- &quot;./TypeChecking/Insert.ag&quot;(line 36, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Insert</span> <span class="VarId">ann_</span> <span class="VarId">_tableItbAnnotatedTree</span>
                         <span class="VarId">targetCols_</span>
                         <span class="VarId">_insDataIannotatedTree</span>
                         <span class="VarId">_returningIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Insert.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Insert.ag&quot;(line 41, column 9)</span>
              <span class="VarId">_insDataOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">ts</span> <span class="Symbol">&lt;-</span> <span class="VarId">etmt</span> <span class="Symbol">$</span> <span class="VarId">_columnTypes</span>
                  <span class="VarId">return</span> <span class="Symbol">$</span> <span class="VarId">map</span> <span class="Symbol">(</span><span class="ConId">Just</span> <span class="Symbol">.</span> <span class="VarId">snd</span><span class="Symbol">)</span> <span class="VarId">ts</span>
              <span class="Comment">-- &quot;./TypeChecking/Insert.ag&quot;(line 45, column 9)</span>
              <span class="VarId">_returningOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                    <span class="VarId">atts</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="VarId">allAtts</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_tableItbUType</span><span class="Symbol">)</span>
                    <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;insert target table&quot;</span> <span class="Symbol">(</span><span class="ConId">Just</span> <span class="Symbol">$</span> <span class="VarId">getName</span> <span class="VarId">_tableIannotatedTree</span><span class="Symbol">)</span> <span class="VarId">atts</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Insert</span> <span class="VarId">ann_</span> <span class="VarId">_tableIannotatedTree</span> <span class="VarId">targetCols_</span> <span class="VarId">_insDataIannotatedTree</span> <span class="VarId">_returningIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Insert</span> <span class="VarId">ann_</span> <span class="VarId">_tableIoriginalTree</span> <span class="VarId">targetCols_</span> <span class="VarId">_insDataIoriginalTree</span> <span class="VarId">_returningIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tableOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tableOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_insDataOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_insDataOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_returningOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_tableIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableIntType</span><span class="Symbol">,</span><span class="VarId">_tableIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tableItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableItbUType</span><span class="Symbol">,</span><span class="VarId">_tableIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">table_</span> <span class="VarId">_tableOcat</span> <span class="VarId">_tableOexpectedType</span> <span class="VarId">_tableOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_insDataIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_insDataIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_insDataIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_insDataIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">insData_</span> <span class="VarId">_insDataOcat</span> <span class="VarId">_insDataOexpectedTypes</span> <span class="VarId">_insDataOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_returningIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_returningIlistType</span><span class="Symbol">,</span><span class="VarId">_returningIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">returning_</span> <span class="VarId">_returningOcat</span> <span class="VarId">_returningOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_LoopStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_LoopStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">sts_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_stsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 138, column 9)</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 139, column 9)</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">LoopStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">LoopStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_stsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_stsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_stsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_stsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_stsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sts_</span> <span class="VarId">_stsOcat</span> <span class="VarId">_stsOcatUpdates</span> <span class="VarId">_stsOlib</span> <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Notify</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Notify</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Notify</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Notify</span> <span class="VarId">ann_</span> <span class="VarId">name_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_NullStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_NullStatement</span> <span class="VarId">ann_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NullStatement</span> <span class="VarId">ann_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">NullStatement</span> <span class="VarId">ann_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Perform</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Perform</span> <span class="VarId">ann_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 567, column 9)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Perform</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Perform</span> <span class="VarId">ann_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_QueryStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_QueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">ex_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_exIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 633, column 22)</span>
              <span class="VarId">_exOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 14, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">pt</span> <span class="Symbol">&lt;-</span> <span class="VarId">sequence</span> <span class="Symbol">$</span> <span class="VarId">getPlaceholderTypes</span> <span class="VarId">_exIannotatedTree</span>
                  <span class="VarId">st</span> <span class="Symbol">&lt;-</span> <span class="VarId">_exIuType</span>
                  <span class="VarId">return</span> <span class="Symbol">(</span><span class="VarId">pt</span>
                         <span class="Symbol">,</span><span class="Keyword">case</span> <span class="VarId">st</span> <span class="Keyword">of</span>
                            <span class="Symbol">[(</span><span class="VarId">_</span><span class="Symbol">,(</span><span class="ConId">Pseudo</span> <span class="ConId">Void</span><span class="Symbol">))]</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[]</span>
                            <span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="VarId">t</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 23, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">QueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">_exIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 24, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 111, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_exIlibUpdates</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">QueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">_exIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">QueryStatement</span> <span class="VarId">ann_</span> <span class="VarId">_exIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_exIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">ex_</span> <span class="VarId">_exOcat</span> <span class="VarId">_exOexpectedTypes</span> <span class="VarId">_exOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Raise</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">RaiseType</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Raise</span> <span class="VarId">ann_</span> <span class="VarId">level_</span> <span class="VarId">message_</span> <span class="VarId">args_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_argsOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_argsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_argsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_argsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_argsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_argsItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_argsIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 609, column 13)</span>
              <span class="VarId">_argsOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Raise</span> <span class="VarId">ann_</span> <span class="VarId">level_</span> <span class="VarId">message_</span> <span class="VarId">_argsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Raise</span> <span class="VarId">ann_</span> <span class="VarId">level_</span> <span class="VarId">message_</span> <span class="VarId">_argsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_argsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_argsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_argsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_argsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_argsItbUTypes</span><span class="Symbol">,</span><span class="VarId">_argsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">args_</span> <span class="VarId">_argsOcat</span> <span class="VarId">_argsOexpectedTypes</span> <span class="VarId">_argsOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Return</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Return</span> <span class="VarId">ann_</span> <span class="VarId">value_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_valueOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_valueOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_valueIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_valueIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeScalarExpr</span>
              <span class="VarId">_valueIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 12, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span><span class="Symbol">)</span> <span class="ConId">Right</span> <span class="VarId">_valueIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 13, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Return</span> <span class="VarId">ann_</span> <span class="VarId">_valueIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 14, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Plpgsql.ag&quot;(line 15, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Return</span> <span class="VarId">ann_</span> <span class="VarId">_valueIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Return</span> <span class="VarId">ann_</span> <span class="VarId">_valueIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valueOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_valueOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_valueIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_valueIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_valueIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">value_</span> <span class="VarId">_valueOcat</span> <span class="VarId">_valueOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_ReturnNext</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_ReturnNext</span> <span class="VarId">ann_</span> <span class="VarId">expr_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 567, column 9)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ReturnNext</span> <span class="VarId">ann_</span> <span class="VarId">_exprIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ReturnNext</span> <span class="VarId">ann_</span> <span class="VarId">_exprIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_ReturnQuery</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_ReturnQuery</span> <span class="VarId">ann_</span> <span class="VarId">sel_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 632, column 9)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ReturnQuery</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ReturnQuery</span> <span class="VarId">ann_</span> <span class="VarId">_selIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_selIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel_</span> <span class="VarId">_selOcat</span> <span class="VarId">_selOexpectedTypes</span> <span class="VarId">_selOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Set</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                     <span class="Symbol">([</span><span class="ConId">SetValue</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Set</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">values_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Set</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">values_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Set</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">values_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Truncate</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                          <span class="Symbol">([</span><span class="ConId">String</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">RestartIdentity</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">Cascade</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Truncate</span> <span class="VarId">ann_</span> <span class="VarId">tables_</span> <span class="VarId">restartIdentity_</span> <span class="VarId">cascade_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Truncate</span> <span class="VarId">ann_</span> <span class="VarId">tables_</span> <span class="VarId">restartIdentity_</span> <span class="VarId">cascade_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Truncate</span> <span class="VarId">ann_</span> <span class="VarId">tables_</span> <span class="VarId">restartIdentity_</span> <span class="VarId">cascade_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_Update</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExprList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_TableRefList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeBoolExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_MaybeSelectList</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_Update</span> <span class="VarId">ann_</span> <span class="VarId">table_</span> <span class="VarId">assigns_</span> <span class="VarId">fromList_</span> <span class="VarId">whr_</span> <span class="VarId">returning_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_assignsOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_tableOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tpe</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">StatementType</span><span class="Symbol">)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_whrOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_assignsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_returningOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_tableOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tableOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_assignsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_fromListOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_fromListOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_whrOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_returningOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tableIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tableIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tableItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tableIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_assignsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_assignsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExprList</span>
              <span class="VarId">_assignsItbUTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])])</span>
              <span class="VarId">_assignsIuType</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_fromListIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_fromListIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_fromListIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_whrIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_whrIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeBoolExpr</span>
              <span class="VarId">_returningIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="VarId">_returningIlistType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_returningIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">MaybeSelectList</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 610, column 14)</span>
              <span class="VarId">_assignsOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 641, column 28)</span>
              <span class="VarId">_tableOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 82, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">updateAnnotation</span>
                      <span class="Symbol">(\</span><span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="VarId">a</span> <span class="Symbol">{</span><span class="VarId">stType</span> <span class="Symbol">=</span> <span class="VarId">_statementType</span>
                               <span class="Symbol">,</span><span class="VarId">catUpd</span> <span class="Symbol">=</span> <span class="VarId">_catUpdates</span>    <span class="Symbol">})</span> <span class="Symbol">$</span>
                  <span class="VarId">setTypeAddErrors</span> <span class="VarId">_tpe</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 88, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 89, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_libUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 94, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 13, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 18, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="Keyword">do</span>
                  <span class="VarId">pt</span> <span class="Symbol">&lt;-</span> <span class="VarId">sequence</span> <span class="Symbol">$</span> <span class="VarId">getPlaceholderTypes</span> <span class="VarId">_assignsIannotatedTree</span>
                                   <span class="Symbol">++</span> <span class="VarId">getPlaceholderTypes</span> <span class="VarId">_whrIannotatedTree</span>
                  <span class="VarId">return</span> <span class="Symbol">(</span><span class="VarId">pt</span><span class="Symbol">,</span><span class="VarId">_returningIlistType</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 24, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Update</span> <span class="VarId">ann_</span>
                         <span class="VarId">_tableItbAnnotatedTree</span>
                         <span class="VarId">_assignsIannotatedTree</span>
                         <span class="VarId">_fromListIannotatedTree</span>
                         <span class="VarId">_whrIannotatedTree</span>
                         <span class="VarId">_returningIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 30, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 35, column 9)</span>
              <span class="VarId">_lib</span> <span class="Symbol">=</span>
                  <span class="VarId">either</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="VarId">_lhsIlib</span><span class="Symbol">)</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="VarId">a</span> <span class="Symbol">&lt;-</span> <span class="VarId">lmt</span> <span class="Symbol">(</span><span class="VarId">allAtts</span> <span class="Symbol">&lt;$&gt;</span> <span class="VarId">_tableItbUType</span><span class="Symbol">)</span>
                  <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="ConId">LBIds</span> <span class="String">&quot;updated table attrs&quot;</span> <span class="Symbol">(</span><span class="ConId">Just</span> <span class="Symbol">$</span> <span class="VarId">getName</span> <span class="VarId">_tableIannotatedTree</span><span class="Symbol">)</span> <span class="VarId">a</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 39, column 9)</span>
              <span class="VarId">_whrOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 40, column 9)</span>
              <span class="VarId">_assignsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- &quot;./TypeChecking/Update.ag&quot;(line 41, column 9)</span>
              <span class="VarId">_returningOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Update</span> <span class="VarId">ann_</span> <span class="VarId">_tableIannotatedTree</span> <span class="VarId">_assignsIannotatedTree</span> <span class="VarId">_fromListIannotatedTree</span> <span class="VarId">_whrIannotatedTree</span> <span class="VarId">_returningIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Update</span> <span class="VarId">ann_</span> <span class="VarId">_tableIoriginalTree</span> <span class="VarId">_assignsIoriginalTree</span> <span class="VarId">_fromListIoriginalTree</span> <span class="VarId">_whrIoriginalTree</span> <span class="VarId">_returningIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tableOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (from local)</span>
              <span class="VarId">_tableOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_assignsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fromListOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (from local)</span>
              <span class="VarId">_fromListOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_whrOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_returningOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_tableIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableIntType</span><span class="Symbol">,</span><span class="VarId">_tableIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tableItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tableItbUType</span><span class="Symbol">,</span><span class="VarId">_tableIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">table_</span> <span class="VarId">_tableOcat</span> <span class="VarId">_tableOexpectedType</span> <span class="VarId">_tableOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_assignsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_assignsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_assignsItbUTypes</span><span class="Symbol">,</span><span class="VarId">_assignsIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">assigns_</span> <span class="VarId">_assignsOcat</span> <span class="VarId">_assignsOexpectedTypes</span> <span class="VarId">_assignsOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_fromListIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_fromListIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_fromListIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">fromList_</span> <span class="VarId">_fromListOcat</span> <span class="VarId">_fromListOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_whrIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_whrIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">whr_</span> <span class="VarId">_whrOcat</span> <span class="VarId">_whrOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_returningIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_returningIlistType</span><span class="Symbol">,</span><span class="VarId">_returningIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">returning_</span> <span class="VarId">_returningOcat</span> <span class="VarId">_returningOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_Statement_WhileStatement</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                                <span class="ConId">T_Statement</span> 
<span class="Function">sem_Statement_WhileStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">expr_</span> <span class="VarId">sts_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIinProducedCat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exprOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_exprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_exprItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_exprIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_stsIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_stsIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_stsIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 567, column 9)</span>
              <span class="VarId">_exprOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 116, column 9)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 117, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 138, column 9)</span>
              <span class="VarId">_stsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 139, column 9)</span>
              <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WhileStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_exprIannotatedTree</span> <span class="VarId">_stsIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WhileStatement</span> <span class="VarId">ann_</span> <span class="VarId">lb_</span> <span class="VarId">_exprIoriginalTree</span> <span class="VarId">_stsIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_stsOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprIntType</span><span class="Symbol">,</span><span class="VarId">_exprIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exprItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_exprItbUType</span><span class="Symbol">,</span><span class="VarId">_exprIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">expr_</span> <span class="VarId">_exprOcat</span> <span class="VarId">_exprOexpectedType</span> <span class="VarId">_exprOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_stsIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_stsIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_stsIproducedCat</span><span class="Symbol">,</span><span class="VarId">_stsIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sts_</span> <span class="VarId">_stsOcat</span> <span class="VarId">_stsOcatUpdates</span> <span class="VarId">_stsOlib</span> <span class="VarId">_stsOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- StatementList -----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog catUpdates : [CatalogUpdate] lib : LocalBindings libUpdates : [LocalBindingsUpdate] synthesized attributes: annotatedTree : SELF originalTree : SELF producedCat : Catalog producedLib : LocalBindings alternatives: alternative Cons: child hd : Statement child tl : StatementList visit 0: local newCat : _ local newLib : _ local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local newCat : _ local newLib : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">StatementList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">Statement</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_StatementList</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_StatementList</span> 
<span class="Function">sem_StatementList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_StatementList_Cons</span> <span class="VarId">sem_StatementList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_Statement</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_StatementList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                        <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                        <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                        <span class="Symbol">(</span> <span class="ConId">StatementList</span><span class="Symbol">,</span><span class="ConId">StatementList</span><span class="Symbol">,</span><span class="ConId">Catalog</span><span class="Symbol">,</span><span class="ConId">LocalBindings</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_StatementList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_StatementList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_StatementList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">catUpdates_Inh_StatementList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">CatalogUpdate</span><span class="Symbol">],</span><span class="VarId">lib_Inh_StatementList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">,</span><span class="VarId">libUpdates_Inh_StatementList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">]}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_StatementList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_StatementList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_StatementList</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_StatementList</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span><span class="Symbol">,</span><span class="VarId">producedCat_Syn_StatementList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">producedLib_Syn_StatementList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Function">wrap_StatementList</span> <span class="Symbol">::</span> <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Inh_StatementList</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Syn_StatementList</span> 
<span class="Function">wrap_StatementList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_StatementList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIlibUpdates</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIlibUpdates</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_StatementList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOproducedCat</span> <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">))</span>
<span class="Function">sem_StatementList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_Statement</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_StatementList</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_StatementList</span> 
<span class="Function">sem_StatementList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIcatUpdates</span>
       <span class="VarId">_lhsIlib</span>
       <span class="VarId">_lhsIlibUpdates</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tlOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_hdOinProducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_hdIcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_hdIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">Statement</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_tlIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlIproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 56, column 9)</span>
              <span class="VarId">_newCat</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">$</span> <span class="VarId">updateCatalog</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 57, column 9)</span>
              <span class="VarId">_newLib</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">$</span> <span class="VarId">foldM</span> <span class="Symbol">(</span><span class="VarId">flip</span> <span class="Symbol">$</span> <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIlibUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 59, column 9)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_newCat</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 60, column 9)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_newCat</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 61, column 9)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_newLib</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 62, column 9)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_newLib</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 66, column 9)</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">=</span>
                  <span class="VarId">_tlIproducedCat</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 67, column 9)</span>
              <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">=</span>
                  <span class="VarId">_tlIproducedLib</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 70, column 9)</span>
              <span class="VarId">_tlOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIcatUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 71, column 9)</span>
              <span class="VarId">_tlOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIlibUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 97, column 12)</span>
              <span class="VarId">_hdOinProducedCat</span> <span class="Symbol">=</span>
                  <span class="VarId">_tlIproducedCat</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIcatUpdates</span><span class="Symbol">,</span><span class="VarId">_hdIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOinProducedCat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tlIproducedCat</span><span class="Symbol">,</span><span class="VarId">_tlIproducedLib</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOcatUpdates</span> <span class="VarId">_tlOlib</span> <span class="VarId">_tlOlibUpdates</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedLib</span><span class="Symbol">)))</span>
<span class="Function">sem_StatementList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_StatementList</span> 
<span class="Function">sem_StatementList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIcatUpdates</span>
       <span class="VarId">_lhsIlib</span>
       <span class="VarId">_lhsIlibUpdates</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StatementList</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 56, column 9)</span>
              <span class="VarId">_newCat</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">$</span> <span class="VarId">updateCatalog</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 57, column 9)</span>
              <span class="VarId">_newLib</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">$</span> <span class="VarId">foldM</span> <span class="Symbol">(</span><span class="VarId">flip</span> <span class="Symbol">$</span> <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_lhsIlibUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 73, column 9)</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">=</span>
                  <span class="VarId">_newCat</span>
              <span class="Comment">-- &quot;./TypeChecking/Statements.ag&quot;(line 74, column 9)</span>
              <span class="VarId">_lhsOproducedLib</span> <span class="Symbol">=</span>
                  <span class="VarId">_newLib</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedLib</span><span class="Symbol">)))</span>
<span class="Comment">-- StringTypeNameListPair --------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF fnSig : (String,[Maybe Type]) originalTree : SELF alternatives: alternative Tuple: child x1 : {String} child x2 : TypeNameList visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">StringTypeNameListPair</span>  <span class="Symbol">=</span> <span class="Symbol">(</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">),(</span><span class="ConId">TypeNameList</span><span class="Symbol">))</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_StringTypeNameListPair</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPair</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_StringTypeNameListPair</span> 
<span class="Function">sem_StringTypeNameListPair</span> <span class="Symbol">(</span> <span class="VarId">x1</span><span class="Symbol">,</span><span class="VarId">x2</span><span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_StringTypeNameListPair_Tuple</span> <span class="VarId">x1</span> <span class="Symbol">(</span><span class="VarId">sem_TypeNameList</span> <span class="VarId">x2</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_StringTypeNameListPair</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                 <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                 <span class="Symbol">(</span> <span class="ConId">StringTypeNameListPair</span><span class="Symbol">,((</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])),</span><span class="ConId">StringTypeNameListPair</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_StringTypeNameListPair</span>  <span class="Symbol">=</span> <span class="ConId">Inh_StringTypeNameListPair</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_StringTypeNameListPair</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_StringTypeNameListPair</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_StringTypeNameListPair</span>  <span class="Symbol">=</span> <span class="ConId">Syn_StringTypeNameListPair</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_StringTypeNameListPair</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPair</span><span class="Symbol">,</span><span class="VarId">fnSig_Syn_StringTypeNameListPair</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]),</span><span class="VarId">originalTree_Syn_StringTypeNameListPair</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPair</span><span class="Symbol">}</span>
<span class="Function">wrap_StringTypeNameListPair</span> <span class="Symbol">::</span> <span class="ConId">T_StringTypeNameListPair</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">Inh_StringTypeNameListPair</span>  <span class="Symbol">-&gt;</span>
                               <span class="ConId">Syn_StringTypeNameListPair</span> 
<span class="Function">wrap_StringTypeNameListPair</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_StringTypeNameListPair</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOfnSig</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_StringTypeNameListPair</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOfnSig</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_StringTypeNameListPair_Tuple</span> <span class="Symbol">::</span> <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                    <span class="ConId">T_TypeNameList</span>  <span class="Symbol">-&gt;</span>
                                    <span class="ConId">T_StringTypeNameListPair</span> 
<span class="Function">sem_StringTypeNameListPair_Tuple</span> <span class="VarId">x1_</span> <span class="VarId">x2_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOfnSig</span> <span class="Symbol">::</span> <span class="Symbol">((</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]))</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPair</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPair</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_x2IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="VarId">_x2InamedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_x2IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 32, column 13)</span>
              <span class="VarId">_lhsOfnSig</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x1_</span><span class="Symbol">,</span> <span class="VarId">_x2InamedTypes</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x1_</span><span class="Symbol">,</span><span class="VarId">_x2IannotatedTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x1_</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_x2Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_x2IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_x2InamedTypes</span><span class="Symbol">,</span><span class="VarId">_x2IoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">x2_</span> <span class="VarId">_x2Ocat</span> <span class="VarId">_x2Olib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOfnSig</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- StringTypeNameListPairList ----------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF fnSigs : [(String,[Maybe Type])] originalTree : SELF alternatives: alternative Cons: child hd : StringTypeNameListPair child tl : StringTypeNameListPairList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">StringTypeNameListPairList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">StringTypeNameListPair</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_StringTypeNameListPairList</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>  <span class="Symbol">-&gt;</span>
                                  <span class="ConId">T_StringTypeNameListPairList</span> 
<span class="Function">sem_StringTypeNameListPairList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_StringTypeNameListPairList_Cons</span> <span class="VarId">sem_StringTypeNameListPairList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_StringTypeNameListPair</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_StringTypeNameListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                                     <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                                     <span class="Symbol">(</span> <span class="ConId">StringTypeNameListPairList</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])]),</span><span class="ConId">StringTypeNameListPairList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_StringTypeNameListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_StringTypeNameListPairList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_StringTypeNameListPairList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_StringTypeNameListPairList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_StringTypeNameListPairList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_StringTypeNameListPairList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_StringTypeNameListPairList</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span><span class="Symbol">,</span><span class="VarId">fnSigs_Syn_StringTypeNameListPairList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])],</span><span class="VarId">originalTree_Syn_StringTypeNameListPairList</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span><span class="Symbol">}</span>
<span class="Function">wrap_StringTypeNameListPairList</span> <span class="Symbol">::</span> <span class="ConId">T_StringTypeNameListPairList</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">Inh_StringTypeNameListPairList</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">Syn_StringTypeNameListPairList</span> 
<span class="Function">wrap_StringTypeNameListPairList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_StringTypeNameListPairList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOfnSigs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_StringTypeNameListPairList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOfnSigs</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_StringTypeNameListPairList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_StringTypeNameListPair</span>  <span class="Symbol">-&gt;</span>
                                       <span class="ConId">T_StringTypeNameListPairList</span>  <span class="Symbol">-&gt;</span>
                                       <span class="ConId">T_StringTypeNameListPairList</span> 
<span class="Function">sem_StringTypeNameListPairList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOfnSigs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPair</span>
              <span class="VarId">_hdIfnSig</span> <span class="Symbol">::</span> <span class="Symbol">((</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]))</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPair</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="VarId">_tlIfnSigs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])])</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 27, column 12)</span>
              <span class="VarId">_lhsOfnSigs</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIfnSig</span> <span class="Symbol">:</span> <span class="VarId">_tlIfnSigs</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIfnSig</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIfnSigs</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOfnSigs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_StringTypeNameListPairList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_StringTypeNameListPairList</span> 
<span class="Function">sem_StringTypeNameListPairList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOfnSigs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">StringTypeNameListPairList</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 28, column 11)</span>
              <span class="VarId">_lhsOfnSigs</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOfnSigs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- TableRef ----------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF libUpdates : [LocalBindingsUpdate] originalTree : SELF alternatives: alternative FunTref: child ann : {Annotation} child fn : ScalarExpr child alias : {TableAlias} visit 0: local errs : _ local eqfunIdens : {Either [TypeError] (String,[(String,Type)])} local qfunIdens : _ local backTree : _ local annotatedTree : _ local originalTree : _ alternative JoinTref: child ann : {Annotation} child tbl : TableRef child nat : {Natural} child joinType : {JoinType} child tbl1 : TableRef child onExpr : OnExpr child alias : {TableAlias} visit 0: local errs : _ local joinErrors : _ local libUpdates : _ local newLib : {Either [TypeError] LocalBindings} local backTree : _ local annotatedTree : _ local originalTree : _ alternative SubTref: child ann : {Annotation} child sel : QueryExpr child alias : {TableAlias} visit 0: local errs : _ local selectAttrs : {Either [TypeError] [(String,Type)]} local backTree : _ local annotatedTree : _ local originalTree : _ alternative Tref: child ann : {Annotation} child tbl : ScalarExpr child alias : {TableAlias} visit 0: local errs : _ local backTree : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">TableRef</span>  <span class="Symbol">=</span> <span class="ConId">FunTref</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableAlias</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">JoinTref</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableRef</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Natural</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">JoinType</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableRef</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">OnExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableAlias</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">SubTref</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableAlias</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">Tref</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TableAlias</span><span class="Symbol">)</span> 
               <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_TableRef</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>  <span class="Symbol">-&gt;</span>
                <span class="ConId">T_TableRef</span> 
<span class="Function">sem_TableRef</span> <span class="Symbol">(</span><span class="ConId">FunTref</span> <span class="VarId">_ann</span> <span class="VarId">_fn</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TableRef_FunTref</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_fn</span> <span class="Symbol">)</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>
<span class="Function">sem_TableRef</span> <span class="Symbol">(</span><span class="ConId">JoinTref</span> <span class="VarId">_ann</span> <span class="VarId">_tbl</span> <span class="VarId">_nat</span> <span class="VarId">_joinType</span> <span class="VarId">_tbl1</span> <span class="VarId">_onExpr</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TableRef_JoinTref</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_TableRef</span> <span class="VarId">_tbl</span> <span class="Symbol">)</span> <span class="VarId">_nat</span> <span class="VarId">_joinType</span> <span class="Symbol">(</span><span class="VarId">sem_TableRef</span> <span class="VarId">_tbl1</span> <span class="Symbol">)</span> <span class="Symbol">(</span><span class="VarId">sem_OnExpr</span> <span class="VarId">_onExpr</span> <span class="Symbol">)</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>
<span class="Function">sem_TableRef</span> <span class="Symbol">(</span><span class="ConId">SubTref</span> <span class="VarId">_ann</span> <span class="VarId">_sel</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TableRef_SubTref</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_sel</span> <span class="Symbol">)</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>
<span class="Function">sem_TableRef</span> <span class="Symbol">(</span><span class="ConId">Tref</span> <span class="VarId">_ann</span> <span class="VarId">_tbl</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TableRef_Tref</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_ScalarExpr</span> <span class="VarId">_tbl</span> <span class="Symbol">)</span> <span class="VarId">_alias</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_TableRef</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                   <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                   <span class="Symbol">(</span> <span class="ConId">TableRef</span><span class="Symbol">,([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">]),</span><span class="ConId">TableRef</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_TableRef</span>  <span class="Symbol">=</span> <span class="ConId">Inh_TableRef</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_TableRef</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_TableRef</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_TableRef</span>  <span class="Symbol">=</span> <span class="ConId">Syn_TableRef</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_TableRef</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span><span class="Symbol">,</span><span class="VarId">libUpdates_Syn_TableRef</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">],</span><span class="VarId">originalTree_Syn_TableRef</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span><span class="Symbol">}</span>
<span class="Function">wrap_TableRef</span> <span class="Symbol">::</span> <span class="ConId">T_TableRef</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Inh_TableRef</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Syn_TableRef</span> 
<span class="Function">wrap_TableRef</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_TableRef</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_TableRef</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOlibUpdates</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_TableRef_FunTref</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">TableAlias</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_TableRef</span> 
<span class="Function">sem_TableRef_FunTref</span> <span class="VarId">ann_</span> <span class="VarId">fn_</span> <span class="VarId">alias_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_fnOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_eqfunIdens</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_fnOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_fnOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_fnIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_fnIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_fnItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_fnIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 574, column 15)</span>
              <span class="VarId">_fnOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 91, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="VarId">_errs</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 164, column 9)</span>
              <span class="VarId">_errs</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_eqfunIdens</span> <span class="Keyword">of</span>
                    <span class="ConId">Left</span> <span class="VarId">e</span> <span class="Symbol">-&gt;</span> <span class="VarId">e</span>
                    <span class="ConId">Right</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 170, column 9)</span>
              <span class="VarId">_eqfunIdens</span> <span class="Symbol">=</span>
                  <span class="VarId">funIdens</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">(</span><span class="VarId">getAlias</span> <span class="String">&quot;&quot;</span> <span class="VarId">alias_</span><span class="Symbol">)</span> <span class="VarId">_fnIannotatedTree</span> <span class="VarId">_fnIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 171, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[</span><span class="ConId">LBTref</span> <span class="String">&quot;fn&quot;</span>
                                  <span class="Symbol">(</span><span class="VarId">fst</span> <span class="VarId">_qfunIdens</span>    <span class="Symbol">)</span>
                                  <span class="Symbol">(</span><span class="VarId">snd</span> <span class="VarId">_qfunIdens</span>    <span class="Symbol">)</span>
                                  <span class="Symbol">[]]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 175, column 9)</span>
              <span class="VarId">_qfunIdens</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="Symbol">(</span><span class="String">&quot;&quot;</span><span class="Symbol">,[])</span> <span class="VarId">_eqfunIdens</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 263, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FunTref</span> <span class="VarId">ann_</span> <span class="VarId">_fnIannotatedTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FunTref</span> <span class="VarId">ann_</span> <span class="VarId">_fnIannotatedTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">FunTref</span> <span class="VarId">ann_</span> <span class="VarId">_fnIoriginalTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fnOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_fnOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_fnIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_fnIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_fnIntType</span><span class="Symbol">,</span><span class="VarId">_fnIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_fnItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_fnItbUType</span><span class="Symbol">,</span><span class="VarId">_fnIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">fn_</span> <span class="VarId">_fnOcat</span> <span class="VarId">_fnOexpectedType</span> <span class="VarId">_fnOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TableRef_JoinTref</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TableRef</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">Natural</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">JoinType</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TableRef</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_OnExpr</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">TableAlias</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TableRef</span> 
<span class="Function">sem_TableRef_JoinTref</span> <span class="VarId">ann_</span> <span class="VarId">tbl_</span> <span class="VarId">nat_</span> <span class="VarId">joinType_</span> <span class="VarId">tbl1_</span> <span class="VarId">onExpr_</span> <span class="VarId">alias_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_newLib</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="ConId">LocalBindings</span><span class="Symbol">)</span>
              <span class="VarId">_onExprOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_tblOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tblOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tbl1Ocat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tbl1Olib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_onExprOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tblIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_tblIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tblIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_tbl1IannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_tbl1IlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tbl1IoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_onExprIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span>
              <span class="VarId">_onExprIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">OnExpr</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 91, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="VarId">_errs</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 180, column 9)</span>
              <span class="VarId">_errs</span> <span class="Symbol">=</span>
                  <span class="VarId">fromLeft</span> <span class="Symbol">[]</span> <span class="VarId">_newLib</span>
                  <span class="Symbol">++</span> <span class="VarId">_joinErrors</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 182, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Keyword">if</span> <span class="VarId">_joinErrors</span>     <span class="Symbol">==</span> <span class="Symbol">[]</span>
                  <span class="Keyword">then</span> <span class="VarId">_libUpdates</span>
                  <span class="Keyword">else</span> <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 187, column 9)</span>
              <span class="VarId">_joinErrors</span> <span class="Symbol">=</span>
                  <span class="VarId">fromLeft</span> <span class="Symbol">[]</span> <span class="Symbol">(</span><span class="VarId">foldM</span> <span class="Symbol">(</span><span class="VarId">flip</span> <span class="Symbol">$</span> <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_libUpdates</span>    <span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 188, column 9)</span>
              <span class="VarId">_libUpdates</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="Symbol">(</span><span class="VarId">_tblIlibUpdates</span><span class="Symbol">,</span> <span class="VarId">_tbl1IlibUpdates</span><span class="Symbol">)</span> <span class="Keyword">of</span>
                    <span class="Symbol">([</span><span class="VarId">u1</span><span class="Symbol">],</span> <span class="Symbol">[</span><span class="VarId">u2</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">LBJoinTref</span> <span class="String">&quot;join&quot;</span> <span class="VarId">u1</span> <span class="VarId">u2</span> <span class="VarId">jids</span>
                                                    <span class="Symbol">(</span><span class="Keyword">case</span> <span class="VarId">alias_</span> <span class="Keyword">of</span>
                                                             <span class="ConId">NoAlias</span> <span class="Symbol">-&gt;</span> <span class="ConId">Nothing</span>
                                                             <span class="ConId">TableAlias</span> <span class="VarId">t</span> <span class="Symbol">-&gt;</span> <span class="ConId">Just</span> <span class="VarId">t</span>
                                                             <span class="ConId">FullAlias</span> <span class="VarId">t</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Just</span> <span class="VarId">t</span><span class="Symbol">)]</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[]</span>
                  <span class="Keyword">where</span>
                    <span class="VarId">jids</span> <span class="Symbol">=</span> <span class="Keyword">case</span> <span class="Symbol">(</span><span class="VarId">nat_</span><span class="Symbol">,</span> <span class="VarId">_onExprIoriginalTree</span><span class="Symbol">)</span> <span class="Keyword">of</span>
                                <span class="Symbol">(</span><span class="ConId">Natural</span><span class="Symbol">,</span> <span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span> <span class="ConId">Left</span> <span class="Symbol">()</span>
                                <span class="Symbol">(</span><span class="VarId">_</span><span class="Symbol">,</span><span class="ConId">Just</span> <span class="Symbol">(</span><span class="ConId">JoinUsing</span> <span class="VarId">_</span> <span class="VarId">s</span><span class="Symbol">))</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="VarId">s</span>
                                <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 202, column 9)</span>
              <span class="VarId">_newLib</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="Symbol">(</span><span class="VarId">_tblIlibUpdates</span><span class="Symbol">,</span> <span class="VarId">_tbl1IlibUpdates</span><span class="Symbol">)</span> <span class="Keyword">of</span>
                    <span class="Symbol">([</span><span class="VarId">u1</span><span class="Symbol">],[</span><span class="VarId">u2</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span> <span class="VarId">lbUpdate</span> <span class="VarId">_lhsIcat</span>
                                     <span class="Symbol">(</span><span class="ConId">LBJoinTref</span> <span class="String">&quot;join&quot;</span> <span class="VarId">u1</span> <span class="VarId">u2</span> <span class="Symbol">(</span><span class="ConId">Right</span> <span class="Symbol">[])</span> <span class="ConId">Nothing</span><span class="Symbol">)</span> <span class="VarId">_lhsIlib</span>
                    <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="ConId">Right</span> <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 206, column 9)</span>
              <span class="VarId">_onExprOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIlib</span> <span class="VarId">_newLib</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 265, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">JoinTref</span> <span class="VarId">ann_</span>
                             <span class="VarId">_tblIannotatedTree</span>
                             <span class="VarId">nat_</span>
                             <span class="VarId">joinType_</span>
                             <span class="VarId">_tbl1IannotatedTree</span>
                             <span class="VarId">_onExprIannotatedTree</span>
                             <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">JoinTref</span> <span class="VarId">ann_</span> <span class="VarId">_tblIannotatedTree</span> <span class="VarId">nat_</span> <span class="VarId">joinType_</span> <span class="VarId">_tbl1IannotatedTree</span> <span class="VarId">_onExprIannotatedTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">JoinTref</span> <span class="VarId">ann_</span> <span class="VarId">_tblIoriginalTree</span> <span class="VarId">nat_</span> <span class="VarId">joinType_</span> <span class="VarId">_tbl1IoriginalTree</span> <span class="VarId">_onExprIoriginalTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tblOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tblOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tbl1Ocat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tbl1Olib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_onExprOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Symbol">(</span> <span class="VarId">_tblIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tblIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_tblIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tbl_</span> <span class="VarId">_tblOcat</span> <span class="VarId">_tblOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tbl1IannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tbl1IlibUpdates</span><span class="Symbol">,</span><span class="VarId">_tbl1IoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tbl1_</span> <span class="VarId">_tbl1Ocat</span> <span class="VarId">_tbl1Olib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_onExprIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_onExprIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">onExpr_</span> <span class="VarId">_onExprOcat</span> <span class="VarId">_onExprOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TableRef_SubTref</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">TableAlias</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_TableRef</span> 
<span class="Function">sem_TableRef_SubTref</span> <span class="VarId">ann_</span> <span class="VarId">sel_</span> <span class="VarId">alias_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_selectAttrs</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Either</span> <span class="Symbol">[</span><span class="ConId">TypeError</span><span class="Symbol">]</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_selIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_selIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_selIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 635, column 15)</span>
              <span class="VarId">_selOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 91, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="VarId">_errs</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 134, column 9)</span>
              <span class="VarId">_errs</span> <span class="Symbol">=</span>
                  <span class="Keyword">case</span> <span class="VarId">_selectAttrs</span>     <span class="Keyword">of</span>
                          <span class="ConId">Left</span> <span class="VarId">e</span> <span class="Symbol">-&gt;</span> <span class="VarId">e</span>
                          <span class="ConId">Right</span> <span class="VarId">_</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 138, column 9)</span>
              <span class="VarId">_selectAttrs</span> <span class="Symbol">=</span>
                  <span class="VarId">lmt</span> <span class="VarId">_selIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 139, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[</span><span class="ConId">LBTref</span> <span class="String">&quot;sub query&quot;</span> <span class="Symbol">(</span><span class="VarId">getAlias</span> <span class="String">&quot;&quot;</span> <span class="VarId">alias_</span><span class="Symbol">)</span>
                                  <span class="Symbol">(</span><span class="VarId">fromRight</span> <span class="Symbol">[]</span> <span class="VarId">_selectAttrs</span>    <span class="Symbol">)</span> <span class="Symbol">[]]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 259, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SubTref</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SubTref</span> <span class="VarId">ann_</span> <span class="VarId">_selIannotatedTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SubTref</span> <span class="VarId">ann_</span> <span class="VarId">_selIoriginalTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_selOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_selIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_selIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_selIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_selIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">sel_</span> <span class="VarId">_selOcat</span> <span class="VarId">_selOexpectedTypes</span> <span class="VarId">_selOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TableRef_Tref</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_ScalarExpr</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">TableAlias</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_TableRef</span> 
<span class="Function">sem_TableRef_Tref</span> <span class="VarId">ann_</span> <span class="VarId">tbl_</span> <span class="VarId">alias_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_tblOexpectedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_tblOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tblOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tblIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tblIntAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tblIntType</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tblIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tblItbAnnotatedTree</span> <span class="Symbol">::</span> <span class="ConId">ScalarExpr</span>
              <span class="VarId">_tblItbUType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)],[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)]))</span>
              <span class="VarId">_tblIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 575, column 12)</span>
              <span class="VarId">_tblOexpectedType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 91, column 9)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="VarId">_errs</span>     <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 147, column 9)</span>
              <span class="VarId">_errs</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 148, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="Keyword">do</span>
                  <span class="Keyword">let</span> <span class="VarId">n</span> <span class="Symbol">=</span> <span class="VarId">getName</span> <span class="VarId">_tblIannotatedTree</span>
                  <span class="Symbol">(</span><span class="VarId">pu</span><span class="Symbol">,</span><span class="VarId">pr</span><span class="Symbol">)</span> <span class="Symbol">&lt;-</span> <span class="VarId">_tblItbUType</span>
                  <span class="VarId">return</span> <span class="Symbol">[</span><span class="ConId">LBTref</span> <span class="Symbol">(</span><span class="String">&quot;tref: &quot;</span> <span class="Symbol">++</span> <span class="VarId">n</span><span class="Symbol">)</span>
                            <span class="Symbol">(</span><span class="VarId">getAlias</span> <span class="VarId">n</span> <span class="VarId">alias_</span><span class="Symbol">)</span>
                            <span class="VarId">pu</span>
                            <span class="VarId">pr</span><span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 261, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Tref</span> <span class="VarId">ann_</span> <span class="VarId">_tblItbAnnotatedTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Tref</span> <span class="VarId">ann_</span> <span class="VarId">_tblIannotatedTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Tref</span> <span class="VarId">ann_</span> <span class="VarId">_tblIoriginalTree</span> <span class="VarId">alias_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tblOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tblOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_tblIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tblIntAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tblIntType</span><span class="Symbol">,</span><span class="VarId">_tblIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tblItbAnnotatedTree</span><span class="Symbol">,</span><span class="VarId">_tblItbUType</span><span class="Symbol">,</span><span class="VarId">_tblIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tbl_</span> <span class="VarId">_tblOcat</span> <span class="VarId">_tblOexpectedType</span> <span class="VarId">_tblOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- TableRefList ------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF libUpdates : [LocalBindingsUpdate] originalTree : SELF alternatives: alternative Cons: child hd : TableRef child tl : TableRefList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">TableRefList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">TableRef</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_TableRefList</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>  <span class="Symbol">-&gt;</span>
                    <span class="ConId">T_TableRefList</span> 
<span class="Function">sem_TableRefList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_TableRefList_Cons</span> <span class="VarId">sem_TableRefList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_TableRef</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_TableRefList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                       <span class="Symbol">(</span> <span class="ConId">TableRefList</span><span class="Symbol">,([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">]),</span><span class="ConId">TableRefList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_TableRefList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_TableRefList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_TableRefList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_TableRefList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_TableRefList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_TableRefList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_TableRefList</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span><span class="Symbol">,</span><span class="VarId">libUpdates_Syn_TableRefList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">],</span><span class="VarId">originalTree_Syn_TableRefList</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span><span class="Symbol">}</span>
<span class="Function">wrap_TableRefList</span> <span class="Symbol">::</span> <span class="ConId">T_TableRefList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Inh_TableRefList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Syn_TableRefList</span> 
<span class="Function">wrap_TableRefList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_TableRefList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_TableRefList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOlibUpdates</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_TableRefList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_TableRef</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TableRefList</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TableRefList</span> 
<span class="Function">sem_TableRefList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_hdIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRef</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_tlIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 97, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIlibUpdates</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TableRefList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_TableRefList</span> 
<span class="Function">sem_TableRefList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TableRefList</span>
              <span class="Comment">-- &quot;./TypeChecking/TableRefs.ag&quot;(line 95, column 9)</span>
              <span class="VarId">_lhsOlibUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOlibUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- TypeAttributeDef --------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF attrName : String namedType : Maybe Type originalTree : SELF alternatives: alternative TypeAttDef: child ann : {Annotation} child name : {String} child typ : TypeName visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">TypeAttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">TypeAttDef</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> 
                       <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDef</span>  <span class="Symbol">-&gt;</span>
                        <span class="ConId">T_TypeAttributeDef</span> 
<span class="Function">sem_TypeAttributeDef</span> <span class="Symbol">(</span><span class="ConId">TypeAttDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_typ</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TypeAttributeDef_TypeAttDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_TypeAttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                           <span class="Symbol">(</span> <span class="ConId">TypeAttributeDef</span><span class="Symbol">,</span><span class="ConId">String</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">),</span><span class="ConId">TypeAttributeDef</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_TypeAttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">Inh_TypeAttributeDef</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_TypeAttributeDef</span>  <span class="Symbol">=</span> <span class="ConId">Syn_TypeAttributeDef</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDef</span><span class="Symbol">,</span><span class="VarId">attrName_Syn_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">String</span><span class="Symbol">,</span><span class="VarId">namedType_Syn_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDef</span><span class="Symbol">}</span>
<span class="Function">wrap_TypeAttributeDef</span> <span class="Symbol">::</span> <span class="ConId">T_TypeAttributeDef</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">Inh_TypeAttributeDef</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">Syn_TypeAttributeDef</span> 
<span class="Function">wrap_TypeAttributeDef</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_TypeAttributeDef</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrName</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_TypeAttributeDef</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOattrName</span> <span class="VarId">_lhsOnamedType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_TypeAttributeDef_TypeAttDef</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                                   <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                                   <span class="ConId">T_TypeAttributeDef</span> 
<span class="Function">sem_TypeAttributeDef_TypeAttDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">typ_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOattrName</span> <span class="Symbol">::</span> <span class="ConId">String</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDef</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDef</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_lhsOattrName</span> <span class="Symbol">=</span>
                  <span class="VarId">name_</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 38, column 9)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">_typInamedType</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">TypeAttDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">TypeAttDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrName</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- TypeAttributeDefList ----------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF attrs : [(String, Maybe Type)] originalTree : SELF alternatives: alternative Cons: child hd : TypeAttributeDef child tl : TypeAttributeDefList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">TypeAttributeDefList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">TypeAttributeDef</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_TypeAttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>  <span class="Symbol">-&gt;</span>
                            <span class="ConId">T_TypeAttributeDefList</span> 
<span class="Function">sem_TypeAttributeDefList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_TypeAttributeDefList_Cons</span> <span class="VarId">sem_TypeAttributeDefList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_TypeAttributeDef</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_TypeAttributeDefList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                               <span class="Symbol">(</span> <span class="ConId">TypeAttributeDefList</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">TypeAttributeDefList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_TypeAttributeDefList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_TypeAttributeDefList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_TypeAttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_TypeAttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_TypeAttributeDefList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_TypeAttributeDefList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_TypeAttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span><span class="Symbol">,</span><span class="VarId">attrs_Syn_TypeAttributeDefList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_TypeAttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span><span class="Symbol">}</span>
<span class="Function">wrap_TypeAttributeDefList</span> <span class="Symbol">::</span> <span class="ConId">T_TypeAttributeDefList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">Inh_TypeAttributeDefList</span>  <span class="Symbol">-&gt;</span>
                             <span class="ConId">Syn_TypeAttributeDefList</span> 
<span class="Function">wrap_TypeAttributeDefList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_TypeAttributeDefList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_TypeAttributeDefList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOattrs</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_TypeAttributeDefList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_TypeAttributeDef</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_TypeAttributeDefList</span>  <span class="Symbol">-&gt;</span>
                                 <span class="ConId">T_TypeAttributeDefList</span> 
<span class="Function">sem_TypeAttributeDefList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDef</span>
              <span class="VarId">_hdIattrName</span> <span class="Symbol">::</span> <span class="ConId">String</span>
              <span class="VarId">_hdInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDef</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="VarId">_tlIattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 43, column 12)</span>
              <span class="VarId">_lhsOattrs</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">_hdIattrName</span><span class="Symbol">,</span> <span class="VarId">_hdInamedType</span><span class="Symbol">)</span> <span class="Symbol">:</span> <span class="VarId">_tlIattrs</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIattrName</span><span class="Symbol">,</span><span class="VarId">_hdInamedType</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIattrs</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TypeAttributeDefList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_TypeAttributeDefList</span> 
<span class="Function">sem_TypeAttributeDefList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOattrs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeAttributeDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/MiscCreates.ag&quot;(line 44, column 11)</span>
              <span class="VarId">_lhsOattrs</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOattrs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- TypeName ----------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF namedType : Maybe Type originalTree : SELF alternatives: alternative ArrayTypeName: child ann : {Annotation} child typ : TypeName visit 0: local tpe : _ local backTree : _ local annotatedTree : _ local originalTree : _ alternative Prec2TypeName: child ann : {Annotation} child tn : {String} child prec : {Integer} child prec1 : {Integer} visit 0: local tpe : _ local backTree : _ local annotatedTree : _ local originalTree : _ alternative PrecTypeName: child ann : {Annotation} child tn : {String} child prec : {Integer} visit 0: local tpe : _ local backTree : _ local annotatedTree : _ local originalTree : _ alternative SetOfTypeName: child ann : {Annotation} child typ : TypeName visit 0: local tpe : _ local backTree : _ local annotatedTree : _ local originalTree : _ alternative SimpleTypeName: child ann : {Annotation} child tn : {String} visit 0: local tpe : _ local backTree : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">TypeName</span>  <span class="Symbol">=</span> <span class="ConId">ArrayTypeName</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">Prec2TypeName</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">PrecTypeName</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">SetOfTypeName</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> 
               <span class="Symbol">|</span> <span class="ConId">SimpleTypeName</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
               <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_TypeName</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>  <span class="Symbol">-&gt;</span>
                <span class="ConId">T_TypeName</span> 
<span class="Function">sem_TypeName</span> <span class="Symbol">(</span><span class="ConId">ArrayTypeName</span> <span class="VarId">_ann</span> <span class="VarId">_typ</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TypeName_ArrayTypeName</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_TypeName</span> <span class="Symbol">(</span><span class="ConId">Prec2TypeName</span> <span class="VarId">_ann</span> <span class="VarId">_tn</span> <span class="VarId">_prec</span> <span class="VarId">_prec1</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TypeName_Prec2TypeName</span> <span class="VarId">_ann</span> <span class="VarId">_tn</span> <span class="VarId">_prec</span> <span class="VarId">_prec1</span> <span class="Symbol">)</span>
<span class="Function">sem_TypeName</span> <span class="Symbol">(</span><span class="ConId">PrecTypeName</span> <span class="VarId">_ann</span> <span class="VarId">_tn</span> <span class="VarId">_prec</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TypeName_PrecTypeName</span> <span class="VarId">_ann</span> <span class="VarId">_tn</span> <span class="VarId">_prec</span> <span class="Symbol">)</span>
<span class="Function">sem_TypeName</span> <span class="Symbol">(</span><span class="ConId">SetOfTypeName</span> <span class="VarId">_ann</span> <span class="VarId">_typ</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TypeName_SetOfTypeName</span> <span class="VarId">_ann</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Function">sem_TypeName</span> <span class="Symbol">(</span><span class="ConId">SimpleTypeName</span> <span class="VarId">_ann</span> <span class="VarId">_tn</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_TypeName_SimpleTypeName</span> <span class="VarId">_ann</span> <span class="VarId">_tn</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_TypeName</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                   <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                   <span class="Symbol">(</span> <span class="ConId">TypeName</span><span class="Symbol">,(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">),</span><span class="ConId">TypeName</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_TypeName</span>  <span class="Symbol">=</span> <span class="ConId">Inh_TypeName</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_TypeName</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_TypeName</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_TypeName</span>  <span class="Symbol">=</span> <span class="ConId">Syn_TypeName</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_TypeName</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span><span class="Symbol">,</span><span class="VarId">namedType_Syn_TypeName</span> <span class="Symbol">::</span> <span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_TypeName</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span><span class="Symbol">}</span>
<span class="Function">wrap_TypeName</span> <span class="Symbol">::</span> <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Inh_TypeName</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">Syn_TypeName</span> 
<span class="Function">wrap_TypeName</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_TypeName</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_TypeName</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOnamedType</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_TypeName_ArrayTypeName</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_TypeName</span> 
<span class="Function">sem_TypeName_ArrayTypeName</span> <span class="VarId">ann_</span> <span class="VarId">typ_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 19, column 10)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 20, column 10)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="Symbol">(</span><span class="VarId">tes</span> <span class="VarId">_tpe</span>    <span class="Symbol">)</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 27, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">lmt</span> <span class="VarId">_typInamedType</span> <span class="Symbol">&gt;&gt;=</span>  <span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">ArrayType</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 28, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ArrayTypeName</span> <span class="VarId">ann_</span> <span class="VarId">_typIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ArrayTypeName</span> <span class="VarId">ann_</span> <span class="VarId">_typIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ArrayTypeName</span> <span class="VarId">ann_</span> <span class="VarId">_typIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TypeName_Prec2TypeName</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_TypeName</span> 
<span class="Function">sem_TypeName_Prec2TypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span> <span class="VarId">prec1_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 19, column 10)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 20, column 10)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="Symbol">(</span><span class="VarId">tes</span> <span class="VarId">_tpe</span>    <span class="Symbol">)</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 36, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">catLookupType</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">$</span> <span class="VarId">canonicalizeTypeName</span> <span class="VarId">tn_</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 37, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Prec2TypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span> <span class="VarId">prec1_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Prec2TypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span> <span class="VarId">prec1_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">Prec2TypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span> <span class="VarId">prec1_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TypeName_PrecTypeName</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                             <span class="ConId">T_TypeName</span> 
<span class="Function">sem_TypeName_PrecTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 19, column 10)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 20, column 10)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="Symbol">(</span><span class="VarId">tes</span> <span class="VarId">_tpe</span>    <span class="Symbol">)</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 33, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">catLookupType</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">$</span> <span class="VarId">canonicalizeTypeName</span> <span class="VarId">tn_</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 34, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PrecTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PrecTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">PrecTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span> <span class="VarId">prec_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TypeName_SetOfTypeName</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                              <span class="ConId">T_TypeName</span> 
<span class="Function">sem_TypeName_SetOfTypeName</span> <span class="VarId">ann_</span> <span class="VarId">typ_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 19, column 10)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 20, column 10)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="Symbol">(</span><span class="VarId">tes</span> <span class="VarId">_tpe</span>    <span class="Symbol">)</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 30, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">lmt</span> <span class="VarId">_typInamedType</span> <span class="Symbol">&gt;&gt;=</span>  <span class="ConId">Right</span> <span class="Symbol">.</span> <span class="ConId">SetOfType</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 31, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SetOfTypeName</span> <span class="VarId">ann_</span> <span class="VarId">_typIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SetOfTypeName</span> <span class="VarId">ann_</span> <span class="VarId">_typIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SetOfTypeName</span> <span class="VarId">ann_</span> <span class="VarId">_typIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TypeName_SimpleTypeName</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                               <span class="ConId">T_TypeName</span> 
<span class="Function">sem_TypeName_SimpleTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 19, column 10)</span>
              <span class="VarId">_lhsOnamedType</span> <span class="Symbol">=</span>
                  <span class="VarId">etmt</span> <span class="VarId">_tpe</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 20, column 10)</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">addTypeErrors</span> <span class="Symbol">(</span><span class="VarId">tes</span> <span class="VarId">_tpe</span>    <span class="Symbol">)</span> <span class="VarId">_backTree</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 24, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="VarId">catLookupType</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">$</span> <span class="VarId">canonicalizeTypeName</span> <span class="VarId">tn_</span>
              <span class="Comment">-- &quot;./TypeChecking/Misc.ag&quot;(line 25, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SimpleTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SimpleTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">SimpleTypeName</span> <span class="VarId">ann_</span> <span class="VarId">tn_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedType</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- TypeNameList ------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF namedTypes : [Maybe Type] originalTree : SELF alternatives: alternative Cons: child hd : TypeName child tl : TypeNameList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">TypeNameList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">TypeName</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_TypeNameList</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>  <span class="Symbol">-&gt;</span>
                    <span class="ConId">T_TypeNameList</span> 
<span class="Function">sem_TypeNameList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_TypeNameList_Cons</span> <span class="VarId">sem_TypeNameList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_TypeName</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_TypeNameList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                       <span class="Symbol">(</span> <span class="ConId">TypeNameList</span><span class="Symbol">,([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">]),</span><span class="ConId">TypeNameList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_TypeNameList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_TypeNameList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_TypeNameList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_TypeNameList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_TypeNameList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_TypeNameList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_TypeNameList</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span><span class="Symbol">,</span><span class="VarId">namedTypes_Syn_TypeNameList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">],</span><span class="VarId">originalTree_Syn_TypeNameList</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span><span class="Symbol">}</span>
<span class="Function">wrap_TypeNameList</span> <span class="Symbol">::</span> <span class="ConId">T_TypeNameList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Inh_TypeNameList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">Syn_TypeNameList</span> 
<span class="Function">wrap_TypeNameList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_TypeNameList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_TypeNameList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOnamedTypes</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_TypeNameList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TypeNameList</span>  <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_TypeNameList</span> 
<span class="Function">sem_TypeNameList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_hdInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="VarId">_tlInamedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 37, column 12)</span>
              <span class="VarId">_lhsOnamedTypes</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdInamedType</span> <span class="Symbol">:</span> <span class="VarId">_tlInamedTypes</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdInamedType</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlInamedTypes</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_TypeNameList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_TypeNameList</span> 
<span class="Function">sem_TypeNameList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOnamedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeNameList</span>
              <span class="Comment">-- &quot;./TypeChecking/Drops.ag&quot;(line 38, column 11)</span>
              <span class="VarId">_lhsOnamedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOnamedTypes</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- VarDef ------------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF def : (String,Maybe Type) originalTree : SELF alternatives: alternative ParamAlias: child ann : {Annotation} child name : {String} child i : {Integer} visit 0: local annotatedTree : _ local originalTree : _ alternative VarAlias: child ann : {Annotation} child name : {String} child aliased : {String} visit 0: local annotatedTree : _ local originalTree : _ alternative VarDef: child ann : {Annotation} child name : {String} child typ : TypeName child value : {Maybe ScalarExpr} visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">VarDef</span>  <span class="Symbol">=</span> <span class="ConId">ParamAlias</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Integer</span><span class="Symbol">)</span> 
             <span class="Symbol">|</span> <span class="ConId">VarAlias</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> 
             <span class="Symbol">|</span> <span class="ConId">VarDef</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">TypeName</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">ScalarExpr</span><span class="Symbol">)</span> 
             <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_VarDef</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>  <span class="Symbol">-&gt;</span>
              <span class="ConId">T_VarDef</span> 
<span class="Function">sem_VarDef</span> <span class="Symbol">(</span><span class="ConId">ParamAlias</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_i</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_VarDef_ParamAlias</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_i</span> <span class="Symbol">)</span>
<span class="Function">sem_VarDef</span> <span class="Symbol">(</span><span class="ConId">VarAlias</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_aliased</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_VarDef_VarAlias</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_aliased</span> <span class="Symbol">)</span>
<span class="Function">sem_VarDef</span> <span class="Symbol">(</span><span class="ConId">VarDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_typ</span> <span class="VarId">_value</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_VarDef_VarDef</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_TypeName</span> <span class="VarId">_typ</span> <span class="Symbol">)</span> <span class="VarId">_value</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_VarDef</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                 <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                 <span class="Symbol">(</span> <span class="ConId">VarDef</span><span class="Symbol">,((</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)),</span><span class="ConId">VarDef</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_VarDef</span>  <span class="Symbol">=</span> <span class="ConId">Inh_VarDef</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_VarDef</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_VarDef</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_VarDef</span>  <span class="Symbol">=</span> <span class="ConId">Syn_VarDef</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_VarDef</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span><span class="Symbol">,</span><span class="VarId">def_Syn_VarDef</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">),</span><span class="VarId">originalTree_Syn_VarDef</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span><span class="Symbol">}</span>
<span class="Function">wrap_VarDef</span> <span class="Symbol">::</span> <span class="ConId">T_VarDef</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Inh_VarDef</span>  <span class="Symbol">-&gt;</span>
               <span class="ConId">Syn_VarDef</span> 
<span class="Function">wrap_VarDef</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_VarDef</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOdef</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_VarDef</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOdef</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_VarDef_ParamAlias</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">Integer</span> <span class="Symbol">-&gt;</span>
                         <span class="ConId">T_VarDef</span> 
<span class="Function">sem_VarDef_ParamAlias</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">i_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOdef</span> <span class="Symbol">::</span> <span class="Symbol">((</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">))</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="Comment">-- &quot;./TypeChecking/Block.ag&quot;(line 14, column 18)</span>
              <span class="VarId">_lhsOdef</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">name_</span><span class="Symbol">,</span> <span class="ConId">Nothing</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ParamAlias</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">ParamAlias</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">i_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOdef</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_VarDef_VarAlias</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_VarDef</span> 
<span class="Function">sem_VarDef_VarAlias</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">aliased_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOdef</span> <span class="Symbol">::</span> <span class="Symbol">((</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">))</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="Comment">-- &quot;./TypeChecking/Block.ag&quot;(line 13, column 16)</span>
              <span class="VarId">_lhsOdef</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">name_</span><span class="Symbol">,</span> <span class="ConId">Nothing</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">VarAlias</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">aliased_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">VarAlias</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">aliased_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOdef</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_VarDef_VarDef</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_TypeName</span>  <span class="Symbol">-&gt;</span>
                     <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">ScalarExpr</span><span class="Symbol">)</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_VarDef</span> 
<span class="Function">sem_VarDef_VarDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">typ_</span> <span class="VarId">value_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOdef</span> <span class="Symbol">::</span> <span class="Symbol">((</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">))</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_typIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="VarId">_typInamedType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)</span>
              <span class="VarId">_typIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">TypeName</span>
              <span class="Comment">-- &quot;./TypeChecking/Block.ag&quot;(line 10, column 14)</span>
              <span class="VarId">_lhsOdef</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">name_</span><span class="Symbol">,</span> <span class="Keyword">if</span> <span class="VarId">_typInamedType</span> <span class="Symbol">==</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="ConId">Pseudo</span> <span class="ConId">Record</span><span class="Symbol">)</span>
                          <span class="Keyword">then</span> <span class="ConId">Just</span> <span class="Symbol">(</span><span class="ConId">PgRecord</span> <span class="ConId">Nothing</span><span class="Symbol">)</span>
                          <span class="Keyword">else</span> <span class="VarId">_typInamedType</span><span class="Symbol">)</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">VarDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIannotatedTree</span> <span class="VarId">value_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">VarDef</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_typIoriginalTree</span> <span class="VarId">value_</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_typOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_typIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_typInamedType</span><span class="Symbol">,</span><span class="VarId">_typIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">typ_</span> <span class="VarId">_typOcat</span> <span class="VarId">_typOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOdef</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- VarDefList --------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF defs : [(String,Maybe Type)] originalTree : SELF alternatives: alternative Cons: child hd : VarDef child tl : VarDefList visit 0: local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">VarDefList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">VarDef</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_VarDefList</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">T_VarDefList</span> 
<span class="Function">sem_VarDefList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_VarDefList_Cons</span> <span class="VarId">sem_VarDefList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_VarDef</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_VarDefList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                     <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                     <span class="Symbol">(</span> <span class="ConId">VarDefList</span><span class="Symbol">,([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)]),</span><span class="ConId">VarDefList</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_VarDefList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_VarDefList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_VarDefList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_VarDefList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_VarDefList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_VarDefList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_VarDefList</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span><span class="Symbol">,</span><span class="VarId">defs_Syn_VarDefList</span> <span class="Symbol">::</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)],</span><span class="VarId">originalTree_Syn_VarDefList</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span><span class="Symbol">}</span>
<span class="Function">wrap_VarDefList</span> <span class="Symbol">::</span> <span class="ConId">T_VarDefList</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Inh_VarDefList</span>  <span class="Symbol">-&gt;</span>
                   <span class="ConId">Syn_VarDefList</span> 
<span class="Function">wrap_VarDefList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_VarDefList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOdefs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_VarDefList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOdefs</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_VarDefList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_VarDef</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_VarDefList</span>  <span class="Symbol">-&gt;</span>
                       <span class="ConId">T_VarDefList</span> 
<span class="Function">sem_VarDefList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOdefs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="VarId">_hdIdef</span> <span class="Symbol">::</span> <span class="Symbol">((</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">))</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDef</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="VarId">_tlIdefs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/Block.ag&quot;(line 17, column 12)</span>
              <span class="VarId">_lhsOdefs</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIdef</span> <span class="Symbol">:</span> <span class="VarId">_tlIdefs</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIdef</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIdefs</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOdefs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Function">sem_VarDefList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_VarDefList</span> 
<span class="Function">sem_VarDefList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOdefs</span> <span class="Symbol">::</span> <span class="Symbol">([(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">VarDefList</span>
              <span class="Comment">-- &quot;./TypeChecking/Block.ag&quot;(line 18, column 11)</span>
              <span class="VarId">_lhsOdefs</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOdefs</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- WithQuery ---------------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog lib : LocalBindings synthesized attributes: annotatedTree : SELF catUpdates : [CatalogUpdate] originalTree : SELF alternatives: alternative WithQuery: child ann : {Annotation} child name : {String} child ex : QueryExpr visit 0: local tpe : _ local backTree : _ local attrs : _ local catUpdates : _ local statementType : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">data</span> <span class="ConId">WithQuery</span>  <span class="Symbol">=</span> <span class="ConId">WithQuery</span> <span class="Symbol">(</span><span class="ConId">Annotation</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span> <span class="Symbol">(</span><span class="ConId">QueryExpr</span><span class="Symbol">)</span> 
                <span class="Keyword">deriving</span> <span class="Symbol">(</span> <span class="ConId">Data</span><span class="Symbol">,</span><span class="ConId">Eq</span><span class="Symbol">,</span><span class="ConId">Show</span><span class="Symbol">,</span><span class="ConId">Typeable</span><span class="Symbol">)</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_WithQuery</span> <span class="Symbol">::</span> <span class="ConId">WithQuery</span>  <span class="Symbol">-&gt;</span>
                 <span class="ConId">T_WithQuery</span> 
<span class="Function">sem_WithQuery</span> <span class="Symbol">(</span><span class="ConId">WithQuery</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="VarId">_ex</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="VarId">sem_WithQuery_WithQuery</span> <span class="VarId">_ann</span> <span class="VarId">_name</span> <span class="Symbol">(</span><span class="VarId">sem_QueryExpr</span> <span class="VarId">_ex</span> <span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_WithQuery</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                    <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                    <span class="Symbol">(</span> <span class="ConId">WithQuery</span><span class="Symbol">,([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">]),</span><span class="ConId">WithQuery</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_WithQuery</span>  <span class="Symbol">=</span> <span class="ConId">Inh_WithQuery</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_WithQuery</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">lib_Inh_WithQuery</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_WithQuery</span>  <span class="Symbol">=</span> <span class="ConId">Syn_WithQuery</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_WithQuery</span> <span class="Symbol">::</span> <span class="ConId">WithQuery</span><span class="Symbol">,</span><span class="VarId">catUpdates_Syn_WithQuery</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">CatalogUpdate</span><span class="Symbol">],</span><span class="VarId">originalTree_Syn_WithQuery</span> <span class="Symbol">::</span> <span class="ConId">WithQuery</span><span class="Symbol">}</span>
<span class="Function">wrap_WithQuery</span> <span class="Symbol">::</span> <span class="ConId">T_WithQuery</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">Inh_WithQuery</span>  <span class="Symbol">-&gt;</span>
                  <span class="ConId">Syn_WithQuery</span> 
<span class="Function">wrap_WithQuery</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_WithQuery</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_WithQuery</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOcatUpdates</span> <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">))</span>
<span class="Function">sem_WithQuery_WithQuery</span> <span class="Symbol">::</span> <span class="ConId">Annotation</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">String</span> <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_QueryExpr</span>  <span class="Symbol">-&gt;</span>
                           <span class="ConId">T_WithQuery</span> 
<span class="Function">sem_WithQuery_WithQuery</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">ex_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_exOexpectedTypes</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">Maybe</span> <span class="ConId">Type</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">WithQuery</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">WithQuery</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_exIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exIlibUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">LocalBindingsUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_exIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">QueryExpr</span>
              <span class="VarId">_exIuType</span> <span class="Symbol">::</span> <span class="Symbol">(</span><span class="ConId">Maybe</span> <span class="Symbol">[(</span><span class="ConId">String</span><span class="Symbol">,</span><span class="ConId">Type</span><span class="Symbol">)])</span>
              <span class="Comment">-- &quot;./TypeChecking/ScalarExprs.ag&quot;(line 637, column 17)</span>
              <span class="VarId">_exOexpectedTypes</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 246, column 9)</span>
              <span class="VarId">_tpe</span> <span class="Symbol">=</span>
                  <span class="ConId">Right</span> <span class="Symbol">$</span> <span class="ConId">Pseudo</span> <span class="ConId">Void</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 247, column 9)</span>
              <span class="VarId">_backTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WithQuery</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exIannotatedTree</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 248, column 9)</span>
              <span class="VarId">_attrs</span> <span class="Symbol">=</span>
                  <span class="VarId">maybe</span> <span class="Symbol">[]</span> <span class="VarId">id</span> <span class="Symbol">$</span> <span class="VarId">_exIuType</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 249, column 9)</span>
              <span class="VarId">_catUpdates</span> <span class="Symbol">=</span>
                  <span class="Symbol">[</span><span class="ConId">CatCreateView</span> <span class="VarId">name_</span> <span class="VarId">_attrs</span>    <span class="Symbol">]</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 250, column 9)</span>
              <span class="VarId">_statementType</span> <span class="Symbol">=</span>
                  <span class="ConId">Nothing</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WithQuery</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="ConId">WithQuery</span> <span class="VarId">ann_</span> <span class="VarId">name_</span> <span class="VarId">_exIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (from local)</span>
              <span class="VarId">_lhsOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_catUpdates</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIcat</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_exOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_exIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_exIlibUpdates</span><span class="Symbol">,</span><span class="VarId">_exIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_exIuType</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">ex_</span> <span class="VarId">_exOcat</span> <span class="VarId">_exOexpectedTypes</span> <span class="VarId">_exOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOcatUpdates</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">)))</span>
<span class="Comment">-- WithQueryList -----------------------------------------------</span>
</pre></div></div></div><p
      >{- visit 0: inherited attributes: cat : Catalog catUpdates : [CatalogUpdate] lib : LocalBindings synthesized attributes: annotatedTree : SELF originalTree : SELF producedCat : Catalog alternatives: alternative Cons: child hd : WithQuery child tl : WithQueryList visit 0: local newCat : _ local annotatedTree : _ local originalTree : _ alternative Nil: visit 0: local newCat : _ local annotatedTree : _ local originalTree : _ -}</p
      ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Keyword">type</span> <span class="ConId">WithQueryList</span>  <span class="Symbol">=</span> <span class="Symbol">[(</span><span class="ConId">WithQuery</span><span class="Symbol">)]</span>
<span class="Comment">-- cata</span>
<span class="Function">sem_WithQueryList</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>  <span class="Symbol">-&gt;</span>
                     <span class="ConId">T_WithQueryList</span> 
<span class="Function">sem_WithQueryList</span> <span class="VarId">list</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">foldr</span> <span class="VarId">sem_WithQueryList_Cons</span> <span class="VarId">sem_WithQueryList_Nil</span> <span class="Symbol">(</span><span class="ConId">Prelude.</span><span class="VarId">map</span> <span class="VarId">sem_WithQuery</span> <span class="VarId">list</span><span class="Symbol">)</span> <span class="Symbol">)</span>
<span class="Comment">-- semantic domain</span>
<span class="Keyword">type</span> <span class="ConId">T_WithQueryList</span>  <span class="Symbol">=</span> <span class="ConId">Catalog</span> <span class="Symbol">-&gt;</span>
                        <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span> <span class="Symbol">-&gt;</span>
                        <span class="ConId">LocalBindings</span> <span class="Symbol">-&gt;</span>
                        <span class="Symbol">(</span> <span class="ConId">WithQueryList</span><span class="Symbol">,</span><span class="ConId">WithQueryList</span><span class="Symbol">,</span><span class="ConId">Catalog</span><span class="Symbol">)</span>
<span class="Keyword">data</span> <span class="ConId">Inh_WithQueryList</span>  <span class="Symbol">=</span> <span class="ConId">Inh_WithQueryList</span> <span class="Symbol">{</span><span class="VarId">cat_Inh_WithQueryList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">,</span><span class="VarId">catUpdates_Inh_WithQueryList</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">CatalogUpdate</span><span class="Symbol">],</span><span class="VarId">lib_Inh_WithQueryList</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span><span class="Symbol">}</span>
<span class="Keyword">data</span> <span class="ConId">Syn_WithQueryList</span>  <span class="Symbol">=</span> <span class="ConId">Syn_WithQueryList</span> <span class="Symbol">{</span><span class="VarId">annotatedTree_Syn_WithQueryList</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span><span class="Symbol">,</span><span class="VarId">originalTree_Syn_WithQueryList</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span><span class="Symbol">,</span><span class="VarId">producedCat_Syn_WithQueryList</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span><span class="Symbol">}</span>
<span class="Function">wrap_WithQueryList</span> <span class="Symbol">::</span> <span class="ConId">T_WithQueryList</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Inh_WithQueryList</span>  <span class="Symbol">-&gt;</span>
                      <span class="ConId">Syn_WithQueryList</span> 
<span class="Function">wrap_WithQueryList</span> <span class="VarId">sem</span> <span class="Symbol">(</span><span class="ConId">Inh_WithQueryList</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>  <span class="Symbol">=</span>
    <span class="Symbol">(</span><span class="Keyword">let</span> <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">)</span> <span class="Symbol">=</span>
             <span class="Symbol">(</span><span class="VarId">sem</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span> <span class="VarId">_lhsIlib</span> <span class="Symbol">)</span>
     <span class="Keyword">in</span>  <span class="Symbol">(</span><span class="ConId">Syn_WithQueryList</span> <span class="VarId">_lhsOannotatedTree</span> <span class="VarId">_lhsOoriginalTree</span> <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">))</span>
<span class="Function">sem_WithQueryList_Cons</span> <span class="Symbol">::</span> <span class="ConId">T_WithQuery</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_WithQueryList</span>  <span class="Symbol">-&gt;</span>
                          <span class="ConId">T_WithQueryList</span> 
<span class="Function">sem_WithQueryList_Cons</span> <span class="VarId">hd_</span> <span class="VarId">tl_</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIcatUpdates</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_hdOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_tlOcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">::</span> <span class="ConId">LocalBindings</span>
              <span class="VarId">_hdIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">WithQuery</span>
              <span class="VarId">_hdIcatUpdates</span> <span class="Symbol">::</span> <span class="Symbol">([</span><span class="ConId">CatalogUpdate</span><span class="Symbol">])</span>
              <span class="VarId">_hdIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">WithQuery</span>
              <span class="VarId">_tlIannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="VarId">_tlIoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="VarId">_tlIproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 230, column 9)</span>
              <span class="VarId">_newCat</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">$</span> <span class="VarId">updateCatalog</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 232, column 9)</span>
              <span class="VarId">_hdOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_newCat</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 233, column 9)</span>
              <span class="VarId">_tlOcat</span> <span class="Symbol">=</span>
                  <span class="VarId">_newCat</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 237, column 9)</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">=</span>
                  <span class="VarId">_tlIproducedCat</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 240, column 9)</span>
              <span class="VarId">_tlOcatUpdates</span> <span class="Symbol">=</span>
                  <span class="VarId">_hdIcatUpdates</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIannotatedTree</span> <span class="VarId">_tlIannotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">(:)</span> <span class="VarId">_hdIoriginalTree</span> <span class="VarId">_tlIoriginalTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_hdOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Comment">-- copy rule (down)</span>
              <span class="VarId">_tlOlib</span> <span class="Symbol">=</span>
                  <span class="VarId">_lhsIlib</span>
              <span class="Symbol">(</span> <span class="VarId">_hdIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_hdIcatUpdates</span><span class="Symbol">,</span><span class="VarId">_hdIoriginalTree</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">hd_</span> <span class="VarId">_hdOcat</span> <span class="VarId">_hdOlib</span> <span class="Symbol">)</span>
              <span class="Symbol">(</span> <span class="VarId">_tlIannotatedTree</span><span class="Symbol">,</span><span class="VarId">_tlIoriginalTree</span><span class="Symbol">,</span><span class="VarId">_tlIproducedCat</span><span class="Symbol">)</span> <span class="Symbol">=</span>
                  <span class="Symbol">(</span><span class="VarId">tl_</span> <span class="VarId">_tlOcat</span> <span class="VarId">_tlOcatUpdates</span> <span class="VarId">_tlOlib</span> <span class="Symbol">)</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">)))</span>
<span class="Function">sem_WithQueryList_Nil</span> <span class="Symbol">::</span> <span class="ConId">T_WithQueryList</span> 
<span class="Function">sem_WithQueryList_Nil</span>  <span class="Symbol">=</span>
    <span class="Symbol">(\</span> <span class="VarId">_lhsIcat</span>
       <span class="VarId">_lhsIcatUpdates</span>
       <span class="VarId">_lhsIlib</span> <span class="Symbol">-&gt;</span>
         <span class="Symbol">(</span><span class="Keyword">let</span> <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">::</span> <span class="ConId">Catalog</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">::</span> <span class="ConId">WithQueryList</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 230, column 9)</span>
              <span class="VarId">_newCat</span> <span class="Symbol">=</span>
                  <span class="VarId">fromRight</span> <span class="VarId">_lhsIcat</span> <span class="Symbol">$</span> <span class="VarId">updateCatalog</span> <span class="VarId">_lhsIcat</span> <span class="VarId">_lhsIcatUpdates</span>
              <span class="Comment">-- &quot;./TypeChecking/QueryStatement.ag&quot;(line 242, column 9)</span>
              <span class="VarId">_lhsOproducedCat</span> <span class="Symbol">=</span>
                  <span class="VarId">_newCat</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_annotatedTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_originalTree</span> <span class="Symbol">=</span>
                  <span class="Symbol">[]</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOannotatedTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_annotatedTree</span>
              <span class="Comment">-- self rule</span>
              <span class="VarId">_lhsOoriginalTree</span> <span class="Symbol">=</span>
                  <span class="VarId">_originalTree</span>
          <span class="Keyword">in</span>  <span class="Symbol">(</span> <span class="VarId">_lhsOannotatedTree</span><span class="Symbol">,</span><span class="VarId">_lhsOoriginalTree</span><span class="Symbol">,</span><span class="VarId">_lhsOproducedCat</span><span class="Symbol">)))</span></pre></div></div></div></div
    ><br
     /><br
     /><br
     /><div class="footer"
    >generated on 01/31/11 20:00:52, hssqlppp-0.3.0</div
    ></body
  ></html
>
