<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >TestFileProcessor</title
    ><link href="../../main.css" rel="stylesheet" type="text/css"
     /></head
  ><body
  ><div class="header"
    ><a href="../../index.html"
      >HsSqlPpp-0.3.0</a
      ></div
    ><br
     /><br
     /><br
     /><p
    >Code to read some of the test files and convert to html to serve as examples.</p
    ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Comment">{-# LANGUAGE QuasiQuotes #-}</span>
<span class="Keyword">module</span> <span class="ConId">TestFileProcessor</span>
    <span class="Symbol">(</span><span class="VarId">parserTestsTable</span>
    <span class="Symbol">,</span><span class="VarId">typeCheckTestsTable</span>
    <span class="Symbol">,</span><span class="VarId">quasiQuoteTestsTable</span><span class="Symbol">)</span> <span class="Keyword">where</span>

<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.Utils.Utils</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.Utils.Here</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.Utils.PPExpr</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.Tests.ParserTests</span> <span class="Keyword">as</span> <span class="ConId">PT</span>
<span class="Keyword">import</span> <span class="ConId">Database.HsSqlPpp.Tests.TypeCheckTests</span> <span class="Keyword">as</span> <span class="ConId">TT</span>
<span class="Keyword">import</span> <span class="ConId">Language.Haskell.Exts</span> <span class="Keyword">hiding</span> <span class="Symbol">(</span><span class="ConId">String</span><span class="Symbol">)</span>
<span class="Comment">--import qualified Language.Haskell.Exts as Exts</span>
<span class="Comment">--import Data.Generics</span>
<span class="Keyword">import</span> <span class="ConId">Data.Generics.Uniplate.Data</span>

<span class="Keyword">data</span> <span class="ConId">Row</span> <span class="Symbol">=</span> <span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Text</span><span class="Symbol">]]</span>
         <span class="Symbol">|</span> <span class="ConId">HHeader</span> <span class="ConId">String</span>

<span class="Keyword">data</span> <span class="ConId">Text</span> <span class="Symbol">=</span> <span class="ConId">Text</span> <span class="ConId">String</span>
          <span class="Symbol">|</span> <span class="ConId">Sql</span> <span class="ConId">String</span>
          <span class="Symbol">|</span> <span class="ConId">Haskell</span> <span class="ConId">String</span>

<span class="Function">parserTestsTable</span> <span class="Symbol">::</span> <span class="ConId">String</span>
<span class="Function">parserTestsTable</span> <span class="Symbol">=</span> <span class="VarId">parserIntro</span> <span class="Symbol">++</span> <span class="VarId">rowsToHtml</span> <span class="Symbol">(</span><span class="VarId">mapParserTests</span> <span class="ConId">PT.</span><span class="VarId">parserTestData</span><span class="Symbol">)</span>

<span class="Function">typeCheckTestsTable</span> <span class="Symbol">::</span> <span class="ConId">String</span>
<span class="Function">typeCheckTestsTable</span> <span class="Symbol">=</span> <span class="VarId">typeCheckIntro</span> <span class="Symbol">++</span> <span class="VarId">rowsToHtml</span> <span class="Symbol">(</span><span class="VarId">mapTypeCheckTests</span> <span class="ConId">TT.</span><span class="VarId">typeCheckTestData</span><span class="Symbol">)</span>
</pre></div></div></div><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode">
<span class="Function">mapParserTests</span> <span class="Symbol">::</span> <span class="ConId">PT.Item</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">Row</span><span class="Symbol">]</span>
<span class="Function">mapParserTests</span> <span class="Symbol">(</span><span class="ConId">PT.Expr</span> <span class="VarId">s</span> <span class="VarId">e</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">],[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExprNoAnns</span> <span class="VarId">e</span><span class="Symbol">)]]]</span>
<span class="Function">mapParserTests</span> <span class="Symbol">(</span><span class="ConId">PT.Stmt</span> <span class="VarId">s</span> <span class="VarId">e</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">],[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExprNoAnns</span> <span class="VarId">e</span><span class="Symbol">)]]]</span>
<span class="Function">mapParserTests</span> <span class="Symbol">(</span><span class="ConId">PT.PgSqlStmt</span> <span class="VarId">s</span> <span class="VarId">e</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">],[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExprNoAnns</span> <span class="VarId">e</span><span class="Symbol">)]]]</span>
<span class="Function">mapParserTests</span> <span class="Symbol">(</span><span class="ConId">PT.Group</span> <span class="VarId">n</span> <span class="VarId">is</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">HHeader</span> <span class="VarId">n</span> <span class="Symbol">:</span> <span class="VarId">concatMap</span> <span class="VarId">mapParserTests</span> <span class="VarId">is</span></pre></div></div></div><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Function">ppExprNoAnns</span> <span class="Symbol">::</span> <span class="ConId">Show</span> <span class="VarId">a</span> <span class="Symbol">=&gt;</span> <span class="VarId">a</span> <span class="Symbol">-&gt;</span> <span class="ConId">String</span>
<span class="Function">ppExprNoAnns</span> <span class="Symbol">=</span> <span class="VarId">ppExprT</span> <span class="VarId">stripA</span>
  <span class="Keyword">where</span>
    <span class="VarId">stripA</span> <span class="Symbol">::</span> <span class="ConId">Exp</span> <span class="Symbol">-&gt;</span> <span class="ConId">Exp</span>
    <span class="VarId">stripA</span> <span class="Symbol">=</span> <span class="VarId">transformBi</span> <span class="Symbol">$</span> <span class="Symbol">\</span><span class="VarId">x</span> <span class="Symbol">-&gt;</span>
               <span class="Keyword">case</span> <span class="VarId">x</span> <span class="Keyword">of</span>
                 <span class="Symbol">(</span><span class="ConId">Paren</span> <span class="Symbol">(</span><span class="ConId">RecConstr</span> <span class="Symbol">(</span><span class="ConId">UnQual</span> <span class="Symbol">(</span><span class="ConId">Ident</span> <span class="String">&quot;Annotation&quot;</span><span class="Symbol">))</span> <span class="VarId">_</span><span class="Symbol">))</span> <span class="Symbol">-&gt;</span>
                          <span class="ConId">Con</span> <span class="Symbol">$</span> <span class="ConId">UnQual</span> <span class="Symbol">$</span> <span class="ConId">Ident</span> <span class="String">&quot;Ann&quot;</span>
                 <span class="VarId">x1</span> <span class="Symbol">-&gt;</span> <span class="VarId">x1</span></pre></div></div></div><p
    >need to use haskell-src-exts for the quasi quote tests since we want to get the quasi quote source syntax, not the asts it produces at compile time.</p
    ><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Function">mapTypeCheckTests</span> <span class="Symbol">::</span> <span class="ConId">TT.Item</span> <span class="Symbol">-&gt;</span> <span class="Symbol">[</span><span class="ConId">Row</span><span class="Symbol">]</span>
<span class="Function">mapTypeCheckTests</span> <span class="Symbol">(</span><span class="ConId">TT.Group</span> <span class="VarId">n</span> <span class="VarId">is</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="ConId">HHeader</span> <span class="VarId">n</span> <span class="Symbol">:</span> <span class="VarId">concatMap</span> <span class="VarId">mapTypeCheckTests</span> <span class="VarId">is</span>
<span class="Function">mapTypeCheckTests</span> <span class="Symbol">(</span><span class="ConId">TT.Expr</span> <span class="VarId">s</span> <span class="VarId">r</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">],[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExpr</span> <span class="VarId">r</span><span class="Symbol">)]]]</span>
<span class="Function">mapTypeCheckTests</span> <span class="Symbol">(</span><span class="ConId">TT.StmtType</span> <span class="VarId">s</span> <span class="VarId">r</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">],[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExpr</span> <span class="VarId">r</span><span class="Symbol">)]]]</span>
<span class="Function">mapTypeCheckTests</span> <span class="Symbol">(</span><span class="ConId">TT.CatStmtType</span> <span class="VarId">s</span> <span class="VarId">c</span> <span class="VarId">r</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExpr</span> <span class="VarId">c</span><span class="Symbol">),</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">],[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExpr</span> <span class="VarId">r</span><span class="Symbol">)]]]</span>
<span class="Function">mapTypeCheckTests</span> <span class="Symbol">(</span><span class="ConId">TT.Ddl</span> <span class="VarId">s</span> <span class="VarId">c</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">],[</span><span class="ConId">Haskell</span> <span class="Symbol">(</span><span class="VarId">ppExpr</span> <span class="VarId">c</span><span class="Symbol">)]]]</span>

<span class="Function">rowsToHtml</span> <span class="Symbol">::</span> <span class="Symbol">[</span><span class="ConId">Row</span><span class="Symbol">]</span> <span class="Symbol">-&gt;</span> <span class="ConId">String</span>
<span class="Function">rowsToHtml</span> <span class="VarId">rs</span> <span class="Symbol">=</span>
  <span class="String">&quot;&lt;table&gt;&quot;</span> <span class="Symbol">++</span>
  <span class="VarId">concatMap</span> <span class="VarId">rowToHtml</span> <span class="VarId">rs</span> <span class="Symbol">++</span>
  <span class="String">&quot;&lt;/table&gt;&quot;</span>
  <span class="Keyword">where</span>
    <span class="VarId">rowToHtml</span> <span class="Symbol">(</span><span class="ConId">Row</span> <span class="VarId">rws</span><span class="Symbol">)</span> <span class="Symbol">=</span>
        <span class="Keyword">let</span> <span class="VarId">w</span> <span class="Symbol">=</span> <span class="Number">100</span> <span class="Symbol">`</span><span class="VarId">div</span><span class="Symbol">`</span> <span class="VarId">length</span> <span class="VarId">rws</span>
            <span class="VarId">md</span> <span class="VarId">r</span> <span class="Symbol">=</span> <span class="String">&quot;&lt;td style='width:&quot;</span> <span class="Symbol">++</span>
                     <span class="VarId">show</span> <span class="VarId">w</span> <span class="Symbol">++</span> <span class="String">&quot;%'&gt;&quot;</span> <span class="Symbol">++</span> <span class="VarId">concatMap</span> <span class="VarId">tToH</span> <span class="VarId">r</span> <span class="Symbol">++</span>
                     <span class="String">&quot;&lt;/td&gt;&quot;</span>
        <span class="Keyword">in</span> <span class="String">&quot;&lt;tr&gt;&quot;</span> <span class="Symbol">++</span> <span class="VarId">concatMap</span> <span class="VarId">md</span> <span class="VarId">rws</span> <span class="Symbol">++</span> <span class="String">&quot;&lt;/tr&gt;&quot;</span>
    <span class="VarId">rowToHtml</span> <span class="Symbol">(</span><span class="ConId">HHeader</span> <span class="VarId">s</span><span class="Symbol">)</span> <span class="Symbol">=</span>
        <span class="String">&quot;&lt;/table&gt;\n&quot;</span> <span class="Symbol">++</span> <span class="VarId">s</span> <span class="Symbol">++</span> <span class="String">&quot;\n&quot;</span> <span class="Symbol">++</span> <span class="VarId">map</span> <span class="Symbol">(</span><span class="VarId">const</span> <span class="Char">'='</span><span class="Symbol">)</span> <span class="VarId">s</span> <span class="Symbol">++</span> <span class="String">&quot;\n&lt;table&gt;\n&quot;</span>
    <span class="VarId">tToH</span> <span class="Symbol">(</span><span class="ConId">Text</span> <span class="VarId">s</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">s</span>
    <span class="VarId">tToH</span> <span class="Symbol">(</span><span class="ConId">Sql</span> <span class="VarId">s</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">code</span> <span class="String">&quot;SqlPostgresql&quot;</span> <span class="VarId">s</span>
    <span class="VarId">tToH</span> <span class="Symbol">(</span><span class="ConId">Haskell</span> <span class="VarId">s</span><span class="Symbol">)</span> <span class="Symbol">=</span> <span class="VarId">code</span> <span class="String">&quot;haskell&quot;</span> <span class="VarId">s</span>
    <span class="VarId">code</span> <span class="VarId">t</span> <span class="VarId">s</span> <span class="Symbol">=</span> <span class="String">&quot;\n\n~~~~~~{.&quot;</span> <span class="Symbol">++</span> <span class="VarId">t</span> <span class="Symbol">++</span> <span class="String">&quot;}\n&quot;</span>
               <span class="Symbol">++</span> <span class="VarId">trim</span> <span class="VarId">s</span>
               <span class="Symbol">++</span> <span class="String">&quot;\n~~~~~~\n\n&quot;</span></pre></div></div></div><hr
     /><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Function">quasiQuoteTestsTable</span> <span class="Symbol">::</span> <span class="ConId">IO</span> <span class="ConId">String</span>
<span class="Function">quasiQuoteTestsTable</span> <span class="Symbol">=</span> <span class="Keyword">do</span>

  <span class="VarId">ast</span> <span class="Symbol">&lt;-</span> <span class="VarId">pf</span> <span class="String">&quot;tests/Database/HsSqlPpp/Tests/QuasiQuoteTests.lhs&quot;</span>
  <span class="Keyword">let</span> <span class="VarId">lets</span> <span class="Symbol">=</span> <span class="Symbol">[</span><span class="VarId">l</span> <span class="Symbol">|</span> <span class="VarId">l</span><span class="Symbol">@(</span><span class="ConId">Let</span> <span class="VarId">_</span> <span class="VarId">_</span><span class="Symbol">)</span> <span class="Symbol">&lt;-</span> <span class="VarId">universeBi</span> <span class="VarId">ast</span><span class="Symbol">]</span>
  <span class="Comment">--mapM_ (putStrLn . prettyPrint) lets</span>
  <span class="VarId">return</span> <span class="Symbol">$</span> <span class="VarId">qqIntro</span> <span class="Symbol">++</span> <span class="VarId">rowsToHtml</span> <span class="Symbol">(</span><span class="VarId">map</span> <span class="Symbol">((\</span><span class="VarId">s</span> <span class="Symbol">-&gt;</span> <span class="ConId">Row</span> <span class="Symbol">[[</span><span class="ConId">Haskell</span> <span class="VarId">s</span><span class="Symbol">]])</span> <span class="Symbol">.</span> <span class="VarId">prettyPrint</span><span class="Symbol">)</span> <span class="VarId">lets</span><span class="Symbol">)</span></pre></div></div></div><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Function">pf</span> <span class="Symbol">::</span> <span class="ConId">String</span> <span class="Symbol">-&gt;</span> <span class="ConId">IO</span> <span class="ConId">Module</span>
<span class="Function">pf</span> <span class="VarId">f</span> <span class="Symbol">=</span> <span class="Keyword">do</span>
  <span class="VarId">x</span> <span class="Symbol">&lt;-</span> <span class="VarId">parseFile</span> <span class="VarId">f</span>
  <span class="Keyword">case</span> <span class="VarId">x</span> <span class="Keyword">of</span>
        <span class="ConId">ParseOk</span> <span class="VarId">ast</span> <span class="Symbol">-&gt;</span> <span class="VarId">return</span> <span class="VarId">ast</span>
        <span class="VarId">e</span> <span class="Symbol">-&gt;</span> <span class="VarId">error</span> <span class="Symbol">$</span> <span class="VarId">show</span> <span class="VarId">e</span></pre></div></div></div><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Function">parserIntro</span> <span class="Symbol">::</span> <span class="ConId">String</span>
<span class="Function">parserIntro</span> <span class="Symbol">=</span> <span class="Symbol">[$</span><span class="VarId">here</span><span class="Symbol">|</span>

<span class="ConId">The</span> <span class="VarId">parser</span> <span class="VarId">examples</span> <span class="VarId">have</span> <span class="VarId">the</span> <span class="VarId">sql</span> <span class="VarId">source</span> <span class="VarId">on</span> <span class="VarId">the</span> <span class="VarId">left</span><span class="Symbol">,</span> <span class="VarId">and</span> <span class="VarId">the</span> <span class="VarId">ast</span> <span class="VarId">that</span> <span class="VarId">the</span> <span class="VarId">parser</span> <span class="VarId">produces</span>
<span class="Function">the</span> <span class="VarId">right</span><span class="Symbol">,</span> <span class="VarId">the</span> <span class="VarId">annotations</span> <span class="VarId">have</span> <span class="VarId">been</span> <span class="VarId">replaced</span> <span class="VarId">with</span> <span class="VarId">a</span> <span class="VarId">placeholder</span> '<span class="ConId">Ann'</span> <span class="VarId">to</span> <span class="VarId">avoid</span> <span class="VarId">clutter</span><span class="Symbol">.</span>

<span class="ConId">The</span> <span class="VarId">source</span> <span class="VarId">this</span> <span class="VarId">file</span> <span class="VarId">is</span> <span class="VarId">generated</span> <span class="VarId">from</span> <span class="VarId">is</span> <span class="VarId">here</span><span class="Symbol">:</span>
<span class="Symbol">[</span><span class="ConId">ParserTests.</span><span class="VarId">lhs</span><span class="Symbol">](</span><span class="VarId">source</span><span class="Symbol">/</span><span class="VarId">tests</span><span class="Symbol">/</span><span class="ConId">Database</span><span class="Symbol">/</span><span class="ConId">HsSqlPpp</span><span class="Symbol">/</span><span class="ConId">Tests</span><span class="Symbol">/</span><span class="ConId">ParserTests.</span><span class="VarId">lhs</span><span class="Symbol">.</span><span class="VarId">html</span><span class="Symbol">)</span>
<span class="Symbol">|]</span></pre></div></div></div><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Function">typeCheckIntro</span> <span class="Symbol">::</span> <span class="ConId">String</span>
<span class="Function">typeCheckIntro</span> <span class="Symbol">=</span> <span class="Symbol">[$</span><span class="VarId">here</span><span class="Symbol">|</span>

<span class="ConId">The</span> <span class="Keyword">type</span> <span class="VarId">checking</span> <span class="VarId">examples</span> <span class="VarId">have</span> <span class="VarId">the</span> <span class="VarId">sql</span> <span class="VarId">on</span> <span class="VarId">the</span> <span class="VarId">left</span> <span class="VarId">and</span> <span class="VarId">the</span> <span class="VarId">result</span> <span class="Keyword">of</span> <span class="Keyword">type</span> <span class="VarId">checking</span>
<span class="Function">on</span> <span class="VarId">the</span> <span class="VarId">right</span><span class="Symbol">.</span> <span class="ConId">Different</span> <span class="VarId">sections</span> <span class="VarId">are</span> <span class="VarId">using</span> <span class="VarId">different</span> <span class="VarId">tests</span><span class="Symbol">:</span>

<span class="Symbol">*</span> <span class="VarId">parse</span> <span class="VarId">and</span> <span class="Keyword">type</span> <span class="VarId">check</span> <span class="VarId">expression</span><span class="Symbol">,</span> <span class="VarId">return</span> <span class="VarId">either</span> <span class="Keyword">type</span> <span class="VarId">error</span> <span class="VarId">or</span> <span class="Keyword">type</span>
<span class="Symbol">*</span> <span class="VarId">parse</span> <span class="VarId">and</span> <span class="Keyword">type</span> <span class="VarId">check</span> <span class="VarId">a</span> <span class="VarId">list</span> <span class="Keyword">of</span> <span class="VarId">statements</span><span class="Symbol">,</span> <span class="VarId">return</span> <span class="VarId">either</span> <span class="Keyword">type</span> <span class="VarId">error</span> <span class="VarId">or</span> <span class="VarId">the</span> <span class="VarId">top</span> <span class="VarId">level</span> <span class="VarId">statement</span> <span class="Keyword">type</span> <span class="VarId">annotation</span>
<span class="Symbol">*</span> <span class="VarId">update</span> <span class="VarId">the</span> <span class="VarId">catalog</span><span class="Symbol">,</span> <span class="Keyword">then</span> <span class="VarId">check</span> <span class="VarId">a</span> <span class="VarId">list</span> <span class="Keyword">of</span> <span class="VarId">statements</span>
<span class="Symbol">*</span> <span class="VarId">parse</span> <span class="VarId">and</span> <span class="Keyword">type</span> <span class="VarId">check</span> <span class="VarId">some</span> <span class="VarId">ddl</span> <span class="VarId">statements</span><span class="Symbol">,</span> <span class="VarId">return</span> <span class="VarId">the</span> <span class="VarId">list</span> <span class="Keyword">of</span> <span class="VarId">catalog</span> <span class="VarId">updates</span> <span class="VarId">they</span> <span class="VarId">generate</span>

<span class="ConId">It's</span> <span class="VarId">a</span> <span class="VarId">bit</span> <span class="VarId">rough</span> <span class="VarId">at</span> <span class="VarId">the</span> <span class="VarId">moment</span><span class="Symbol">,</span> <span class="VarId">the</span> <span class="VarId">clarity</span> <span class="VarId">will</span> <span class="VarId">be</span> <span class="VarId">improved</span><span class="Symbol">.</span>

<span class="ConId">The</span> <span class="VarId">source</span> <span class="VarId">this</span> <span class="VarId">file</span> <span class="VarId">is</span> <span class="VarId">generated</span> <span class="VarId">from</span> <span class="VarId">is</span> <span class="VarId">here</span><span class="Symbol">:</span>
<span class="Symbol">[</span><span class="ConId">TypeCheckTests.</span><span class="VarId">lhs</span><span class="Symbol">](</span><span class="VarId">source</span><span class="Symbol">/</span><span class="VarId">tests</span><span class="Symbol">/</span><span class="ConId">Database</span><span class="Symbol">/</span><span class="ConId">HsSqlPpp</span><span class="Symbol">/</span><span class="ConId">Tests</span><span class="Symbol">/</span><span class="ConId">TypeCheckTests.</span><span class="VarId">lhs</span><span class="Symbol">.</span><span class="VarId">html</span><span class="Symbol">)</span>
<span class="Symbol">|]</span></pre></div></div></div><div class='sourceCode'><div class='literate'><div class='haskell'><pre class="sourceCode"><span class="Function">qqIntro</span> <span class="Symbol">::</span> <span class="ConId">String</span>
<span class="Function">qqIntro</span> <span class="Symbol">=</span> <span class="Symbol">[$</span><span class="VarId">here</span><span class="Symbol">|</span>

<span class="ConId">Pretty</span> <span class="VarId">rough</span> <span class="VarId">presentation</span><span class="Symbol">,</span> <span class="VarId">each</span> <span class="VarId">example</span> <span class="VarId">is</span> <span class="VarId">a</span> <span class="VarId">lets</span><span class="Symbol">,</span> <span class="VarId">with</span> <span class="VarId">a</span> <span class="VarId">pair</span> <span class="Keyword">of</span> <span class="VarId">sql</span>
<span class="Function">quasiquotes</span><span class="Symbol">:</span> <span class="VarId">one</span> <span class="VarId">with</span> <span class="VarId">antiquotes</span><span class="Symbol">,</span> <span class="VarId">and</span> <span class="VarId">one</span> <span class="VarId">with</span> <span class="VarId">the</span> <span class="VarId">resultant</span> <span class="VarId">sql</span> <span class="VarId">without</span> <span class="VarId">antiquotes</span><span class="Symbol">.</span>

<span class="ConId">The</span> <span class="VarId">source</span> <span class="VarId">this</span> <span class="VarId">file</span> <span class="VarId">is</span> <span class="VarId">generated</span> <span class="VarId">from</span> <span class="VarId">is</span> <span class="VarId">here</span><span class="Symbol">:</span>
<span class="Symbol">[</span><span class="ConId">QuasiQuoteTests.</span><span class="VarId">lhs</span><span class="Symbol">](</span><span class="VarId">source</span><span class="Symbol">/</span><span class="VarId">tests</span><span class="Symbol">/</span><span class="ConId">Database</span><span class="Symbol">/</span><span class="ConId">HsSqlPpp</span><span class="Symbol">/</span><span class="ConId">Tests</span><span class="Symbol">/</span><span class="ConId">QuasiQuoteTests.</span><span class="VarId">lhs</span><span class="Symbol">.</span><span class="VarId">html</span><span class="Symbol">)</span>
<span class="Symbol">|]</span></pre></div></div></div><br
     /><br
     /><br
     /><div class="footer"
    >generated on 01/31/11 20:00:52, hssqlppp-0.3.0</div
    ></body
  ></html
>
