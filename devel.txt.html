<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >devel</title
    ><link href="main.css" rel="stylesheet" type="text/css"
     /></head
  ><body
  ><div class="header"
    ><a href="index.html"
      >HsSqlPpp-0.3.1</a
      ></div
    ><br
     /><br
     /><br
     /><p
    >Here are some limited notes on working on the source of hssqlppp:</p
    >
<h1 id="get-the-source"
    >Get the source</h1
    >
<p
    >Please use the code from git to develop with, one way to get the code is to run:</p
    >
<pre
    ><code
      >git clone https://github.com/JakeWheat/hssqlppp.git
</code
      ></pre
    >
<h1 id="build-the-library"
    >Build the library</h1
    >
<p
    >Once you have the source, build using cabal</p
    >
<pre
    ><code
      >cabal configure &amp;&amp; cabal build
</code
      ></pre
    >
<h1 id="rebuild-the-generated-files-for-the-syntax"
    >Rebuild the generated files for the syntax</h1
    >
<p
    >If you edit the ag files, use the build.sh script. This rebuilds two of the generated files: AstInternal.hs which is generated from the .ag files, and AstAnti.hs which is generated from AstInternal.hs.</p
    >
<p
    >There is one further generated file, DefaultTemplate1Catalog.lhs. There isn't a straightforward way to rebuild this at the moment.</p
    >
<h1 id="build-and-run-the-tests"
    >Build and run the tests</h1
    >
<p
    >To build and run the tests, first install the hssqlppp library, then use:</p
    >
<pre
    ><code
      >cd src-extra/tests
cabal configure &amp;&amp; cabal build
dist/build/Tests/Tests
</code
      ></pre
    >
<p
    >There are a lot of regressions which haven't been fixed, so expect lots of failures (~50). These should all be typechecking failures.</p
    >
<h1 id="background-reading"
    >Background reading</h1
    >
<p
    >The main components used in hssqlppp are: parsec, uuagc, generics, quasiquoting, pretty printing.</p
    >
<p
    >Parsec is used for parsing: Here is a outdated tutorial for parsec which isn't too bad for getting started: <a href="http://legacy.cs.uu.nl/daan/parsec.html"
      ><code class="url"
	>http://legacy.cs.uu.nl/daan/parsec.html</code
	></a
      ></p
    >
<p
    >Chapter in Real World Haskell on parsec: <a href="http://book.realworldhaskell.org/read/using-parsec.html"
      ><code class="url"
	>http://book.realworldhaskell.org/read/using-parsec.html</code
	></a
      ></p
    >
<p
    >UUAGC is used to assist the typechecking. It is also used to define the ast data types: <a href="http://www.cs.uu.nl/wiki/bin/view/HUT/AttributeGrammarSystem"
      ><code class="url"
	>http://www.cs.uu.nl/wiki/bin/view/HUT/AttributeGrammarSystem</code
	></a
      ></p
    >
<p
    >A tutorial, not that easy to follow: <a href="http://www.cs.uu.nl/wiki/bin/view/HUT/AttributeGrammarManual"
      ><code class="url"
	>http://www.cs.uu.nl/wiki/bin/view/HUT/AttributeGrammarManual</code
	></a
      ></p
    >
<p
    >Pretty printing: <a href="http://hackage.haskell.org/package/pretty"
      ><code class="url"
	>http://hackage.haskell.org/package/pretty</code
	></a
      ></p
    >
<p
    >Generics: Just uses a bit of this at the moment, mostly uses uniplate: <a href="http://community.haskell.org/~ndm/uniplate/"
      ><code class="url"
	>http://community.haskell.org/~ndm/uniplate/</code
	></a
      ></p
    >
<p
    >Quasiquotation: <a href="http://www.haskell.org/haskellwiki/Quasiquotation"
      ><code class="url"
	>http://www.haskell.org/haskellwiki/Quasiquotation</code
	></a
      ></p
    >
<p
    >The automated tests use test-framework and HUnit.</p
    >
<h1 id="source-overview"
    >Source overview</h1
    >
<p
    >weird bits:</p
    >
<ul
    >
<li
      >uuagc</li
      >
<li
      >astanti</li
      >
<li
      >lexing/parsing split</li
      >
<li
      >typechecker: fixupidentifiers</li
      >
</ul
    >
<p
    >TODO: make this less cryptic</p
    >
<p
    >A short guide on <a href="adding_syntax.txt.html"
      >adding Syntax</a
      >.</p
    ><br
     /><br
     /><br
     /><div class="footer"
    >generated on 08/13/11 13:03:26, hssqlppp-0.3.1</div
    ></body
  ></html
>
